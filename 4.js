webpackJsonp([4],{1171:function(e,t,n){"use strict";function a(e){function t(){l.add(e,"ps-focus")}function n(){l.remove(e,"ps-focus")}var a=this;a.settings=s.clone(c),a.containerWidth=null,a.containerHeight=null,a.contentWidth=null,a.contentHeight=null,a.isRtl="rtl"===u.css(e,"direction"),a.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),a.negativeScrollAdjustment=a.isNegativeScroll?e.scrollWidth-e.clientWidth:0,a.event=new p,a.ownerDocument=e.ownerDocument||document,a.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),e),a.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),a.scrollbarXRail),a.scrollbarX.setAttribute("tabindex",0),a.event.bind(a.scrollbarX,"focus",t),a.event.bind(a.scrollbarX,"blur",n),a.scrollbarXActive=null,a.scrollbarXWidth=null,a.scrollbarXLeft=null,a.scrollbarXBottom=s.toInt(u.css(a.scrollbarXRail,"bottom")),a.isScrollbarXUsingBottom=a.scrollbarXBottom===a.scrollbarXBottom,a.scrollbarXTop=a.isScrollbarXUsingBottom?null:s.toInt(u.css(a.scrollbarXRail,"top")),a.railBorderXWidth=s.toInt(u.css(a.scrollbarXRail,"borderLeftWidth"))+s.toInt(u.css(a.scrollbarXRail,"borderRightWidth")),u.css(a.scrollbarXRail,"display","block"),a.railXMarginWidth=s.toInt(u.css(a.scrollbarXRail,"marginLeft"))+s.toInt(u.css(a.scrollbarXRail,"marginRight")),u.css(a.scrollbarXRail,"display",""),a.railXWidth=null,a.railXRatio=null,a.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),e),a.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),a.scrollbarYRail),a.scrollbarY.setAttribute("tabindex",0),a.event.bind(a.scrollbarY,"focus",t),a.event.bind(a.scrollbarY,"blur",n),a.scrollbarYActive=null,a.scrollbarYHeight=null,a.scrollbarYTop=null,a.scrollbarYRight=s.toInt(u.css(a.scrollbarYRail,"right")),a.isScrollbarYUsingRight=a.scrollbarYRight===a.scrollbarYRight,a.scrollbarYLeft=a.isScrollbarYUsingRight?null:s.toInt(u.css(a.scrollbarYRail,"left")),a.scrollbarYOuterWidth=a.isRtl?s.outerWidth(a.scrollbarY):null,a.railBorderYWidth=s.toInt(u.css(a.scrollbarYRail,"borderTopWidth"))+s.toInt(u.css(a.scrollbarYRail,"borderBottomWidth")),u.css(a.scrollbarYRail,"display","block"),a.railYMarginHeight=s.toInt(u.css(a.scrollbarYRail,"marginTop"))+s.toInt(u.css(a.scrollbarYRail,"marginBottom")),u.css(a.scrollbarYRail,"display",""),a.railYHeight=null,a.railYRatio=null}function r(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function i(e){e.removeAttribute("data-ps-id")}var s=n(1173),l=n(1177),c=n(1196),u=n(1176),p=n(1193),d=n(1194),f={};t.add=function(e){var t=d();return o(e,t),f[t]=new a(e),f[t]},t.remove=function(e){delete f[r(e)],i(e)},t.get=function(e){return f[r(e)]}},1173:function(e,t,n){"use strict";var a=n(1177),r=n(1176),o=t.toInt=function(e){return parseInt(e,10)||0},i=t.clone=function(e){if(e){if(e.constructor===Array)return e.map(i);if("object"==typeof e){var t={};for(var n in e)t[n]=i(e[n]);return t}return e}return null};t.extend=function(e,t){var n=i(e);for(var a in t)n[a]=i(t[a]);return n},t.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=a.list(e),n=0;n<t.length;n++){var r=t[n];0===r.indexOf("ps-")&&a.remove(e,r)}},t.outerWidth=function(e){return o(r.css(e,"width"))+o(r.css(e,"paddingLeft"))+o(r.css(e,"paddingRight"))+o(r.css(e,"borderLeftWidth"))+o(r.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){a.add(e,"ps-in-scrolling"),void 0!==t?a.add(e,"ps-"+t):(a.add(e,"ps-x"),a.add(e,"ps-y"))},t.stopScrolling=function(e,t){a.remove(e,"ps-in-scrolling"),void 0!==t?a.remove(e,"ps-"+t):(a.remove(e,"ps-x"),a.remove(e,"ps-y"))},t.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},1174:function(e,t,n){"use strict";function a(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function r(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,n);var a={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,a),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=n(1173),i=n(1177),s=n(1176),l=n(1171),c=n(1175);e.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=s.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=s.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=a(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=a(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),r(e,t),t.scrollbarXActive?i.add(e,"ps-active-x"):(i.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?i.add(e,"ps-active-y"):(i.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},1175:function(e,t,n){"use strict";var a,r,o=n(1171),i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(i("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(i("ps-x-reach-start")));var s=o.get(e);"top"===t&&n>=s.contentHeight-s.containerHeight&&(n=s.contentHeight-s.containerHeight,n-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(i("ps-y-reach-end"))),"left"===t&&n>=s.contentWidth-s.containerWidth&&(n=s.contentWidth-s.containerWidth,n-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(i("ps-x-reach-end"))),a||(a=e.scrollTop),r||(r=e.scrollLeft),"top"===t&&n<a&&e.dispatchEvent(i("ps-scroll-up")),"top"===t&&n>a&&e.dispatchEvent(i("ps-scroll-down")),"left"===t&&n<r&&e.dispatchEvent(i("ps-scroll-left")),"left"===t&&n>r&&e.dispatchEvent(i("ps-scroll-right")),"top"===t&&(e.scrollTop=a=n,e.dispatchEvent(i("ps-scroll-y"))),"left"===t&&(e.scrollLeft=r=n,e.dispatchEvent(i("ps-scroll-x")))}},1176:function(e,t,n){"use strict";function a(e,t){return window.getComputedStyle(e)[t]}function r(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function o(e,t){for(var n in t){var a=t[n];"number"==typeof a&&(a=a.toString()+"px"),e.style[n]=a}return e}var i={};i.e=function(e,t){var n=document.createElement(e);return n.className=t,n},i.appendTo=function(e,t){return t.appendChild(e),e},i.css=function(e,t,n){return"object"==typeof t?o(e,t):void 0===n?a(e,t):r(e,t,n)},i.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},i.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},i.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return i.matches(e,t)})},e.exports=i},1177:function(e,t,n){"use strict";function a(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function r(e,t){var n=e.className.split(" "),a=n.indexOf(t);a>=0&&n.splice(a,1),e.className=n.join(" ")}t.add=function(e,t){e.classList?e.classList.add(t):a(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):r(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},1181:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(18),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:!1,listener:!1},n.onBodyClick=n.onBodyClick.bind(n),n}return o(t,e),c(t,[{key:"componentDidMount",value:function(){this._setListener()}},{key:"shouldComponentUpdate",value:function(e,t){return!l.a.are_equal_shallow(e.entries,this.props.entries)||!l.a.are_equal_shallow(t,this.state)||e.value!==this.props.value}},{key:"_setListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;e.entries.length>1&&!t.listener&&(document.body.addEventListener("click",this.onBodyClick,{capture:!1,passive:!0}),this.setState({listener:!0}))}},{key:"componentWillReceiveProps",value:function(e){this._setListener(e)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.onBodyClick)}},{key:"onBodyClick",value:function(e){var t=e.target,n=!1;do{if(t.classList&&t.classList.contains("dropdown")&&t.id===this.props.id){n=!0;break}}while(t=t.parentNode);n||this.setState({active:!1})}},{key:"onChange",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}},{key:"_toggleDropdown",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){var e=this,t=this.props,n=t.entries,a=t.value,r=this.state.active;if(0===n.length)return null;if(1==n.length)return s.a.createElement("div",{className:"dropdown-wrapper inactive"},s.a.createElement("div",null,this.props.singleEntry?this.props.singleEntry:n[0]));var o=n.map(function(t){return s.a.createElement("li",{key:t,onClick:e.onChange.bind(e,e.props.values[t])},s.a.createElement("span",null,t))});return s.a.createElement("div",{onClick:this._toggleDropdown.bind(this),className:"dropdown-wrapper"+(r?" active":"")},s.a.createElement("div",{style:{paddingRight:15}},a?a:s.a.createElement("span",{className:"hidden"},"A")),s.a.createElement("ul",{className:"dropdown"},o))}}]),t}(s.a.Component);t.a=u},1185:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(109),c=n(45),u=n(44),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance")),t=this.props.balance.get("asset_type");return s.a.createElement(l.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace})}}]),t}(s.a.Component);d.propTypes={balance:c.a.ChainObject.isRequired,assetInfo:s.a.PropTypes.node},t.a=n.i(u.a)(d,{keep_updating:!0})},1186:function(e,t,n){"use strict";e.exports=n(1195)},1189:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(20),c=n.n(l),u=n(45),p=n(44),d=n(109),f=n(1181),h=n(25),m=n.n(h),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:s.a.createElement(f.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?s.a.createElement(d.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}(s.a.Component);b.propTypes={assets:u.a.ChainAssetsList,value:s.a.PropTypes.string,onChange:s.a.PropTypes.func},b=n.i(p.a)(b);var g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){e||(e=""),"number"==typeof e&&(e=e.toString());for(var t=e.trim().replace(/,/g,"");"00"==t.substring(0,2);)t=t.substring(1);if("."===t[0])t="0"+t;else if(t.length){var n=Number(t);if(isNaN(n)&&(t=parseFloat(t),isNaN(t)))return"";var a=(t+"").split(".");t=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.length>1&&(t+="."+a[1])}return t}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.formatAmount(this.props.amount);return s.a.createElement("div",{className:"amount-selector",style:this.props.style},s.a.createElement("label",{className:"right-label"},this.props.display_balance),s.a.createElement(c.a,{className:"left-label",component:"label",content:this.props.label}),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{disabled:this.props.disabled,type:"text",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex}),s.a.createElement("div",{className:"form-label select floating-dropdown"},s.a.createElement(b,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:m.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}(s.a.Component);g.propTypes={label:s.a.PropTypes.string,asset:u.a.ChainAsset.isRequired,assets:s.a.PropTypes.array,amount:s.a.PropTypes.any,placeholder:s.a.PropTypes.string,onChange:s.a.PropTypes.func.isRequired,tabIndex:s.a.PropTypes.number},g.defaultProps={disabled:!1},g=n.i(p.a)(g),t.a=g},1192:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(1211),c=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?s.a.createElement(c.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):s.a.createElement(this.props.component)}}]),t}(s.a.Component);p.defaultProps={component:"span",enterTimeout:2e3},t.a=p},1193:function(e,t,n){"use strict";var a=function(e){this.element=e,this.events={}};a.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},a.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter(function(a){return!(!n||a===t)||(this.element.removeEventListener(e,a,!1),!1)},this)},a.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new a(e),this.eventElements.push(t)),t},r.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},r.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},r.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},r.prototype.once=function(e,t,n){var a=this.eventElement(e),r=function(e){a.unbind(t,r),n(e)};a.bind(t,r)},e.exports=r},1194:function(e,t,n){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},1195:function(e,t,n){"use strict";var a=n(1197),r=n(1205),o=n(1206);e.exports={initialize:r,update:o,destroy:a}},1196:function(e,t,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},1197:function(e,t,n){"use strict";var a=n(1173),r=n(1176),o=n(1171);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),a.removePsClasses(e),o.remove(e))}},1198:function(e,t,n){"use strict";function a(e,t){function n(e){return e.getBoundingClientRect()}var a=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",a),t.event.bind(t.scrollbarYRail,"click",function(a){var r=a.pageY-window.pageYOffset-n(t.scrollbarYRail).top,s=r>t.scrollbarYTop?1:-1;i(e,"top",e.scrollTop+s*t.containerHeight),o(e),a.stopPropagation()}),t.event.bind(t.scrollbarX,"click",a),t.event.bind(t.scrollbarXRail,"click",function(a){var r=a.pageX-window.pageXOffset-n(t.scrollbarXRail).left,s=r>t.scrollbarXLeft?1:-1;i(e,"left",e.scrollLeft+s*t.containerWidth),o(e),a.stopPropagation()})}var r=n(1171),o=n(1174),i=n(1175);e.exports=function(e){a(e,r.get(e))}},1199:function(e,t,n){"use strict";function a(e,t){function n(n){var r=a+n*t.railXRatio,i=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=r<0?0:r>i?i:r,c(e,"left",o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment)}var a=null,r=null,s=function(t){n(t.pageX-r),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(n){r=n.pageX,a=o.toInt(i.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function r(e,t){function n(n){var r=a+n*t.railYRatio,i=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=r<0?0:r>i?i:r,c(e,"top",o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight)))}var a=null,r=null,s=function(t){n(t.pageY-r),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(n){r=n.pageY,a=o.toInt(i.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=n(1173),i=n(1176),s=n(1171),l=n(1174),c=n(1175);e.exports=function(e){var t=s.get(e);a(e,t),r(e,t)}},1200:function(e,t,n){"use strict";function a(e,t){function n(n,a){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&a>0||r>=t.contentHeight-t.containerHeight&&a<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===a){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var a=!1;t.event.bind(e,"mouseenter",function(){a=!0}),t.event.bind(e,"mouseleave",function(){a=!1});var i=!1;t.event.bind(t.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var u=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(a||u){var p=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(p){if("IFRAME"===p.tagName)p=p.contentDocument.activeElement;else for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(r.isEditable(p))return}var d=0,f=0;switch(c.which){case 37:d=c.metaKey?-t.contentWidth:c.altKey?-t.containerWidth:-30;break;case 38:f=c.metaKey?t.contentHeight:c.altKey?t.containerHeight:30;break;case 39:d=c.metaKey?t.contentWidth:c.altKey?t.containerWidth:30;break;case 40:f=c.metaKey?-t.contentHeight:c.altKey?-t.containerHeight:-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:f=c.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-f),l(e,"left",e.scrollLeft+d),s(e),i=n(d,f),i&&c.preventDefault()}}})}var r=n(1173),o=n(1176),i=n(1171),s=n(1174),l=n(1175);e.exports=function(e){a(e,i.get(e))}},1201:function(e,t,n){"use strict";function a(e,t){function n(n,a){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&a>0||r>=t.contentHeight-t.containerHeight&&a<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===a){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function a(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function r(t,n){var a=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(a){if(a.className.match(/ps-must-propagate/))return!0;if(!window.getComputedStyle(a).overflow.match(/(scroll|auto)/))return!1;var r=a.scrollHeight-a.clientHeight;if(r>0&&!(0===a.scrollTop&&n>0||a.scrollTop===r&&n<0))return!0;var o=a.scrollLeft-a.clientWidth;if(o>0&&!(0===a.scrollLeft&&t<0||a.scrollLeft===o&&t>0))return!0}return!1}function s(s){var c=a(s),u=c[0],p=c[1];r(u,p)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(p?i(e,"top",e.scrollTop-p*t.settings.wheelSpeed):i(e,"top",e.scrollTop+u*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(u?i(e,"left",e.scrollLeft+u*t.settings.wheelSpeed):i(e,"left",e.scrollLeft-p*t.settings.wheelSpeed),l=!0):(i(e,"top",e.scrollTop-p*t.settings.wheelSpeed),i(e,"left",e.scrollLeft+u*t.settings.wheelSpeed)),o(e),(l=l||n(u,p))&&(s.stopPropagation(),s.preventDefault()))}var l=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",s):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var r=n(1171),o=n(1174),i=n(1175);e.exports=function(e){a(e,r.get(e))}},1202:function(e,t,n){"use strict";function a(e,t){t.event.bind(e,"scroll",function(){o(e)})}var r=n(1171),o=n(1174);e.exports=function(e){a(e,r.get(e))}},1203:function(e,t,n){"use strict";function a(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function a(){c||(c=setInterval(function(){if(!o.get(e))return void clearInterval(c);s(e,"top",e.scrollTop+u.top),s(e,"left",e.scrollLeft+u.left),i(e)},50))}function l(){c&&(clearInterval(c),c=null),r.stopScrolling(e)}var c=null,u={top:0,left:0},p=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?p=!0:(p=!1,l())}),t.event.bind(window,"mouseup",function(){p&&(p=!1,l())}),t.event.bind(window,"keyup",function(){p&&(p=!1,l())}),t.event.bind(window,"mousemove",function(t){if(p){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(u.left=-5,r.startScrolling(e,"x")):n.x>o.right-3?(u.left=5,r.startScrolling(e,"x")):u.left=0,n.y<o.top+3?(o.top+3-n.y<5?u.top=-5:u.top=-20,r.startScrolling(e,"y")):n.y>o.bottom-3?(n.y-o.bottom+3<5?u.top=5:u.top=20,r.startScrolling(e,"y")):u.top=0,0===u.top&&0===u.left?l():a()}})}var r=n(1173),o=n(1171),i=n(1174),s=n(1175);e.exports=function(e){a(e,o.get(e))}},1204:function(e,t,n){"use strict";function a(e,t,n,a){function r(n,a){var r=e.scrollTop,o=e.scrollLeft,i=Math.abs(n),s=Math.abs(a);if(s>i){if(a<0&&r===t.contentHeight-t.containerHeight||a>0&&0===r)return!t.settings.swipePropagation}else if(i>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,n){s(e,"top",e.scrollTop-n),s(e,"left",e.scrollLeft-t),i(e)}function c(){_=!0}function u(){_=!1}function p(e){return e.targetTouches?e.targetTouches[0]:e}function d(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function f(e){if(d(e)){E=!0;var t=p(e);v.pageX=t.pageX,v.pageY=t.pageY,b=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function h(e){if(!E&&t.settings.swipePropagation&&f(e),!_&&E&&d(e)){var n=p(e),a={pageX:n.pageX,pageY:n.pageY},o=a.pageX-v.pageX,i=a.pageY-v.pageY;l(o,i),v=a;var s=(new Date).getTime(),c=s-b;c>0&&(g.x=o/c,g.y=i/c,b=s),r(o,i)&&(e.stopPropagation(),e.preventDefault())}}function m(){!_&&E&&(E=!1,clearInterval(y),y=setInterval(function(){return o.get(e)&&(g.x||g.y)?Math.abs(g.x)<.01&&Math.abs(g.y)<.01?void clearInterval(y):(l(30*g.x,30*g.y),g.x*=.8,void(g.y*=.8)):void clearInterval(y)},10))}var v={},b=0,g={},y=null,_=!1,E=!1;n?(t.event.bind(window,"touchstart",c),t.event.bind(window,"touchend",u),t.event.bind(e,"touchstart",f),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",m)):a&&(window.PointerEvent?(t.event.bind(window,"pointerdown",c),t.event.bind(window,"pointerup",u),t.event.bind(e,"pointerdown",f),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",c),t.event.bind(window,"MSPointerUp",u),t.event.bind(e,"MSPointerDown",f),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",m)))}var r=n(1173),o=n(1171),i=n(1174),s=n(1175);e.exports=function(e){if(r.env.supportsTouch||r.env.supportsIePointer){a(e,o.get(e),r.env.supportsTouch,r.env.supportsIePointer)}}},1205:function(e,t,n){"use strict";var a=n(1173),r=n(1177),o=n(1171),i=n(1174),s={"click-rail":n(1198),"drag-scrollbar":n(1199),keyboard:n(1200),wheel:n(1201),touch:n(1204),selection:n(1203)},l=n(1202);e.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps-container");var n=o.add(e);n.settings=a.extend(n.settings,t),r.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){s[t](e)}),l(e),i(e)}},1206:function(e,t,n){"use strict";var a=n(1173),r=n(1176),o=n(1171),i=n(1174),s=n(1175);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=a.toInt(r.css(t.scrollbarXRail,"marginLeft"))+a.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=a.toInt(r.css(t.scrollbarYRail,"marginTop"))+a.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),i(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail,"display",""))}},1210:function(e,t,n){var a,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},a=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in a,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},u=function(e,t,n){t=[].concat(t);for(var a=t.length;a--;){var r=e["on"+t[a]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){l(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(t,l,d){d||(t=p(t));var f,h=this,m=t.type,v="application/octet-stream"===m,b=function(){u(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,r)return f=n().createObjectURL(t),void setTimeout(function(){a.href=f,a.download=l,o(a),b(),c(f),h.readyState=h.DONE});!function(){if((s||v&&i)&&e.FileReader){var a=new FileReader;return a.onloadend=function(){var t=s?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,b()},a.readAsDataURL(t),void(h.readyState=h.INIT)}if(f||(f=n().createObjectURL(t)),v)e.location.href=f;else{e.open(f,"_blank")||(e.location.href=f)}h.readyState=h.DONE,b(),c(f)}()},f=d.prototype,h=function(e,t,n){return new d(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=r:null!==n(1219)&&null!==n(1220)&&void 0!==(a=function(){return r}.call(t,n,t,e))&&(e.exports=a)},1211:function(e,t,n){e.exports=n(1213)},1212:function(e,t,n){"use strict";var a=n(387);t.getReactDOM=function(){return a}},1213:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=n(10),l=n(89),c=n(1216),u=n(1214),p=function(e){function t(){var n,o,i;a(this,t);for(var s=arguments.length,c=Array(s),p=0;p<s;p++)c[p]=arguments[p];return n=o=r(this,e.call.apply(e,[this].concat(c))),o._wrapChild=function(e){return l.createElement(u,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},i=n,r(o,i)}return o(t,e),t.prototype.render=function(){return l.createElement(c,s({},this.props,{childFactory:this._wrapChild}))},t}(l.Component);p.displayName="ReactCSSTransitionGroup",p.propTypes={transitionName:u.propTypes.name,transitionAppear:l.PropTypes.bool,transitionEnter:l.PropTypes.bool,transitionLeave:l.PropTypes.bool,transitionAppearTimeout:i("Appear"),transitionEnterTimeout:i("Enter"),transitionLeaveTimeout:i("Leave")},p.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.exports=p},1214:function(e,t,n){"use strict";var a=n(89),r=n(1212),o=n(1218),i=n(389),s=n(390),l=a.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.shape({enter:a.PropTypes.string,leave:a.PropTypes.string,active:a.PropTypes.string}),a.PropTypes.shape({enter:a.PropTypes.string,enterActive:a.PropTypes.string,leave:a.PropTypes.string,leaveActive:a.PropTypes.string,appear:a.PropTypes.string,appearActive:a.PropTypes.string})]).isRequired,appear:a.PropTypes.bool,enter:a.PropTypes.bool,leave:a.PropTypes.bool,appearTimeout:a.PropTypes.number,enterTimeout:a.PropTypes.number,leaveTimeout:a.PropTypes.number},transition:function(e,t,n){var a=r.getReactDOM().findDOMNode(this);if(!a)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||s+"-active",c=null,u=function(e){e&&e.target!==a||(clearTimeout(c),o.removeClass(a,s),o.removeClass(a,l),i.removeEndEventListener(a,u),t&&t())};o.addClass(a,s),this.queueClassAndNode(l,a),n?(c=setTimeout(u,n),this.transitionTimeouts.push(c)):i.addEndEventListener(a,u)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,17))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){o.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});e.exports=l},1215:function(e,t,n){"use strict";var a=n(1217),r={getChildMapping:function(e,t){return e?a(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var a={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(a[o]=r,r=[]):r.push(o);var i,s={};for(var l in t){if(a.hasOwnProperty(l))for(i=0;i<a[l].length;i++){var c=a[l][i];s[a[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<r.length;i++)s[r[i]]=n(r[i]);return s}};e.exports=r},1216:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(10),s=n(89),l=n(1215),c=n(167),u=function(e){function t(){var n,o,s;a(this,t);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return n=o=r(this,e.call.apply(e,[this].concat(u))),o.state={children:l.getChildMapping(o.props.children)},o.performAppear=function(e){o.currentlyTransitioningKeys[e]=!0;var t=o.refs[e];t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e)):o._handleDoneAppearing(e)},o._handleDoneAppearing=function(e){var t=o.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=l.getChildMapping(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e)},o.performEnter=function(e){o.currentlyTransitioningKeys[e]=!0;var t=o.refs[e];t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e)):o._handleDoneEntering(e)},o._handleDoneEntering=function(e){var t=o.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=l.getChildMapping(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e)},o.performLeave=function(e){o.currentlyTransitioningKeys[e]=!0;var t=o.refs[e];t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e)):o._handleDoneLeaving(e)},o._handleDoneLeaving=function(e){var t=o.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=l.getChildMapping(o.props.children);n&&n.hasOwnProperty(e)?o.performEnter(e):o.setState(function(t){var n=i({},t.children);return delete n[e],{children:n}})},s=n,r(o,s)}return o(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t=l.getChildMapping(e.children),n=this.state.children;this.setState({children:l.mergeChildMappings(n,t)});var a;for(a in t){var r=n&&n.hasOwnProperty(a);!t[a]||r||this.currentlyTransitioningKeys[a]||this.keysToEnter.push(a)}for(a in n){var o=t&&t.hasOwnProperty(a);!n[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var a=i({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,s.createElement(this.props.component,a,e)},t}(s.Component);u.displayName="ReactTransitionGroup",u.propTypes={component:s.PropTypes.any,childFactory:s.PropTypes.func},u.defaultProps={component:"span",childFactory:c.thatReturnsArgument},e.exports=u},1217:function(e,t,n){"use strict";(function(t){function a(e,t,n,a){if(e&&"object"==typeof e){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}}function r(e,t){if(null==e)return e;var n={};return o(e,a,n),n}var o=(n(388),n(391));n(65);void 0!==t&&n.i({NODE_ENV:"production"}),e.exports=r}).call(t,n(39))},1218:function(e,t,n){"use strict";function a(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var a=n.querySelectorAll(t);return Array.prototype.indexOf.call(a,e)!==-1}var r=n(92),o={addClass:function(e,t){return/\s/.test(t)&&r(!1),t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)&&r(!1),t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)&&r(!1),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return a(e,t)}).call(e,t)}};e.exports=o},1219:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1220:function(e,t){(function(t){e.exports=t}).call(t,{})},1223:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.b.BASE+h.b.COINS_LIST;return fetch(e).then(function(e){return e.json().then(function(e){return e})}).catch(function(t){console.log("error fetching blocktrades list of coins",t,e)})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.b.BASE+h.b.ACTIVE_WALLETS;return fetch(e).then(function(e){return e.json().then(function(e){return e})}).catch(function(t){console.log("error fetching blocktrades active wallets",t,e)})}function o(e){var t=e.inputCoinType,n=e.outputCoinType,a=e.outputAddress,r=e.url,o=void 0===r?h.b.BASE_OL:r,i=e.stateCallback,s={inputCoinType:t,outputCoinType:n,outputAddress:a},l=JSON.stringify(s);fetch(o+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:l}).then(function(e){e.json().then(function(e){var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};i&&i(t)},function(e){i&&i({address:"unknown",memo:null})})},function(e){i&&i({address:"unknown",memo:null})}).catch(function(e){console.log("fetch error:",e)})}function i(e){var t=e.allCoins,n=e.backer,a={};t.forEach(function(e){return a[e.coinType]=e});var r=[];return t.forEach(function(e){e.walletSymbol.startsWith(n+".")&&e.backingCoinType&&a[e.backingCoinType]&&r.push({name:a[e.backingCoinType].name,walletType:a[e.backingCoinType].walletType,backingCoinType:a[e.backingCoinType].walletSymbol,symbol:e.walletSymbol,supportsMemos:a[e.backingCoinType].supportsOutputMemos})}),r}function s(e){var t=e.url,n=void 0===t?h.b.BASE:t,a=e.walletType,r=e.newAddress;return r?fetch(n+"/wallets/"+a+"/address-validator?address="+encodeURIComponent(r),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e.isValid})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}function l(e){return m.has("history_address_"+e)}function c(e){var t=e.wallet,n=e.addresses;m.set("history_address_"+t,n)}function u(e){return m.get("history_address_"+e,[])}function p(e){var t=e.wallet,n=e.address;m.set("history_address_last_"+t,n)}function d(e){return m.get("history_address_last_"+e,"")}var f=n(93),h=n(394);t.a=a,t.b=r,t.f=o,t.c=i,t.e=s,n.d(t,"d",function(){return v});var m=new f.a(""),v={has:l,set:c,get:u,setLast:p,getLast:d}},1228:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return t.block_num===e.block_num?t.virtual_op-e.virtual_op:t.block_num-e.block_num}function s(e){return e?'"'+e.textContent.replace(/[\s\t\r\n]/gi," ")+'"':""}var l=n(1),c=n.n(l),u=n(20),p=n.n(u),d=n(1210),f=(n.n(d),n(392)),h=n(45),m=n(44),v=n(18),b=n(6),g=n(1192),y=n(1186),_=n.n(y),E=n(24),w=n.n(E);n.d(t,"b",function(){return O}),n.d(t,"a",function(){return A});var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),T=b.a.operations,O=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={limit:e.limit||20,csvExport:!1,headerHeight:85,filter:"all"},n}return o(t,e),k(t,[{key:"componentDidMount",value:function(){if(!this.props.fullHeight){var e=this.refs.transactions;_.a.initialize(e),this._setHeaderHeight()}}},{key:"_setHeaderHeight",value:function(){var e=this.refs.header.offsetHeight;e!==this.state.headerHeight&&this.setState({headerHeight:e})}},{key:"shouldComponentUpdate",value:function(e,t){if(!v.a.are_equal_shallow(this.props.accountsList,e.accountsList))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(this.state.headerHeight!==t.headerHeight)return!0;if(this.state.filter!==t.filter)return!0;if(this.props.customFilter&&(!v.a.are_equal_shallow(this.props.customFilter.fields,e.customFilter.fields)||!v.a.are_equal_shallow(this.props.customFilter.values,e.customFilter.values)))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(t.limit!==this.state.limit||t.csvExport!==this.state.csvExport)return!0;for(var n=0;n<e.accountsList.length;++n){var a=e.accountsList[n],r=this.props.accountsList[n];if(a&&r&&a.get("history")!==r.get("history"))return!0}return!1}},{key:"componentDidUpdate",value:function(){if(this.state.csvExport){this.state.csvExport=!1;var e=document.getElementById("csv_export_container"),t=e.childNodes,a="",r=!0,o=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value,p=u.childNodes;""!==a&&(a+="\n"),a+=[s(p[0]),s(p[1]),s(p[2]),s(p[3])].join(",")}}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}var f=new Blob([a],{type:"text/csv;charset=utf-8"}),h=new Date;n.i(d.saveAs)(f,"btshist-"+h.getFullYear()+"-"+h.getMonth()+"-"+h.getDate()+".csv")}if(!this.props.fullHeight){var m=this.refs.transactions;_.a.update(m),this._setHeaderHeight()}}},{key:"_onIncreaseLimit",value:function(){this.setState({limit:this.state.limit+30})}},{key:"_getHistory",value:function(e,t,n){var a=[],r=new Set,o=!0,i=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u){var p=u.get("history");p&&(a=a.concat(p.toJS().filter(function(e){return!r.has(e.id)&&r.add(e.id)})))}}}catch(e){i=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw s}}return t&&(a=a.filter(function(e){return e.op[0]===T[t]})),n&&(a=a.filter(function(e){return n.fields.reduce(function(t,a){switch(a){case"asset_id":return t&&e.op[1].amount[a]===n.values[a];default:return t&&e.op[1][a]===n.values[a]}},!0)})),a}},{key:"_downloadCSV",value:function(){this.setState({csvExport:!0})}},{key:"_onChangeFilter",value:function(e){this.setState({filter:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.accountsList,n=e.compactView,a=e.filter,r=e.customFilter,o=e.style,s=e.maxHeight,l=this.state,u=l.limit,d=l.headerHeight,h=1===t.length&&t[0]?t[0].get("id"):null,m=this._getHistory(t,this.props.showFilters&&"all"!==this.state.filter?this.state.filter:a,r).sort(i),v=m.length;o=o?o:{},o.width="100%",o.height="100%";var b=null;b=["all","transfer","limit_order_create","limit_order_cancel","fill_order","account_create","account_update","asset_create","witness_withdraw_pay","vesting_balance_withdraw"].map(function(e){return c.a.createElement("option",{value:e,key:e},w.a.translate("transaction.trxTypes."+e))});var y=m.length?m.slice(0,u).map(function(e){return c.a.createElement(f.a,{key:e.id,op:e.op,result:e.result,block:e.block_num,current:h,hideFee:!0,inverted:!1,hideOpLabel:n})}):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:n?"2":"3"},c.a.createElement(p.a,{content:"operation.no_recent"})));return c.a.createElement("div",{className:"recent-transactions no-overflow",style:o},c.a.createElement("div",{className:"generic-bordered-box"},c.a.createElement("div",{ref:"header"},c.a.createElement("div",{className:"block-content-header"},c.a.createElement("span",null,this.props.title?this.props.title:c.a.createElement(p.a,{content:"account.recent"})),v>0?c.a.createElement("span",{style:{fontSize:"60%",textTransform:"lowercase"}}," (",c.a.createElement("a",{className:"inline-block",onClick:this._downloadCSV.bind(this),"data-tip":w.a.translate("transaction.csv_tip"),"data-place":"bottom"},c.a.createElement(p.a,{content:"transaction.csv"})),")"):null,this.props.showFilters?c.a.createElement("div",{className:"float-right"},c.a.createElement("select",{"data-place":"left","data-tip":w.a.translate("tooltip.filter_ops"),style:{paddingTop:0},className:"bts-select",value:this.state.filter,onChange:this._onChangeFilter.bind(this)},b)):null),c.a.createElement("table",{className:"table"+(n?" compact":"")},c.a.createElement("thead",null,c.a.createElement("tr",null,n?null:c.a.createElement("th",{className:"column-hide-tiny",style:{width:"20%"}},c.a.createElement(p.a,{content:"explorer.block.op"})),c.a.createElement("th",null,c.a.createElement(p.a,{content:"account.votes.info"})))))),c.a.createElement("div",{className:"box-content grid-block no-margin",style:this.props.fullHeight?null:{maxHeight:s-d},ref:"transactions"},c.a.createElement("table",{className:"table"+(n?" compact":"")},c.a.createElement(g.a,{component:"tbody",transitionName:"newrow"},y))),v>0&&this.state.csvExport&&c.a.createElement("div",{id:"csv_export_container",style:{display:"none"}},c.a.createElement("div",null,c.a.createElement("div",null,"DATE"),c.a.createElement("div",null,"OPERATION"),c.a.createElement("div",null,"MEMO"),c.a.createElement("div",null,"AMOUNT")),m.map(function(e){return c.a.createElement(f.a,{key:e.id,op:e.op,result:e.result,block:e.block_num,inverted:!1,csvExportMode:!0})}))),this.props.showMore&&v>this.props.limit||u<v?c.a.createElement("div",{className:"account-info more-button"},c.a.createElement("button",{className:"button outline small",onClick:this._onIncreaseLimit.bind(this)},c.a.createElement(p.a,{content:"account.more"}))):null)}}]),t}(c.a.Component);O.propTypes={accountsList:h.a.ChainAccountsList.isRequired,compactView:c.a.PropTypes.bool,limit:c.a.PropTypes.number,maxHeight:c.a.PropTypes.number,fullHeight:c.a.PropTypes.bool,showFilters:c.a.PropTypes.bool},O.defaultProps={limit:25,maxHeight:500,fullHeight:!1,showFilters:!1},O=n.i(m.a)(O,{keep_updating:!0});var A=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){return c.a.createElement("span",{className:"wrapper"},this.props.children(this.props))}}]),t}(c.a.Component);A.propTypes={asset:h.a.ChainAsset.isRequired,to:h.a.ChainAccount.isRequired,fromAccount:h.a.ChainAccount.isRequired},A.defaultProps={asset:"1.3.0"},A=n.i(m.a)(A)},1229:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(9),o=n(1223),i=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(){a(this,e)}return s(e,[{key:"fetchCoins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backer,a=void 0===t?"OPEN":t,r=e.url,s=void 0===r?void 0:r;return function(e){Promise.all([n.i(o.a)(s),n.i(o.b)(s)]).then(function(t){var r=i(t,2),s=r[0],l=r[1];e({coins:s,backedCoins:n.i(o.c)({allCoins:s,backer:a}).filter(function(e){return l.indexOf(e.walletType)!==-1}),backer:a})})}}}]),e}();t.a=r.a.createActions(l)},1245:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(109),c=n(45),u=n(44),p=n(18),d=n(260),f=n(6),h=n(62),m=(n.n(h),n(385)),v=n(20),b=n.n(v),g=n(24),y=n.n(g),_=n(133),E=n.n(_);n.d(t,"a",function(){return T}),n.d(t,"b",function(){return O});var w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),k=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fromStatsInterval=null,e.toStatsInterval=null,e}return o(t,e),w(t,[{key:"componentWillMount",value:function(){var e=this,t=f.b.getAsset("1.3.0");t&&(this.props.fromAsset.get("id")!==t.get("id")&&(d.a.getMarketStats(t,this.props.fromAsset),this.fromStatsInterval=setInterval(d.a.getMarketStats.bind(this,t,this.props.fromAsset),3e5)),this.props.toAsset.get("id")!==t.get("id")&&(d.a.getMarketStats.defer(t,this.props.toAsset),this.toStatsInterval=setInterval(function(){d.a.getMarketStats.defer(t,e.props.toAsset)},3e5)))}},{key:"componentWillUnmount",value:function(){clearInterval(this.fromStatsInterval),clearInterval(this.toStatsInterval)}},{key:"componentDidMount",value:function(){E.a.rebuild()}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,r=e.fullPrecision,o=e.marketStats,i=f.b.getAsset("1.3.0"),s=void 0,l=void 0,c=n.get("id"),u=n.get("symbol"),d=a.get("id"),h=a.get("symbol");if(r||(t=p.a.get_asset_amount(t,a)),i&&o){var m=i.get("symbol");s=o.get(u+"_"+m),l=o.get(h+"_"+m)}var v=p.a.convertPrice(l&&l.close?l.close:a,s&&s.close?s.close:n,d,c);return p.a.convertValue(v,t,a,n)}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,r=e.fullPrecision,o=e.marketStats,i=f.b.getAsset("1.3.0"),c=void 0,u=void 0,d=n.get("id"),h=n.get("symbol"),m=a.get("id"),v=a.get("symbol");if(r||(t=p.a.get_asset_amount(t,a)),i&&o){var g=i.get("symbol");c=o.get(h+"_"+g),u=o.get(v+"_"+g)}var _=p.a.convertPrice(u&&u.close?u.close:"1.3.0"===m||a.has("bitasset")?a:null,c&&c.close?c.close:"1.3.0"===d||n.has("bitasset")?n:null,m,d),E=_?p.a.convertValue(_,t,a,n):null;return E?s.a.createElement(l.a,{noPrefix:!0,amount:E,asset:d,decimalOffset:h.indexOf("BTC")!==-1?4:this.props.noDecimals?n.get("precision"):0}):s.a.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":y.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},s.a.createElement(b.a,{content:"account.no_price"}))}}]),t}(s.a.Component);k.propTypes={toAsset:c.a.ChainAsset.isRequired,fromAsset:c.a.ChainAsset.isRequired},k.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1},k=n.i(u.a)(k,{keep_updating:!0});var T=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),w(t,[{key:"render",value:function(){return s.a.createElement(k,this.props)}}]),t}(s.a.Component);T=n.i(h.connect)(T,{listenTo:function(){return[m.a]},getProps:function(){return{marketStats:m.a.getState().allMarketStats}}});var O=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),w(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance")),t=this.props.balance.get("asset_type");return s.a.createElement(T,{amount:e,fromAsset:t,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}(s.a.Component);O.propTypes={balance:c.a.ChainObject.isRequired},O=n.i(u.a)(O,{keep_updating:!0})},1247:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(33),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){a(this,e),this.current_blocktrades_address_cache_version_string="1"}return o(e,[{key:"getIndexForDepositKeyInExchange",value:function(e,t,n){return[this.current_blocktrades_address_cache_version_string,e,t,n].reduce(function(e,t){return e.concat("[",t,"]")},"")}},{key:"getCachedInputAddress",value:function(e,t,n,a){var o=r.a.getWallet();o.deposit_keys=o.deposit_keys||{},o.deposit_keys[e]=o.deposit_keys[e]||{};var i=this.getIndexForDepositKeyInExchange(t,n,a);o.deposit_keys[e][i]=o.deposit_keys[e][i]||[];var s=o.deposit_keys[e][i].length;return s?o.deposit_keys[e][i][s-1]:null}},{key:"cacheInputAddress",value:function(e,t,n,a,o,i){var s=r.a.getWallet();s.deposit_keys=s.deposit_keys||{},s.deposit_keys[e]=s.deposit_keys[e]||{};var l=this.getIndexForDepositKeyInExchange(t,n,a);s.deposit_keys[e][l]=s.deposit_keys[e][l]||[],s.deposit_keys[e][l].push({address:o,memo:i}),r.a._updateWallet()}}]),e}();t.a=i},1269:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(38),c=n.n(l),u=n(130),p=n.n(u),d=n(128),f=n.n(d),h=n(20),m=n.n(h),v=n(45),b=n(44),g=n(109),y=n(18),_=n(52),E=n.n(_),w=n(1189),k=n(1185),T=n(258),O=n(33),A=n(169),C=n(24),S=n.n(C),P=n(381),x=n(25),N=n.n(x),j=n(6),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),L=new T.a,I=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return o(t,e),R(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{},n=this._isPredictionMarket(e);if(t.collateral){var a=y.a.get_asset_amount(t.debt,e.quote_asset),r=y.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:a?a.toString():null,collateral:r?r.toString():null,collateral_ratio:this._getCollateralRatio(a,r),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:a,collateral:r}}}return{short_amount:0,collateral:0,collateral_ratio:n?1:0,errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(y.a.are_equal_shallow(t,this.state)&&N.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&N.a.is(e.account,this.props.account)&&N.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),c.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),a={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),a=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:t/(this.state.short_amount/n)};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,a={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(a),this._validateFields(a),this._setUpdatedPosition(a)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,a=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>y.a.get_asset_amount(a.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=S.a.translate("borrow.errors.collateral"));var r=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),o=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o)?(t.below_maintenance=S.a.translate("borrow.errors.below",{mr:o}),r=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o+.5)&&(t.close_maintenance=S.a.translate("borrow.errors.close",{mr:o}),r=!0),this.setState({errors:t,isValid:r})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=y.a.get_asset_precision(this.props.quote_asset.get("precision")),n=y.a.get_asset_precision(this.props.backing_asset.get("precision")),a=this._getCurrentPosition(this.props),r=L.new_transaction();r.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-a.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-a.debt,10),asset_id:this.props.quote_asset.get("id")}}),O.a.process_transaction(r,null,!0).catch(function(e){}),c.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/y.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,a=t.bitasset_balance,r=t.backing_asset,o=t.backing_balance,i=this.state,l=i.short_amount,c=i.collateral,u=i.collateral_ratio,p=i.errors,d=i.isValid,h=y.a.get_asset_precision(this.props.quote_asset.get("precision")),v=y.a.get_asset_precision(this.props.backing_asset.get("precision"));u&&!isNaN(u)&&u>0&&u<1e3||(u=0),a=a?a.toJS():{balance:0,id:null},o=o?o.toJS():{balance:0,id:null};var b=E()("form-group",{"has-error":p.collateral_balance}),_=E()("form-group",{"has-error":p.below_maintenance},{"has-warning":p.close_maintenance}),T=E()("button",{disabled:p.collateral_balance||!d},{success:d}),O=this._getCurrentPosition(this.props),C=o.id?j.b.getObject(o.id):null,S=C?C.get("balance"):0,x=parseInt(this.state.collateral*v-O.collateral,10),N=S-x,R=s.a.createElement("span",null,s.a.createElement(m.a,{component:"span",content:"transfer.available"}),": ",a.id?s.a.createElement(k.a,{balance:a.id}):s.a.createElement(g.a,{amount:0,asset:n.get("id")})),L=s.a.createElement("span",null,s.a.createElement(m.a,{component:"span",content:"transfer.available"}),": ",o.id?s.a.createElement(g.a,{amount:N,asset:r.get("id")}):s.a.createElement(g.a,{amount:0,asset:r.get("id")})),I=this._getFeedPrice(),M=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,W=(this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),this._isPredictionMarket(this.props));return!W&&isNaN(I)?s.a.createElement("div",null,s.a.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},s.a.createElement(m.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),s.a.createElement("div",{className:"grid-content button-group text-center no-overflow"},s.a.createElement(f.a,{close:this.props.modalId},s.a.createElement("div",{className:" button warning"},s.a.createElement(m.a,{content:"account.perm.cancel"}))))):s.a.createElement("div",null,s.a.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},s.a.createElement(m.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),s.a.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:s.a.createElement(P.a,{path:"components/"+(W?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:r.get("symbol"),borrower:this.props.account.get("name"),mr:M}),W?null:s.a.createElement("div",{style:{paddingBottom:"1rem"}},s.a.createElement("div",{className:"borrow-price-feeds"},s.a.createElement("span",{className:"borrow-price-label"},s.a.createElement(m.a,{content:"transaction.feed_price"}),": "),s.a.createElement(A.a,{decimals:2,callPrice:!0,noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),s.a.createElement("b",null),s.a.createElement("div",{className:"borrow-price-final "+(p.below_maintenance?"has-error":p.close_maintenance?"has-warning":"")},s.a.createElement("span",{className:"borrow-price-label"},s.a.createElement(m.a,{content:"exchange.your_price"}),": "),this.state.newPosition?s.a.createElement(A.a,{decimals:2,callPrice:!0,noPopOver:!0,quote_amount:M*this.state.short_amount*h,quote_asset:n.get("id"),base_asset:r.get("id"),base_amount:this.state.collateral*v}):null)),s.a.createElement("div",{className:"form-group"},s.a.createElement(w.a,{label:"transaction.borrow_amount",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:R,placeholder:"0.0",tabIndex:1})),s.a.createElement("div",{className:b},s.a.createElement(w.a,{label:"transaction.collateral",amount:c.toString(),onChange:this._onCollateralChange.bind(this),asset:r.get("id"),assets:[r.get("id")],display_balance:L,placeholder:"0.0",tabIndex:1}),p.collateral_balance?s.a.createElement("div",{style:{paddingTop:"0.5rem"}},p.collateral_balance):null),W?null:s.a.createElement("div",{className:_},s.a.createElement(m.a,{component:"label",content:"borrow.coll_ratio"}),s.a.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:u,type:"range",disabled:!l}),s.a.createElement("div",{className:"inline-block"},y.a.format_number(u,2)),p.below_maintenance||p.close_maintenance?s.a.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},p.below_maintenance,p.close_maintenance):null),s.a.createElement("div",{className:"no-padding grid-content button-group no-overflow"},s.a.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:T},s.a.createElement(m.a,{content:"borrow.adjust"})),s.a.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},s.a.createElement(m.a,{content:"wallet.reset"}))))))}}]),t}(s.a.Component);I.propTypes={quote_asset:v.a.ChainAsset.isRequired,bitasset_balance:v.a.ChainObject,backing_asset:v.a.ChainAsset.isRequired,backing_balance:v.a.ChainObject,call_orders:v.a.ChainObjectsList,hasCallOrders:i.PropTypes.bool},I=n.i(b.a)(I,{keep_updating:!0});var M=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return o(t,e),R(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;c.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,a=e.account,r="borrow_modal_"+t,o=a.get("balances").toJS(),i=void 0,l=void 0;if(o)for(var c in o)c===n&&(i=o[c]),c===t&&(l=o[c]);return s.a.createElement(p.a,{id:r,overlay:!0,ref:r},s.a.createElement(f.a,{close:r},s.a.createElement("a",{href:"#",className:"close-button"},"×")),s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement(I,{quote_asset:t,call_orders:a.get("call_orders"),hasCallOrders:a.get("call_orders")&&a.get("call_orders").size>0,modalId:r,bitasset_balance:l,backing_balance:i,backing_asset:n,hide_help:this.state.smallScreen,account:a})))}}]),t}(s.a.Component);t.a=M},1287:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(38),c=n.n(l),u=n(130),p=n.n(u),d=n(128),f=n.n(d),h=n(20),m=n.n(h),v=n(395),b=n(18),g=n(44),y=n(45),_=n(164),E=n(133),w=n.n(E),k=n(24),T=n.n(k),O=n(1223),A=n(1247),C=n(1291),S=n(75),P=n(131),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),j=function(t){function i(e){a(this,i);var t=r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.state={toAddress:O.d.getLast(e.walletType),withdrawValue:"",amountError:null,to_withdraw:new v.e({asset_id:e.asset.get("id"),precision:e.asset.get("precision")})},t._validateAddress(t.state.toAddress,e),t.deposit_address_cache=new A.a,t.addDepositAddress=t.addDepositAddress.bind(t),t}return o(i,t),N(i,[{key:"componentWillMount",value:function(){this._getDepositAddress()}},{key:"componentWillReceiveProps",value:function(e){e.asset&&e.asset!==this.props.asset&&this.setState({to_withdraw:new v.e({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),memo:"",withdrawValue:"",receive_address:null,toAddress:O.d.getLast(e.walletType)},this._getDepositAddress)}},{key:"_getDepositAddress",value:function(){if(this.props.backingCoinType){var e=this.props.sender.get("name"),t=this.deposit_address_cache.getCachedInputAddress("openledger",e,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase());t?this.setState({receive_address:t}):n.i(O.f)(this._getDepositObject())}}},{key:"_getDepositObject",value:function(){return{inputCoinType:this.props.backingCoinType.toLowerCase(),outputCoinType:this.props.symbol.toLowerCase(),outputAddress:this.props.sender.get("name"),stateCallback:this.addDepositAddress}}},{key:"addDepositAddress",value:function(e){var t=this.props.sender.get("name");this.deposit_address_cache.cacheInputAddress("openledger",t,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase(),e.address,e.memo),this.setState({receive_address:e})}},{key:"componentDidUpdate",value:function(){w.a.rebuild()}},{key:"onSubmit",value:function(t){if(t.preventDefault(),0===this.state.to_withdraw.getAmount())return this.setState({amountError:"transfer.errors.pos"});if(this.props.issuer){var n=this._getFee(),a=this.state.to_withdraw.asset_id!==n.asset?0:n.amount;_.a.transfer(this.props.sender.get("id"),this.props.issuer.get("id"),this.state.to_withdraw.getAmount()-a,this.state.to_withdraw.asset_id,this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,n.asset)}}},{key:"_updateAmount",value:function(e){this.state.to_withdraw.setAmount({sats:e}),this.setState({withdrawValue:this.state.to_withdraw.getAmount({real:!0}),amountError:null})}},{key:"_getFee",value:function(){var e=this.props,t=e.globalObject,n=e.asset,a=e.coreAsset,r=e.balances;return b.a.getFee({opType:"transfer",options:[],globalObject:t,asset:n,coreAsset:a,balances:r})}},{key:"_onInputAmount",value:function(e){try{this.state.to_withdraw.setAmount({real:parseFloat(e.target.value||0)}),this.setState({withdrawValue:e.target.value,amountError:null})}catch(e){console.error("err:",e)}}},{key:"_onInputTo",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address_check_in_progress:!0,withdraw_address_selected:t,validAddress:null,toAddress:t}),this._validateAddress(t)}},{key:"_onMemoChanged",value:function(e){this.setState({memo:e.target.value})}},{key:"_validateAddress",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;n.i(O.e)({walletType:a.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_renderWithdraw",value:function(){var e=b.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n=1,a=this.props.supportsMemos;return s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(m.a,{content:"gateway.withdraw_funds",asset:t})),this._renderCurrentBalance(),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",null,T.a.translate("modal.withdraw.amount"),s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{tabIndex:n++,type:"text",value:this.state.withdrawValue,onChange:this._onInputAmount.bind(this)}),s.a.createElement("span",{className:"form-label"},t)))),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",null,T.a.translate("modal.withdraw.address"),s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{placeholder:T.a.translate("gateway.withdraw_placeholder",{asset:t}),tabIndex:n++,type:"text",value:this.state.toAddress,onChange:this._onInputTo.bind(this)}),s.a.createElement("span",{"data-place":"right","data-tip":T.a.translate("tooltip.withdraw_address",{asset:t}),className:"form-label"},s.a.createElement(S.a,{name:"question-circle",className:"fill-black"})))),!this.state.validAddress&&this.state.toAddress?s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},s.a.createElement(m.a,{content:"gateway.valid_address",coin_type:t})):null),a?s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",null,T.a.translate("transfer.memo"),s.a.createElement("span",{className:"inline-label"},s.a.createElement("textarea",{rows:"1",value:this.state.memo,tabIndex:n++,onChange:this._onMemoChanged.bind(this)}))),!this.state.validAddress&&this.state.toAddress?s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},s.a.createElement(m.a,{content:"gateway.valid_address",coin_type:t})):null):null,s.a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},s.a.createElement("button",{tabIndex:n++,className:"button",onClick:this.onSubmit.bind(this),type:"submit"},s.a.createElement(m.a,{content:"gateway.withdraw_now"}))))}},{key:"_renderDeposit",value:function(){var e=this.state.receive_address,t=b.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),n=t.name,a=e&&"memo"in e&&e.memo,r=e&&e.address||"",o=1;return s.a.createElement("div",{className:r?"":"no-overflow"},s.a.createElement("p",null,s.a.createElement(m.a,{unsafe:!0,content:"gateway.add_funds",account:this.props.sender.get("name")})),this._renderCurrentBalance(),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":T.a.translate("tooltip.deposit_tip",{asset:n})},s.a.createElement(m.a,{className:"help-tooltip",content:"gateway.deposit_to",asset:n}),":"),r?s.a.createElement("label",null,s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{readOnly:!0,type:"text",value:r}),s.a.createElement(C.a,{text:r}))):s.a.createElement(P.a,{type:"three-bounce"}),a?s.a.createElement("label",null,s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{readOnly:!0,type:"text",value:T.a.translate("transfer.memo")+": "+e.memo}),s.a.createElement(C.a,{text:e.memo}))):null,e&&e.error?s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},e.error.message):null),s.a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},s.a.createElement("button",{tabIndex:o++,className:"button",onClick:O.f.bind(null,this._getDepositObject()),type:"submit"},s.a.createElement(m.a,{content:"gateway.generate_new"}))))}},{key:"_renderCurrentBalance",value:function(){var e=this,t=b.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),n=t.name,a="deposit"===this.props.action,r=this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")}),o=r?new v.e({asset_id:r.get("asset_type"),precision:this.props.asset.get("precision"),amount:r.get("balance")}):null,i=a?s.a.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},n):s.a.createElement("button",{"data-place":"right","data-tip":T.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,r?parseInt(r.get("balance"),10):0)},s.a.createElement(S.a,{name:"clippy"}));return s.a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},s.a.createElement("label",{style:{fontSize:"1rem"}},T.a.translate("gateway.balance_asset",{asset:n}),":",s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:o?o.getAmount({real:!0}):0}),i)))}},{key:"render",value:function(){var e=this.props,t=e.asset,n=e.action,a="deposit"===n;if(!t)return null;var r=b.a.replaceName(t.get("symbol"),!0),o=r.name;return s.a.createElement("div",{className:"SimpleTrade__modal"},s.a.createElement("div",{className:"Modal__header"},s.a.createElement("h3",null,s.a.createElement(m.a,{content:a?"gateway.deposit":"modal.withdraw.submit"})," ",o)),s.a.createElement("div",{className:"Modal__divider"}),s.a.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem"}},a?this._renderDeposit():this._renderWithdraw()))}}]),i}(s.a.Component);j.propTypes={sender:y.a.ChainAccount.isRequired,issuer:y.a.ChainAccount.isRequired,asset:y.a.ChainAsset.isRequired,coreAsset:y.a.ChainAsset.isRequired,globalObject:y.a.ChainAsset.isRequired},j.defaultProps={coreAsset:"1.3.0",globalObject:"2.0.0",issuer:"openledger-wallet"},j=n.i(g.a)(j);var R=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return o(t,e),N(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){c.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return s.a.createElement(p.a,{className:"test",onClose:this.onClose.bind(this),id:this.props.modalId,overlay:!0},s.a.createElement(f.a,{close:this.props.modalId},s.a.createElement("a",{href:"#",className:"close-button"},"×")),this.state.open?s.a.createElement(j,x({},this.props,{open:this.state.open})):null)}}]),t}(s.a.Component);t.a=R}).call(t,n(2).Buffer)},1291:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(24),i=n.n(o),s=n(1329),l=n.n(s),c=n(75),u=function(e){var t=e.className,n=void 0===t?"button":t,a=e.text,o=void 0===a?"":a,s=e.tip,u=void 0===s?"tooltip.copy_tip":s,p=e.dataPlace,d=void 0===p?"right":p;return r.a.createElement(l.a,{"data-clipboard-text":o,className:n,"data-place":d,"data-tip":i.a.translate(u)},r.a.createElement(c.a,{name:"clippy"}))};t.a=u},1295:function(e,t,n){var a,r,o;!function(i,s){r=[e,n(1334)],a=s,void 0!==(o="function"==typeof a?a.apply(t,r):a)&&(e.exports=o)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(e){return e&&e.__esModule?e:{default:e}}(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=i})},1296:function(e,t,n){var a,r,o;!function(i,s){r=[e,n(1295),n(1335),n(1328)],a=s,void 0!==(o="function"==typeof a?a.apply(t,r):a)&&(e.exports=o)}(0,function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=r(t),u=r(n),p=r(a),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(e,n){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.resolveOptions(n),a.listenClick(e),a}return s(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,p.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(u.default);e.exports=f})},1323:function(e,t){function n(e,t){for(;e&&e.nodeType!==a;){if(e.matches(t))return e;e=e.parentNode}}var a=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=n},1324:function(e,t,n){function a(e,t,n,a,o){var i=r.apply(this,arguments);return e.addEventListener(n,i,o),{destroy:function(){e.removeEventListener(n,i,o)}}}function r(e,t,n,a){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&a.call(e,n)}}var o=n(1323);e.exports=a},1327:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},1328:function(e,t,n){function a(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return r(e,t,n);if(s.nodeList(e))return o(e,t,n);if(s.string(e))return i(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function i(e,t,n){return l(document.body,e,t,n)}var s=n(1327),l=n(1324);e.exports=a},1329:function(e,t,n){!function(t,a){e.exports=a(n(1),n(1296))}(0,function(e,t){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var a=n(1).default,r=n(17).default,o=n(26).default,i=n(29).default,s=n(30).default,l=n(36).default,c=n(39).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(40),p=c(u),d=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),o(t,[{key:"propsWith",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n={};return l(this.props).forEach(function(a){if(a.search(e)!==-1){n[t?a.replace(e,""):a]=this.props[a]}},this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=p.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.refs.element,a=n(41);this.clipboard=new a(t,e),l(this.propsWith(/^on/,!0)).forEach(function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])},this)}},{key:"render",value:function(){var e=s({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:"element",onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return p.default.createElement(this.getComponent(),e,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}],[{key:"propTypes",value:{options:p.default.PropTypes.object,type:p.default.PropTypes.string,className:p.default.PropTypes.string,style:p.default.PropTypes.object,component:p.default.PropTypes.string,children:p.default.PropTypes.oneOfType([p.default.PropTypes.element,p.default.PropTypes.string,p.default.PropTypes.number,p.default.PropTypes.object])},enumerable:!0},{key:"defaultProps",value:{onClick:function(){}},enumerable:!0}]),t}(p.default.Component);t.default=d,e.exports=t.default},function(e,t,n){"use strict";var a=n(2).default;t.default=function(e,t,n){for(var r=!0;r;){var o=e,i=t,s=n;r=!1,null===o&&(o=Function.prototype);var l=a(o,i);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(s)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=s,r=!0,l=u=void 0}},t.__esModule=!0},function(e,t,n){e.exports={default:n(3),__esModule:!0}},function(e,t,n){var a=n(4);n(5),e.exports=function(e,t){return a.getDesc(e,t)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var a=n(6);n(10)("getOwnPropertyDescriptor",function(e){return function(t,n){return e(a(t),n)}})},function(e,t,n){var a=n(7),r=n(9);e.exports=function(e){return a(r(e))}},function(e,t,n){var a=n(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(11),r=n(13),o=n(16);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],i={};i[e]=t(n),a(a.S+a.F*o(function(){n(1)}),"Object",i)}},function(e,t,n){var a=n(12),r=n(13),o=n(14),i=function(e,t,n){var s,l,c,u=e&i.F,p=e&i.G,d=e&i.S,f=e&i.P,h=e&i.B,m=e&i.W,v=p?r:r[t]||(r[t]={}),b=p?a:d?a[t]:(a[t]||{}).prototype;p&&(n=t);for(s in n)(l=!u&&b&&s in b)&&s in v||(c=l?b[s]:n[s],v[s]=p&&"function"!=typeof b[s]?n[s]:h&&l?o(c,a):m&&b[s]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):f&&"function"==typeof c?o(Function.call,c):c,f&&((v.prototype||(v.prototype={}))[s]=c))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var a=n(15);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var a=n(18).default,r=n(20).default;t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=a(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r?r(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){e.exports={default:n(19),__esModule:!0}},function(e,t,n){var a=n(4);e.exports=function(e,t){return a.create(e,t)}},function(e,t,n){e.exports={default:n(21),__esModule:!0}},function(e,t,n){n(22),e.exports=n(13).Object.setPrototypeOf},function(e,t,n){var a=n(11);a(a.S,"Object",{setPrototypeOf:n(23).set})},function(e,t,n){var a=n(4).getDesc,r=n(24),o=n(25),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(14)(Function.call,a(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var a=n(24);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var a=n(27).default;t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a(e,r.key,r)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),t.__esModule=!0},function(e,t,n){e.exports={default:n(28),__esModule:!0}},function(e,t,n){var a=n(4);e.exports=function(e,t,n){return a.setDesc(e,t,n)}},function(e,t){"use strict";t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,n){"use strict";var a=n(31).default;t.default=a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t.__esModule=!0},function(e,t,n){e.exports={default:n(32),__esModule:!0}},function(e,t,n){n(33),e.exports=n(13).Object.assign},function(e,t,n){var a=n(11);a(a.S+a.F,"Object",{assign:n(34)})},function(e,t,n){var a=n(4),r=n(35),o=n(7);e.exports=n(16)(function(){var e=Object.assign,t={},n={},a=Symbol(),r="abcdefghijklmnopqrst";return t[a]=7,r.split("").forEach(function(e){n[e]=e}),7!=e({},t)[a]||Object.keys(e({},n)).join("")!=r})?function(e,t){for(var n=r(e),i=arguments,s=i.length,l=1,c=a.getKeys,u=a.getSymbols,p=a.isEnum;s>l;)for(var d,f=o(i[l++]),h=u?c(f).concat(u(f)):c(f),m=h.length,v=0;m>v;)p.call(f,d=h[v++])&&(n[d]=f[d]);return n}:Object.assign},function(e,t,n){var a=n(9);e.exports=function(e){return Object(a(e))}},function(e,t,n){e.exports={default:n(37),__esModule:!0}},function(e,t,n){n(38),e.exports=n(13).Object.keys},function(e,t,n){var a=n(35);n(10)("keys",function(e){return function(t){return e(a(t))}})},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(t,n){t.exports=e},function(e,n){e.exports=t}])})},1334:function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),r=document.createRange();r.selectNodeContents(e),a.removeAllRanges(),a.addRange(r),t=a.toString()}return t}e.exports=n},1335:function(e,t){function n(){}n.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function a(){r.off(e,a),t.apply(n,arguments)}var r=this;return a._=t,this.on(e,a,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,r=n.length;for(a;a<r;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],r=[];if(a&&t)for(var o=0,i=a.length;o<i;o++)a[o].fn!==t&&a[o].fn._!==t&&r.push(a[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=n},1336:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(45),c=n(44),u=n(18),p=n(75),d=n(132),f=n(1342),h=n(111),m=(n.n(h),n(6)),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.account,a=(t.accounts,t.available),r=t.availableKeys,o=t.permission,i=t.threshold,l=o.isAvailable(a),c=o.isNested(),f=[],h=i&&i>10?u.a.get_percentage(o.weight,this.props.threshold):o.weight,m=o&&o.threshold>10?u.a.get_percentage(o.getStatus(a,r),o.threshold)+" / 100%":o.getStatus(a,r)+" / "+o.threshold;return f.push(s.a.createElement("div",{key:n.get("id"),style:{width:"100%",clear:"both",paddingBottom:5}},s.a.createElement("div",{className:"inline-block",style:{paddingLeft:5*this.props.indent+"%"}},!c&&h?(h&&2===h.length?"  ":"")+"("+h+") ":null,s.a.createElement(d.a,{subpage:"permissions",account:n.get("id")})),s.a.createElement("div",{className:"float-right",style:{paddingLeft:20,marginRight:10}},c?s.a.createElement("span",{className:l?"success-text":""},m):s.a.createElement("span",null,l?s.a.createElement(p.a,{name:"checkmark-circle",size:"1x",className:"success"}):s.a.createElement(p.a,{name:"cross-circle",size:"1x",className:"error"}))))),o.isNested&&(o.accounts.forEach(function(t){f.push(s.a.createElement(y,{key:t.id,indent:e.props.indent+1,account:t.id,accounts:t.accounts,permission:t,available:a,availableKeys:r,threshold:o.threshold}))}),o.keys.length&&o.isNested()&&o.keys.forEach(function(t){f.push(s.a.createElement(_,{key:t.id,permission:t,available:r,indent:e.props.indent+1}))})),s.a.createElement("div",null,f)}}]),t}(s.a.Component);g.propTypes={account:l.a.ChainAccount.isRequired,accounts:l.a.ChainAccountsList,indent:s.a.PropTypes.number.isRequired},g.defaultProps={indent:0};var y=n.i(c.a)(g),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.available,n=e.permission,a=n.isAvailable(t),r=[];return r.push(s.a.createElement("div",{key:n.id,style:{width:"100%",paddingBottom:5}},s.a.createElement("div",{className:"inline-block",style:{paddingLeft:5*this.props.indent+"%"}},s.a.createElement("span",null,n.id.substr(0,20-4*this.props.indent),"... (",n.weight,")")),s.a.createElement("div",{className:"float-right",style:{paddingLeft:20,marginRight:10}},s.a.createElement("span",null,a?s.a.createElement(p.a,{name:"checkmark-circle",size:"1x",className:"success"}):s.a.createElement(p.a,{name:"cross-circle",size:"1x",className:"error"}))))),s.a.createElement("div",null,r)}}]),t}(s.a.Component);_.propTypes={indent:s.a.PropTypes.number.isRequired},_.defaultProps={indent:0};var E=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.requiredPermissions,n=e.available,a=e.availableKeys,r=(e.type,[]);return t.forEach(function(e){r.push(s.a.createElement(y,{key:e.id,account:e.id,accounts:e.accounts,permission:e,available:n,availableKeys:a}))}),s.a.createElement("div",null,r)}}]),t}(s.a.Component),w=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={requiredPermissions:[]},e._updateState=e._updateState.bind(e),e}return o(t,e),b(t,[{key:"componentWillMount",value:function(){this._updateState(),m.b.subscribe(this._updateState)}},{key:"componentWillUnmount",value:function(){m.b.unsubscribe(this._updateState)}},{key:"_updateState",value:function(){var e=f.a.listToIDs(this.props.required),t=f.a.listToIDs(this.props.available);this.setState({requiredPermissions:f.a.unnest(e,this.props.type),required:e,available:t})}},{key:"render",value:function(){var e=this.props,t=e.type,a=(e.proposal,e.added),r=e.removed,o=e.availableKeys,i=this.state,l=i.requiredPermissions,c=i.required,u=i.available;return u=n.i(h.cloneDeep)(u),o=o.toJS(),a&&(u.push(a),o.push(a)),r&&(u.indexOf(r)!==-1&&u.splice(u.indexOf(r),1),o.indexOf(r)!==-1&&o.splice(o.indexOf(r),1)),s.a.createElement(E,{type:t,added:a,removed:r,required:c,available:u,availableKeys:o,requiredPermissions:l})}}]),t}(s.a.Component);w.propTypes={required:l.a.ChainAccountsList,available:l.a.ChainAccountsList},w.defaultProps={type:"active",added:null,removed:null},w=n.i(c.a)(w,{keep_updating:!0});var k=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.type,a=t.get("available_"+n+"_approvals"),r=t.get("available_key_approvals"),o=t.get("required_"+n+"_approvals");return s.a.createElement(w,v({},this.props,{required:o,available:a,availableKeys:r}))}}]),t}(s.a.Component);k.propTypes={proposal:l.a.ChainObject.isRequired,type:s.a.PropTypes.string.isRequired},k.defaultProps={type:"active",added:null},t.a=n.i(c.a)(k,{keep_updating:!0})},1342:function(e,t,n){"use strict";var a=n(6),r=n(25),o=n.n(r),i=function(e){var t=this;this.id=e.toJS?e.get(0):e[0],this.weight=e.toJS?e.get(1):e[1],this.isAvailable=function(e){return e.includes?e.includes(t.id):e.indexOf(t)!==-1}},s={AccountPermission:function(e,t,n){var a=this;this.id=e.get("id"),this.weight=t,this.threshold=e.getIn([n,"weight_threshold"]),this.accounts=[],this.keys=e.getIn([n,"key_auths"]).map(function(e){return new i(e)}).toArray(),this.isAvailable=function(e){return e.includes?e.includes(a.id):e.indexOf(a)!==-1},this._sumWeights=function(e){if(a.isNested()){var t=a.accounts.reduce(function(t,n){return t+(n._sumWeights(e)?n.weight:0)},0);return Math.floor(t/a.threshold)}return a.isAvailable(e)?a.weight:0},this.getStatus=function(e,t){if(a.isNested()){var n=a.accounts.reduce(function(t,n){return t+n._sumWeights(e)},0);if(a.keys.length){n+=a.keys.reduce(function(e,n){return e+(n.isAvailable(t)?n.weight:0)},0)}return n}return a._sumWeights(e)},this.isNested=function(){return a.accounts.length>0},this.getMissingSigs=function(e){var t=[],n=[];return a.isNested()?n=a.accounts.reduce(function(t,n){return t.concat(n.getMissingSigs(e))},[]):a.isAvailable(e)||t.push(a.id),t.concat(n)},this.getMissingKeys=function(e){var t=[],n=[];return a.keys.length&&a.isNested()&&a.keys.forEach(function(n){n.isAvailable(e)||t.push(n.id)}),a.isNested()&&(n=a.accounts.reduce(function(t,n){return t.concat(n.getMissingKeys(e))},[])),t.concat(n)}},listToIDs:function(e){var t=[];return e.forEach(function(e){e&&t.push(e.get?e.get("id"):e)}),t},unravel:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r<3){var o=a.b.getAccount(e.id);o&&o.getIn([t,"account_auths"]).size&&o.getIn([t,"account_auths"]).forEach(function(o){var i=a.b.getAccount(o.get(0));i&&e.accounts.push(n.unravel(new n.AccountPermission(i,o.get(1),t),t,r+1))})}return e},unnest:function(e,t){var n=this,r=[];return e.forEach(function(e){var o=a.b.getAccount(e),i=n.unravel(new n.AccountPermission(o,null,t),t);r.push(i)}),r},flatten_auths:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.List();return e.size?(e.forEach(function(e){t.includes(e.get(0))||(t=t.push(e.get(0)))}),t):t}};t.a=s},1407:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(20),c=n.n(l),u=n(268),p=n(44),d=n(45),f=n(18),h=n(1449),m=n(1336),v=n(6),b=n(24),g=n.n(b),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"_onApproveModal",value:function(e,t){this.refs[e+"_"+t]&&this.refs[e+"_"+t].show()}},{key:"_canApprove",value:function(e,t){return e.required_active_approvals.indexOf(t)!==-1&&e.available_active_approvals.indexOf(t)===-1||e.required_owner_approvals.indexOf(t)!==-1&&e.available_owner_approvals.indexOf(t)===-1}},{key:"_canReject",value:function(e){return e.available_active_approvals.length||e.available_owner_approvals.length}},{key:"render",value:function(){var e=this,t=this.props.account;if(!t)return null;var n=[];t.get("proposals").size&&t.get("proposals").forEach(function(e){var a=v.b.getObject(e);if(a){var r=a.get("proposed_transaction"),o=r.get("operations");n.push({operations:o,account:t,proposal:a})}});var a=n.sort(function(e,t){return f.a.sortID(e.proposal.get("id"),t.proposal.get("id"),!0)}).map(function(t){var n=!1,a=t.operations.map(function(e,a){return"1.2.153124"===e.getIn([1,"to"])&&(n=!0),s.a.createElement(u.a,{key:t.proposal.get("id")+"_"+a,expiration:t.proposal.get("expiration_time"),index:a,op:e.toJS(),inverted:!1,hideFee:!1,hideOpLabel:!0,hideDate:!0,proposal:!0,id:t.proposal.get("id")})}).toArray(),r=e._canReject(t.proposal.toJS()),o=t.proposal.get("id"),i=t.proposal.get("required_active_approvals").size?"active":"owner";return s.a.createElement("tr",{key:o},s.a.createElement("td",null,a),s.a.createElement("td",null,s.a.createElement(m.a,{proposal:t.proposal.get("id"),type:i})),s.a.createElement("td",null,r?s.a.createElement("button",{onClick:e._onApproveModal.bind(e,o,"reject"),className:"button outline"},s.a.createElement(c.a,{content:"proposal.reject"})):null,s.a.createElement(h.a,{ref:o+"_reject",modalId:o+"_reject",account:t.account.get("id"),proposal:o,action:"reject"}),n?s.a.createElement("div",{"data-tip":g.a.translate("tooltip.propose_scam"),className:" tooltip has-error"},"SCAM"):s.a.createElement("button",{onClick:e._onApproveModal.bind(e,o,"approve"),className:"button outline"},s.a.createElement("span",null,s.a.createElement(c.a,{content:"proposal.approve"}))),s.a.createElement(h.a,{ref:o+"_approve",modalId:o+"_approve",account:t.account.get("id"),proposal:o,action:"approve"})))});return s.a.createElement("table",{className:"table compact"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement(c.a,{content:"account.votes.info"})),s.a.createElement("th",null,s.a.createElement(c.a,{content:"proposal.status"})),s.a.createElement("th",null,s.a.createElement(c.a,{content:"proposal.action"})))),s.a.createElement("tbody",null,a))}}]),t}(i.Component);_.propTypes={account:d.a.ChainAccount.isRequired},t.a=n.i(p.a)(_,{keep_updating:!0})},1413:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(109),c=n(169),u=n(45),p=n(44),d=n(256),f=n(1269),h=n(258),m=n(33),v=n(20),b=n.n(v),g=n(18),y=n(24),_=n.n(y),E=(n(37),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),k=new h.a,T=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),w(t,[{key:"_onUpdatePosition",value:function(e){e.preventDefault();var t="cp_modal_"+this.props.object.getIn(["call_price","quote","asset_id"]);this.refs[t].show()}},{key:"_onClosePosition",value:function(e){e.preventDefault();var t=k.new_transaction();t.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.object.get("borrower"),delta_collateral:{amount:-this.props.object.get("collateral"),asset_id:this.props.object.getIn(["call_price","base","asset_id"])},delta_debt:{amount:-this.props.object.get("debt"),asset_id:this.props.object.getIn(["call_price","quote","asset_id"])}}),m.a.process_transaction(t,null,!0)}},{key:"_getFeedPrice",value:function(){return this.props?1/g.a.get_asset_price(this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.collateralAsset,this.props.debtAsset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.debtAsset):1}},{key:"_getCollateralRatio",value:function(){var e=this.props.object.toJS();return g.a.get_asset_amount(e.collateral,this.props.collateralAsset)/(g.a.get_asset_amount(e.debt,this.props.debtAsset)/this._getFeedPrice())}},{key:"_getMR",value:function(){return this.props.debtAsset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3}},{key:"_getStatusClass",value:function(){var e=this._getCollateralRatio(),t=this._getMR();return isNaN(e)?null:e<t?"danger":e<t+.5?"warning":""}},{key:"_getCRTip",value:function(){var e=this._getStatusClass(),t=this._getMR();return e&&""!==e?"danger"===e?_.a.translate("tooltip.cr_danger",{mr:t}):"warning"===e?_.a.translate("tooltip.cr_warning",{mr:t}):null:null}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.context.router.push(e)}},{key:"render",value:function(){var e=this.props,t=e.debtAsset,n=e.collateralAsset,a=e.object,r=a.toJS(),o=this._getCollateralRatio(),i=g.a.get_asset_amount(r.debt,this.props.debtAsset),u=this._getStatusClass(),p="/asset/"+t.get("symbol"),h="/market/"+t.get("symbol")+"_"+n.get("symbol"),m=s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:p,onClick:this._onNavigate.bind(this,p)},s.a.createElement(b.a,{content:"account.asset_details"}))),s.a.createElement("li",null,s.a.createElement("a",{href:h,onClick:this._onNavigate.bind(this,h)},s.a.createElement(d.a,{name:t.get("symbol")})," : ",s.a.createElement(d.a,{name:n.get("symbol")}))));return s.a.createElement("tr",{className:"margin-row"},s.a.createElement("td",null,s.a.createElement(l.a,{amount:r.debt,asset:r.call_price.quote.asset_id,assetInfo:m})),s.a.createElement("td",{className:"column-hide-medium"},s.a.createElement(l.a,{decimalOffset:5,amount:r.collateral,asset:r.call_price.base.asset_id})),s.a.createElement("td",{"data-place":"bottom","data-tip":this._getCRTip(),className:"center-content "+u},g.a.format_number(o,2)),s.a.createElement("td",{className:"center-content column-hide-small"},s.a.createElement(c.a,{callPrice:!0,decimals:2,base_amount:r.call_price.base.amount,base_asset:r.call_price.base.asset_id,quote_amount:r.call_price.quote.amount,quote_asset:r.call_price.quote.asset_id})),s.a.createElement("td",null,s.a.createElement("div",{"data-place":"left","data-tip":_.a.translate("tooltip.update_position"),style:{paddingBottom:5}},s.a.createElement("a",{onClick:this._onUpdatePosition.bind(this)},s.a.createElement(b.a,{content:"borrow.adjust"}))),s.a.createElement("div",{"data-place":"left","data-tip":_.a.translate("tooltip.close_position",{amount:i,asset:t.get("symbol")}),style:{paddingBottom:5}},s.a.createElement("a",{onClick:this._onClosePosition.bind(this)},s.a.createElement(b.a,{content:"borrow.close"}))),t?s.a.createElement(f.a,{ref:"cp_modal_"+r.call_price.quote.asset_id,quote_asset:r.call_price.quote.asset_id,backing_asset:t.getIn(["bitasset","options","short_backing_asset"]),account:this.props.account}):null))}}]),t}(s.a.Component);T.propTypes={debtAsset:u.a.ChainAsset.isRequired,collateralAsset:u.a.ChainAsset.isRequired},T.defaultProps={tempComponent:"tr"},T.contextTypes={router:s.a.PropTypes.object},T=n.i(p.a)(T,{keep_updating:!0});var O=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props.object,t=e.getIn(["call_price","quote","asset_id"]),n=e.getIn(["call_price","base","asset_id"]);return s.a.createElement(T,E({debtAsset:t,collateralAsset:n},this.props))}}]),t}(s.a.Component);O.propTypes={object:u.a.ChainObject.isRequired},O=n.i(p.a)(O,{keep_updating:!0});var A=function(e){var t=e.callOrders,n=e.account;return s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement(b.a,{content:"transaction.borrow_amount"})),s.a.createElement("th",{className:"column-hide-medium"},s.a.createElement(b.a,{content:"transaction.collateral"})),s.a.createElement("th",{style:{textAlign:"center"}},s.a.createElement("div",{className:"tooltip inline-block","data-place":"top","data-tip":_.a.translate("tooltip.coll_ratio")},s.a.createElement(b.a,{content:"borrow.coll_ratio"}))),s.a.createElement("th",{style:{textAlign:"center"},className:"column-hide-small"},s.a.createElement("div",{className:"tooltip inline-block","data-place":"top","data-tip":_.a.translate("tooltip.call_price")},s.a.createElement(b.a,{content:"exchange.call"}))),s.a.createElement("th",null))),s.a.createElement("tbody",null,t.sort(function(e,t){return e.split(".")[2]-t.split(".")[2]}).map(function(e){return s.a.createElement(O,{key:e,object:e,account:n})})))};t.a=A},1449:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(38),c=n.n(l),u=n(130),p=n.n(u),d=n(128),f=n.n(d),h=n(20),m=n.n(h),v=n(45),b=n(44),g=n(393),y=n(90),_=n(33),E=n(258),w=n(1336),k=n(1342),T=n(6),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),C=new E.a,S=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={active:null,key:null,owner:null,payee:null},n}return o(t,e),A(t,[{key:"onActiveAccount",value:function(e,t,n,a){var r={};t[a]?(r.key=a,r[n]=null):a?(r[n]=e[a],r.key=null):(r[n]=null,r.key=null),this.setState(r)}},{key:"_onProposalAction",value:function(e){var t=this,n=e.toJS(),a=this.state,r=a.active,o=(a.key,a.owner,a.payee),i={fee_paying_account:o||r,proposal:n.id,active_approvals_to_add:[],active_approvals_to_remove:[],owner_approvals_to_add:[],owner_approvals_to_remove:[],key_approvals_to_add:[],key_approvals_to_remove:[]},s="approve"===this.props.action,l=[];["active","owner","key"].forEach(function(e){var a=t.state[e];if(a){var r=n["available_"+e+"_approvals"].indexOf(a)!==-1;(s&&!r||!s&&r)&&("approve"===t.props.action?(i[e+"_approvals_to_add"]=[a],"key"===e&&l.push(a)):"reject"===t.props.action&&(i[e+"_approvals_to_remove"]=[a],"key"===e&&l.push(a)))}});var u=C.new_transaction();u.add_type_operation("proposal_update",i),_.a.process_transaction(u,null,!0,l),c.a.publish(this.props.modalId,"close")}},{key:"onChangePayee",value:function(e){var t=T.b.getAccount(e);t&&this.setState({payee:t.get("id")})}},{key:"onCancel",value:function(){c.a.publish(this.props.modalId,"close")}},{key:"render",value:function(){var e=this.props,t=e.proposal,n=e.type,a=[],r={},o="approve"===this.props.action;this.props.accounts.length&&this.props.accounts.forEach(function(e){(o?e&&!t.get("available_"+n+"_approvals").includes(e.get("id")):e&&t.get("available_"+n+"_approvals").includes(e.get("id")))&&(r[e.get("name")]=e.get("id"),a.push(e.get("name")))});var i=[],l={};this.props.keys.length&&this.props.keys.forEach(function(e){y.a.isMyKey(e)&&!t.get("available_key_approvals").includes(e)&&(l[e]=!0,i.push(e))});var c=y.a.getMyAccounts();return s.a.createElement("form",{className:"grid-block vertical full-width-content"},s.a.createElement("div",{className:"grid-container"},s.a.createElement("div",{className:"content-block"},s.a.createElement("h4",null,o?"Add approval":"Remove approval")),s.a.createElement("div",{className:"content-block",style:{paddingRight:"20%"}},s.a.createElement(w.a,{proposal:t.get("id"),type:n,added:o?this.state.key?this.state.key:this.state[n]||null:null,removed:o?null:this.state.key?this.state.key:this.state[n]||null})),s.a.createElement("div",{className:"content-block full-width-content"},s.a.createElement("div",{className:"full-width-content form-group"},s.a.createElement("label",null,"Pay with account"),s.a.createElement(g.a,{account_names:c,onChange:this.onChangePayee.bind(this)})),a.length||i.length?s.a.createElement("div",{className:"full-width-content form-group"},s.a.createElement("label",null,"Approval to ",o?"add":"remove"),s.a.createElement(g.a,{account_names:a.concat(i),onChange:this.onActiveAccount.bind(this,r,l,n)})):null,null),s.a.createElement("div",{className:"content-block"},s.a.createElement("input",{type:"submit",className:"button",onClick:this._onProposalAction.bind(this,t),value:o?"Approve":"Remove"}),s.a.createElement("div",{onClick:this.onCancel.bind(this),className:" button"},s.a.createElement(m.a,{content:"account.perm.cancel"})))))}}]),t}(s.a.Component);S.propTypes={accounts:v.a.ChainAccountsList},S=n.i(b.a)(S);var P=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._updateState=e._updateState.bind(e),e}return o(t,e),A(t,[{key:"componentWillMount",value:function(){this._updateState(),T.b.subscribe(this._updateState)}},{key:"componentWillUnmount",value:function(){T.b.unsubscribe(this._updateState)}},{key:"_updateState",value:function(){var e=this.props,t=e.proposal,n=(e.account,t.get("required_active_approvals").size?"active":"owner"),a=k.a.listToIDs(t.get("required_"+n+"_approvals")),r=k.a.listToIDs(t.get("available_"+n+"_approvals")),o=k.a.listToIDs(t.get("available_key_approvals"));this.setState({requiredPermissions:k.a.unnest(a,n),available:r,availableKeys:o,type:n})}},{key:"render",value:function(){var e=this.props,t=(e.account,e.action),n=this.state,a=n.requiredPermissions,r=n.available,o=n.availableKeys,i=n.type,l=[];a.forEach(function(e){l=l.concat(e.getMissingSigs(r))});var c=[];return a.forEach(function(e){c=c.concat(e.getMissingKeys(o))}),s.a.createElement(S,O({},this.props,{type:i,accounts:"approve"===t?l:r,keys:"approve"===t?c:o}))}}]),t}(s.a.Component);P.propTypes={account:v.a.ChainAccount.isRequired,proposal:v.a.ChainObject.isRequired},P=n.i(b.a)(P);var x=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return o(t,e),A(t,[{key:"componentDidMount",value:function(){var e=this;c.a.subscribe(this.props.modalId,function(t,n){e.setState({open:"open"===n})})}},{key:"show",value:function(){c.a.publish(this.props.modalId,"open")}},{key:"render",value:function(){var e=this.props,t=e.modalId;e.proposal;return s.a.createElement(p.a,{id:t,overlay:!0,ref:t},s.a.createElement(f.a,{close:t},s.a.createElement("a",{href:"#",className:"close-button"},"×")),this.state.open?s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement(P,this.props)):null)}}]),t}(s.a.Component);t.a=x},1451:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),l=n(38),c=n.n(l),u=n(130),p=n.n(u),d=n(128),f=n.n(d),h=n(20),m=n.n(h),v=n(45),b=n(44),g=n(18),y=n(1185),_=n(258),E=n(33),w=n(24),k=n.n(w),T=n(6),O=n(1189),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),C=new _.a,S=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={amount:0},e}return o(t,e),A(t,[{key:"onAmountChanged",value:function(e){var t=e.amount;e.asset;this.setState({amount:t})}},{key:"onSubmit",value:function(e){e.preventDefault(),c.a.publish("settlement_modal","close");var t=g.a.get_asset_precision(this.props.asset.get("precision")),n=this.state.amount.replace(/,/g,"");n*=t;var a=C.new_transaction();return a.add_type_operation("asset_settle",{fee:{amount:0,asset_id:0},account:this.props.account.get("id"),amount:{amount:n,asset_id:this.props.asset.get("id")}}),E.a.process_transaction(a,null,!0).then(function(e){return!0}).catch(function(e){return console.error("asset settle error: ",e),!1})}},{key:"render",value:function(){var e=this.props,t=e.asset,n=e.account,a=this.state.amount;if(!t)return null;var r=t.get("id"),o=n.get("balances"),i=null,l=0;o&&o.forEach(function(e){var t=T.b.getObject(e);if(!t.get("balance"))return null;t.get("asset_type")===r&&(i=e,l=t.get("balance"))});var c=g.a.get_asset_precision(t.get("precision")),u=a?a.replace(/,/g,""):0,p=parseFloat(u)>0&&parseFloat(u)*c<=parseFloat(l)?"button success":"button disabled",d=i?s.a.createElement("span",null,s.a.createElement(m.a,{content:"exchange.balance"}),": ",s.a.createElement(y.a,{balance:i})):null;return s.a.createElement("form",{className:"grid-block vertical full-width-content"},s.a.createElement(m.a,{component:"h3",content:"modal.settle.title",asset:t.get("symbol")}),s.a.createElement("div",{className:"grid-container ",style:{paddingTop:"2rem"}},s.a.createElement("div",{className:"content-block",style:{maxWidth:"25rem"}},s.a.createElement(O.a,{label:"modal.settle.amount",amount:a,onChange:this.onAmountChanged.bind(this),display_balance:d,asset:r,assets:[r],tabIndex:1})),s.a.createElement("div",{className:"content-block"},s.a.createElement("input",{type:"submit",className:p,onClick:this.onSubmit.bind(this),value:k.a.translate("modal.settle.submit")}))))}}]),t}(s.a.Component);S.propTypes={asset:v.a.ChainAsset.isRequired,account:v.a.ChainAccount.isRequired},S=n.i(b.a)(S,{keep_updating:!0});var P=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),A(t,[{key:"show",value:function(){c.a.publish("settlement_modal","open")}},{key:"render",value:function(){return s.a.createElement(p.a,{id:"settlement_modal",overlay:!0,ref:"settlement_modal"},s.a.createElement(f.a,{close:"settlement_modal"},s.a.createElement("a",{href:"#",className:"close-button"},"×")),s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement(S,this.props)))}}]),t}(s.a.Component);t.a=P},403:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n.n(s),c=n(25),u=n.n(c),p=n(20),d=n.n(p),f=n(1185),h=n(400),m=n(1451),v=n(1245),b=n(256),g=n(1413),y=n(1228),_=n(1407),E=n(6),w=n(63),k=n(261),T=n(24),O=n.n(T),A=n(75),C=n(37),S=n(45),P=n(109),x=n(44),N=n(18),j=n(1269),R=n(133),L=n.n(R),I=n(1287),M=n(12),W=(n.n(M),n(1229)),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={settleAsset:"1.3.0",showHidden:!1,depositAsset:null,withdrawAsset:null,alwaysShowAssets:["OPEN.BTC","OPEN.USDT","OPEN.ETH","OPEN.MAID","OPEN.STEEM"]},e}return i(t,e),q(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(N.a.are_equal_shallow(e.balanceAssets,this.props.balanceAssets)&&N.a.are_equal_shallow(e.backedCoins,this.props.backedCoins)&&N.a.are_equal_shallow(e.balances,this.props.balances)&&e.account===this.props.account&&e.settings===this.props.settings&&e.hiddenAssets===this.props.hiddenAssets&&N.a.are_equal_shallow(t,this.state))}},{key:"_onSettleAsset",value:function(e,t){t.preventDefault(),this.setState({settleAsset:e}),this.refs.settlement_modal.show()}},{key:"_hideAsset",value:function(e,t){w.a.hideAsset(e,t)}},{key:"_showDepositWithdraw",value:function(e,t,n,r){var o,i=this;r.preventDefault(),this.setState((o={},a(o,"deposit_modal"===e?"depositAsset":"withdrawAsset",t),a(o,"fiatModal",n),o),function(){i.refs[e].show()})}},{key:"_getSeparator",value:function(e){return e?l.a.createElement("span",null," | "):null}},{key:"_onNavigate",value:function(e,t){t.preventDefault(),this.props.router.push(e)}},{key:"_renderBalances",value:function(e,t,n){function a(e,t){return e.key>t.key?1:e.key<t.key?-1:0}var r=this,o=this.props,i=o.settings,s=o.hiddenAssets,c=o.orders,u=i.get("unit")||"1.3.0",p=i.get("showAssetPercent",!1),h=[],m=[];e.forEach(function(e){var t=E.b.getObject(e),n=t.get("asset_type"),a=E.b.getObject(n),o=a&&a.has("bitasset_data_id"),i=E.b.getAsset("1.3.0"),g=void 0,y=void 0,_=void 0,w=void 0,T=void 0,S=void 0,x=void 0,N="";if(!a)return null;var R=a.get("symbol"),I="1.3.0"!==a.get("id"),M=k.a.parseDescription(a.getIn(["options","description"])),W=M.market;N=a.get("symbol");var D=W?W:i?i.get("symbol"):"BTS",q="/asset/"+a.get("symbol"),Y="/market/"+a.get("symbol")+"_"+D;if(y=I?l.a.createElement("a",{href:Y,onClick:r._onNavigate.bind(r,Y)},l.a.createElement(b.a,{name:a.get("symbol")})," : ",l.a.createElement(b.a,{name:D})):null,_=I?l.a.createElement(C.f,{to:"/market/"+a.get("symbol")+"_"+D},l.a.createElement(d.a,{content:"account.trade"})):null,T=l.a.createElement(C.f,{to:"/transfer?asset="+a.get("id")},l.a.createElement(d.a,{content:"transaction.trxTypes.transfer"})),o){var H="cp_modal_"+a.get("id");x=l.a.createElement(j.a,{ref:H,quote_asset:a.get("id"),backing_asset:a.getIn(["bitasset","options","short_backing_asset"]),account:r.props.account}),S=l.a.createElement("a",{onClick:function(){L.a.hide(),r.refs[H].show()}},l.a.createElement(d.a,{content:"exchange.borrow"}))}w=l.a.createElement("a",{href:!0,onClick:r._onSettleAsset.bind(r,a.get("id"))},l.a.createElement(d.a,{content:"account.settle"})),g=l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:q,onClick:r._onNavigate.bind(r,q)},l.a.createElement(d.a,{content:"account.asset_details"}))),I?l.a.createElement("li",null,y):null,o?l.a.createElement("li",null,w):null);var X=!s.includes(n),F=!!t.get("balance"),B=!!c[n],K=!!r.props.backedCoins.get("OPEN",[]).find(function(e){return e.symbol===a.get("symbol")}),U=K&&F&&0!=t.get("balance"),z=B?l.a.createElement(P.a,{amount:c[n],asset:n}):null;if(B){var V=l.a.createElement(C.f,{to:"/account/"+r.props.account.get("name")+"/orders"},l.a.createElement(d.a,{content:"account.see_open"}));m.push(l.a.createElement("tr",{key:a.get("symbol"),style:{maxWidth:"100rem"}},l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement("div",{className:"tooltip","data-place":"bottom","data-tip":O.a.translate("account.in_open",{asset:N}),style:{paddingTop:8}},z)),l.a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},l.a.createElement("div",{className:"tooltip","data-place":"bottom","data-tip":O.a.translate("account.in_open_value",{asset:N}),style:{paddingTop:8}},l.a.createElement(v.a,{amount:c[n],fromAsset:n,noDecimals:!0,toAsset:u}))),l.a.createElement("td",{colSpan:"3",style:{textAlign:"center"}},_,_?l.a.createElement("span",null," | "):null,V)))}h.push(l.a.createElement("tr",{key:a.get("symbol"),style:{maxWidth:"100rem"}},l.a.createElement("td",{style:{textAlign:"right"}},F||B?l.a.createElement(f.a,{balance:e,assetInfo:g}):null),l.a.createElement("td",{style:{textAlign:"right"},className:"column-hide-small"},F||B?l.a.createElement(v.b,{balance:e,toAsset:u}):null),p?l.a.createElement("td",{style:{textAlign:"right"}},F?l.a.createElement(f.a,{balance:e,asPercentage:!0}):null):null,l.a.createElement("td",{style:{textAlign:"center"}},T,K&&r.props.isMyAccount?l.a.createElement("span",null,r._getSeparator(F||B),l.a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"deposit_modal",R,!1)},l.a.createElement(d.a,{content:"gateway.deposit"}))):null,U&&r.props.isMyAccount?l.a.createElement("span",null,r._getSeparator(K||F),l.a.createElement("a",{className:U?"":"disabled",onClick:U?r._showDepositWithdraw.bind(r,"withdraw_modal",R,!1):function(){}},l.a.createElement(d.a,{content:"modal.withdraw.submit"}))):null),l.a.createElement("td",{style:{textAlign:"center"}},_,o?l.a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":O.a.translate("tooltip.borrow",{asset:N})}," | ",S,x):null,o?l.a.createElement("div",{className:"inline-block","data-place":"bottom","data-tip":O.a.translate("tooltip.settle",{asset:N})}," | ",w):null),l.a.createElement("td",{style:{textAlign:"center"},className:"column-hide-small","data-place":"bottom","data-tip":O.a.translate("tooltip."+(X?"hide_asset":"show_asset"))},l.a.createElement("a",{style:{marginRight:0},className:X?"order-cancel":"action-plus",onClick:r._hideAsset.bind(r,n,X)},l.a.createElement(A.a,{name:X?"cross-circle":"plus-circle",className:"icon-14px"})))))});var g=h.length;return t&&(t.filter(function(e){var t=!1;r.props.backedCoins.get("OPEN",[]).forEach(function(n){n&&n.symbol===e&&(t=!0)});var n=!0;return h.forEach(function(t){t.key===e&&(n=!1)}),n&&t}).forEach(function(e){var t=E.b.getAsset(e);if(t&&r.props.isMyAccount){var a=!s.includes(t.get("id"));(a&&n||!a&&!n)&&h.push(l.a.createElement("tr",{key:"zz"+e,style:{maxWidth:"100rem"}},l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement(b.a,{name:e})),l.a.createElement("td",null),l.a.createElement("td",{colSpan:"1",style:{textAlign:"center"}},l.a.createElement("span",null,l.a.createElement("a",{onClick:r._showDepositWithdraw.bind(r,"deposit_modal",e,!1)},l.a.createElement(d.a,{content:"gateway.deposit"})))),l.a.createElement("td",null),l.a.createElement("td",{style:{textAlign:"center"},className:"column-hide-small","data-place":"bottom","data-tip":O.a.translate("tooltip."+(a?"hide_asset":"show_asset"))},l.a.createElement("a",{style:{marginRight:0},className:a?"order-cancel":"action-plus",onClick:r._hideAsset.bind(r,t.get("id"),a)},l.a.createElement(A.a,{name:a?"cross-circle":"plus-circle",className:"icon-14px"})))))}}),h.length!==g&&h.splice(g+1,0,l.a.createElement("tr",{style:{backgroundColor:"transparent"},key:"hidden_"+g},l.a.createElement("td",{style:{height:20},colSpan:"5"})))),h.sort(a),m.sort(a),{balances:h,openOrders:m}}},{key:"_toggleHiddenAssets",value:function(){this.setState({showHidden:!this.state.showHidden})}},{key:"render",value:function(){var e=this,t=this.props,n=t.account,a=t.hiddenAssets,r=t.settings,o=t.orders,i=this.state.showHidden;if(!n)return null;var s=[],c=0,p={};n.toJS&&n.has("call_orders")&&(s=n.get("call_orders").toJS());var f=void 0,v=void 0,b=void 0,w=void 0,k=!1,T=n.get("balances"),A=u.a.List(),C=u.a.List();if(s.forEach(function(e){var t=E.b.getObject(e);if(t){c+=parseInt(t.get("collateral"),10);var n=t.getIn(["call_price","quote","asset_id"]);p[n]?p[n]+=parseInt(t.get("debt"),10):p[n]=parseInt(t.get("debt"),10)}}),T){T=T.filter(function(e,t){var n=E.b.getObject(e);return!(n&&!n.get("balance")&&!o[t])}),T.forEach(function(e,t){a.includes(t)?C=C.push(e):A=A.push(e)});var S=this._renderBalances(A,this.state.alwaysShowAssets,!0);f=S.balances,b=S.openOrders;var P=this._renderBalances(C,this.state.alwaysShowAssets);v=P.balances,w=P.openOrders,k=w.length||b.length}v&&v.unshift(l.a.createElement("tr",{style:{backgroundColor:"transparent"},key:"hidden"},l.a.createElement("td",{style:{height:20},colSpan:"4"})));var x=A.concat(C),N=x.size?l.a.createElement(h.a,{balances:x,openOrders:o,debt:p,collateral:c,label:"account.estimate_value"}):null,j=r.get("showAssetPercent",!1),R=this.props.backedCoins.get("OPEN",[]).find(function(t){return t.symbol===e.state.depositAsset})||{},L=this.props.backedCoins.get("OPEN",[]).find(function(t){return t.symbol===e.state.withdrawAsset})||{};return l.a.createElement("div",{className:"grid-content",style:{overflowX:"hidden"}},l.a.createElement("div",{className:"content-block small-12"},l.a.createElement("div",{className:"generic-bordered-box"},l.a.createElement("div",{className:"block-content-header",style:{position:"relative"}},l.a.createElement(d.a,{content:"transfer.balances"}),v&&v.length-1>0?l.a.createElement("div",{className:"button outline small column-hide-small no-margin",style:{position:"absolute",top:0,right:0},onClick:this._toggleHiddenAssets.bind(this)},l.a.createElement(d.a,{content:"account."+(i?"hide_hidden":"show_hidden")}),l.a.createElement("span",null," (",v.length-1,")")):null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{textAlign:"right"}},l.a.createElement(d.a,{component:"span",content:"account.asset"})),l.a.createElement("th",{style:{textAlign:"right"},className:"column-hide-small"},l.a.createElement(d.a,{component:"span",content:"account.eq_value"})),j?l.a.createElement("th",{style:{textAlign:"right"}},l.a.createElement(d.a,{component:"span",content:"account.percent"})):null,l.a.createElement("th",{style:{textAlign:"center"}},l.a.createElement(d.a,{content:"account.transfer_actions"})),l.a.createElement("th",{style:{textAlign:"center"}},l.a.createElement(d.a,{content:"account.market_actions"})),l.a.createElement("th",null))),l.a.createElement("tbody",null,f,x.size>1?l.a.createElement("tr",{className:"tooltip","data-place":"bottom","data-tip":O.a.translate("account.total_estimate"),style:{backgroundColor:"transparent"}},l.a.createElement("td",{colSpan:"2",style:{textAlign:"right",fontWeight:"bold",paddingTop:20}},l.a.createElement("span",null,N))):null,i?v:null,k?l.a.createElement("tr",{style:{backgroundColor:"transparent"}},l.a.createElement("td",{style:{height:20},colSpan:"4"})):null,k?l.a.createElement("tr",{style:{backgroundColor:"transparent"}},l.a.createElement("td",{colSpan:"5",className:"no-padding"},l.a.createElement("div",{className:"block-content-header"},l.a.createElement(d.a,{content:"account.open_orders"})))):null,b,w)),l.a.createElement(m.a,{ref:"settlement_modal",asset:this.state.settleAsset,account:n.get("name")}))),s.length>0?l.a.createElement("div",{className:"content-block"},l.a.createElement("div",{className:"generic-bordered-box"},l.a.createElement("div",{className:"block-content-header"},l.a.createElement(d.a,{content:"account.collaterals"})),l.a.createElement(g.a,{callOrders:s,account:n}))):null,n.get("proposals")&&n.get("proposals").size?l.a.createElement("div",{className:"content-block"},l.a.createElement("div",{className:"block-content-header"},l.a.createElement(d.a,{content:"explorer.proposals.title",account:n.get("id")})),l.a.createElement(_.a,{account:n.get("id")})):null,l.a.createElement("div",{className:"content-block"},l.a.createElement(y.b,{accountsList:u.a.fromJS([n.get("id")]),compactView:!1,showMore:!0,fullHeight:!0,limit:10,showFilters:!0})),l.a.createElement(I.a,D({ref:"deposit_modal",action:"deposit",fiatModal:this.state.fiatModal,account:this.props.account.get("name"),sender:this.props.account.get("id"),asset:this.state.depositAsset,modalId:"simple_deposit_modal",balances:this.props.balances},R)),l.a.createElement(I.a,D({ref:"withdraw_modal",action:"withdraw",fiatModal:this.state.fiatModal,account:this.props.account.get("name"),sender:this.props.account.get("id"),asset:this.state.withdrawAsset,modalId:"simple_withdraw_modal",balances:this.props.balances},L)))}}]),t}(l.a.Component);Y.propTypes={balanceAssets:S.a.ChainAssetsList},Y=n.i(x.a)(Y);var H=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),q(t,[{key:"componentWillMount",value:function(){"4018d784"===M.Apis.instance().chain_id.substr(0,8)&&W.a.fetchCoins()}},{key:"render",value:function(){var e=this.props.balances.map(function(e){return e&&e.get("asset_type")}).filter(function(e){return!!e}),t=this.props.orders.reduce(function(e,t){var n=t.getIn(["sell_price","base","asset_id"]);return e[n]||(e[n]=0),e[n]+=parseInt(t.get("for_sale"),10),e},{});for(var n in t)e.indexOf(n)===-1&&e.push(n);return l.a.createElement(Y,D({},this.state,this.props,{orders:t,balanceAssets:u.a.List(e)}))}}]),t}(l.a.Component);H.propTypes={balances:S.a.ChainObjectsList,orders:S.a.ChainObjectsList},H.defaultProps={balances:u.a.List(),orders:u.a.List()},t.default=n.i(x.a)(H)}});
//# sourceMappingURL=4.js.map