webpackJsonp([31],{1212:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return j}),n.d(t,"a",function(){return A});var s=n(1),l=n.n(s),i=n(106),c=n(41),u=n(42),p=n(19),f=n(252),m=n(7),b=n(74),y=(n.n(b),n(387)),g=n(20),h=n.n(g),d=n(23),v=n.n(d),_=n(128),E=n.n(_),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fromStatsInterval=null,e.toStatsInterval=null,e}return o(t,e),O(t,[{key:"componentWillMount",value:function(){var e=this,t=m.b.getAsset("1.3.0");t&&(this.props.fromAsset.get("id")!==t.get("id")&&(f.a.getMarketStats(t,this.props.fromAsset),this.fromStatsInterval=setInterval(f.a.getMarketStats.bind(this,t,this.props.fromAsset),3e5)),this.props.toAsset.get("id")!==t.get("id")&&(f.a.getMarketStats.defer(t,this.props.toAsset),this.toStatsInterval=setInterval(function(){f.a.getMarketStats.defer(t,e.props.toAsset)},3e5)))}},{key:"componentWillUnmount",value:function(){clearInterval(this.fromStatsInterval),clearInterval(this.toStatsInterval)}},{key:"componentDidMount",value:function(){E.a.rebuild()}},{key:"getValue",value:function(){var e=this.props,t=e.amount,n=e.toAsset,r=e.fromAsset,a=e.fullPrecision,o=e.marketStats,s=m.b.getAsset("1.3.0"),l=void 0,i=void 0,c=n.get("id"),u=n.get("symbol"),f=r.get("id"),b=r.get("symbol");if(a||(t=p.a.get_asset_amount(t,r)),s&&o){var y=s.get("symbol");l=o.get(u+"_"+y),i=o.get(b+"_"+y)}var g=p.a.convertPrice(i&&i.close?i.close:r,l&&l.close?l.close:n,f,c);return p.a.convertValue(g,t,r,n)}},{key:"render",value:function(){var e=this.props,t=e.amount,n=e.toAsset,r=e.fromAsset,a=e.fullPrecision,o=e.marketStats,s=m.b.getAsset("1.3.0"),c=void 0,u=void 0,f=n.get("id"),b=n.get("symbol"),y=r.get("id"),g=r.get("symbol");if(a||(t=p.a.get_asset_amount(t,r)),s&&o){var d=s.get("symbol");c=o.get(b+"_"+d),u=o.get(g+"_"+d)}var _=p.a.convertPrice(u&&u.close?u.close:"1.3.0"===y||r.has("bitasset")?r:null,c&&c.close?c.close:"1.3.0"===f||n.has("bitasset")?n:null,y,f),E=_?p.a.convertValue(_,t,r,n):null;return E||0===E?l.a.createElement(i.a,{noPrefix:!0,amount:E,asset:f,decimalOffset:-1!==b.indexOf("BTC")?4:this.props.noDecimals?n.get("precision"):0}):l.a.createElement("div",{className:"tooltip inline-block","data-place":"bottom","data-tip":v.a.translate("tooltip.no_price"),style:{fontSize:"0.9rem"}},l.a.createElement(h.a,{content:"account.no_price"}))}}]),t}(l.a.Component);k.propTypes={toAsset:c.a.ChainAsset.isRequired,fromAsset:c.a.ChainAsset.isRequired},k.defaultProps={toAsset:"1.3.0",fullPrecision:!0,noDecimals:!1},k=Object(u.a)(k,{keep_updating:!0});var j=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),O(t,[{key:"render",value:function(){return l.a.createElement(k,this.props)}}]),t}(l.a.Component);j=Object(b.connect)(j,{listenTo:function(){return[y.a]},getProps:function(){return{marketStats:y.a.getState().allMarketStats}}});var A=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),O(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance")),t=this.props.balance.get("asset_type");return l.a.createElement(j,{amount:e,fromAsset:t,noDecimals:!0,toAsset:this.props.toAsset})}}]),t}(l.a.Component);A.propTypes={balance:c.a.ChainObject.isRequired},A=Object(u.a)(A,{keep_updating:!0})},1260:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),u=n.n(c),p=n(50),f=n(166),m=n.n(f),b=n(27),y=n.n(b),g=n(23),h=n.n(g),d=n(49),v=n.n(d),_=n(20),E=n.n(_),O=n(383),k=n(41),j=n(42),A=n(106),w=n(1212),P=n(7),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=P.c.operations,C=Object.keys(x),T={general:[0,25,26,27,28,32,33,37,39,40],asset:[10,11,12,13,14,15,16,17,18,19,38],market:[1,2,3,4,17,18],account:[5,6,7,8,9],business:[20,21,22,23,24,29,30,31,34,35,36]},I=[5,7,20,21,34],N=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),S(t,[{key:"shouldComponentUpdate",value:function(e){return!y.a.is(e.globalObject,this.props.globalObject)}},{key:"render",value:function(){var e=this.props,t=e.globalObject,n=e.settings,r=e.opIds;e.title;t=t.toJSON();var a=P.b.getAsset("1.3.0"),o=t.parameters.current_fees,s=o.scale,l=o.parameters,i=n.get("unit")||a.get("symbol"),c=h.a.translate("transaction.trxTypes"),p=r.map(function(e){if(e>=l.length)return void console.warn("Asking for non-existing fee id %d! Check group settings in Fees.jsx",e);var t=l[e],n=t[0],r=t[1],a=C[n],o=c[a],p=[],f=!1,m=v()("label","info");for(var b in r){var y=r[b]*s/1e4,g=h.a.translate("transaction.feeTypes"),d=(y?u.a.createElement(A.a,{amount:y,asset:"1.3.0"}):g._none,y?u.a.createElement(w.b,{fromAsset:"1.3.0",fullPrecision:!0,amount:y,toAsset:i}):g._none),_=(.2*y?u.a.createElement(A.a,{amount:.2*y,asset:"1.3.0"}):g._none,.2*y?u.a.createElement(w.b,{fromAsset:"1.3.0",fullPrecision:!0,amount:.2*y,toAsset:i}):g._none),E=null;f||(f=!0,E=u.a.createElement("td",{rowSpan:"6",style:{width:"15em"}},u.a.createElement("span",{className:m},o))),I.indexOf(n)<0?p.push(u.a.createElement("tr",{key:n.toString()+b},E,u.a.createElement("td",null,g[b]),u.a.createElement("td",{style:{textAlign:"right"}},d),u.a.createElement("td",{style:{textAlign:"right"}},_))):p.push(u.a.createElement("tr",{key:n.toString()+b},E,u.a.createElement("td",null,g[b]),u.a.createElement("td",{style:{textAlign:"right"}},"- ",u.a.createElement("sup",null,"*")),u.a.createElement("td",{style:{textAlign:"right"}},_)))}return u.a.createElement("tbody",{key:e},p)});return u.a.createElement("div",{className:"asset-card"},u.a.createElement("div",{className:"card-divider"},this.props.title),u.a.createElement("table",{className:"table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,u.a.createElement(E.a,{content:"explorer.block.op"})),u.a.createElement("th",null,u.a.createElement(E.a,{content:"explorer.fees.type"})),u.a.createElement("th",{style:{textAlign:"right"}},u.a.createElement(E.a,{content:"explorer.fees.fee"})),u.a.createElement("th",{style:{textAlign:"right"}},u.a.createElement(E.a,{content:"explorer.fees.feeltm"})))),p))}}]),t}(u.a.Component);N.propTypes={globalObject:k.a.ChainObject.isRequired},N.defaultProps={globalObject:"2.0.0"},N=Object(j.a)(N,{keep_updating:!0});var M=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),S(t,[{key:"render",value:function(){var e=h.a.translate("transaction.feeGroups"),t=[];for(var n in T){var r=e[n],a=T[n];t.push(u.a.createElement(N,{key:n,settings:this.props.settings,opIds:a,title:r}))}return u.a.createElement("div",{className:"grid-block page-layout"},u.a.createElement("div",{className:"grid-block vertical",style:{overflow:"visible"}},u.a.createElement("div",{className:"grid-block small-12 shrink",style:{overflow:"visible"}},u.a.createElement(O.a,{path:"components/Fees"})),u.a.createElement("div",{className:"grid-block small-12 ",style:{overflow:"visible"}},u.a.createElement("div",{className:"grid-content"},t))))}}]),t}(u.a.Component),R=M,q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),q(t,[{key:"render",value:function(){return u.a.createElement(m.a,{stores:[p.a],inject:{settings:p.a.getState().settings}},u.a.createElement(R,this.props))}}]),t}(u.a.Component);t.default=D}});
//# sourceMappingURL=31.js.map