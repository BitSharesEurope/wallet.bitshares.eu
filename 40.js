webpackJsonp([40],{1280:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m=a(1),s=a.n(m),u=a(42),p=a(22),f=a.n(p),b=a(7),d=a(40),_=a(41),E=a(107),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),g(t,[{key:"render",value:function(){var e=this.props.stat_object.toJS();return s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.fees_paid"})," "),s.a.createElement("td",null,s.a.createElement(E.a,{amount:parseFloat(e.lifetime_fees_paid),asset:"1.3.0"}))),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.fees_pending"})," "),s.a.createElement("td",null,s.a.createElement(E.a,{amount:parseFloat(e.pending_fees),asset:"1.3.0"}))),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.fees_vested"})," "),s.a.createElement("td",null,s.a.createElement(E.a,{amount:parseFloat(e.pending_vested_fees),asset:"1.3.0"}))))}}]),t}(s.a.Component);h.propTypes={stat_object:d.a.ChainObject.isRequired};var v=Object(_.a)(h,{keep_updating:!0}),y=a(124),O=a(258),w=a(382),j=a(171),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),N(t,[{key:"render",value:function(){var e=this.props.dprops;return s.a.createElement(w.a,k({},this.props,{path:"components/AccountMembership",section:"fee-division",nextMaintenanceTime:{time:e.get("next_maintenance_time")}}))}}]),t}(s.a.Component);P.propTypes={dprops:d.a.ChainObject.isRequired},P.defaultProps={dprops:"2.1.0"},P=Object(_.a)(P);var A=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),N(t,[{key:"upgradeAccount",value:function(e,t,a){a.preventDefault(),y.a.upgradeAccount(e,t)}},{key:"componentWillMount",value:function(){j.a.getFinalFeeAsset(this.props.account,"account_upgrade")}},{key:"render",value:function(){var e=this.props,t=e.gprops,a=e.core_asset,n=this.props.account.toJS(),r=b.b.getAccount(n.lifetime_referrer,!1);r&&(n.lifetime_referrer_name=r.get("name"));var c=b.b.getAccount(n.referrer,!1);c&&(n.referrer_name=c.get("name"));var l=b.b.getAccount(n.registrar,!1);l&&(n.registrar_name=l.get("name"));var o=n.name,i=n.network_fee_percentage/100,m=n.lifetime_referrer_fee_percentage/100,p=100-i-m,d=p*n.referrer_rewards_percentage/1e4,_=100-d-m-i,E=t.getIn(["parameters","current_fees","parameters",8,1,"membership_lifetime_fee"])*t.getIn(["parameters","current_fees","scale"])/1e4,g=(t.getIn(["parameters","current_fees","parameters",8,1,"membership_annual_fee"]),t.getIn(["parameters","current_fees","scale"]),b.b.getAccountMemberStatus(this.props.account)),h="account.member."+g,y=null;"annual"===g&&(y=s.a.createElement("span",null,"(",s.a.createElement(f.a,{content:"account.member.expires"})," ",s.a.createElement(O.a,{time:n.membership_expiration_date}),")"));var j=n.membership_expiration_date;return"1969-12-31T23:59:59"===j?j="Never":"1970-01-01T00:00:00"===j&&(j="N/A"),s.a.createElement("div",{className:"grid-content",style:{overflowX:"hidden"}},s.a.createElement("div",{className:"content-block no-margin"},s.a.createElement("h3",null,s.a.createElement(f.a,{content:h})," ",y),"lifetime"===g?null:s.a.createElement("div",null,s.a.createElement("div",{className:"large-6 medium-8"},s.a.createElement(w.a,{path:"components/AccountMembership",section:"lifetime",feesCashback:100-i,price:{amount:E,asset:a}}),s.a.createElement("div",{className:"button no-margin",onClick:this.upgradeAccount.bind(this,n.id,!0)},s.a.createElement(f.a,{content:"account.member.upgrade_lifetime"})),"    ",null),s.a.createElement("br",null),s.a.createElement("hr",null))),s.a.createElement("div",{className:"content-block no-margin"},s.a.createElement("div",{className:"no-margin grid-block vertical large-horizontal"},s.a.createElement("div",{className:"no-margin grid-block large-5"},s.a.createElement("div",{className:"grid-content"},"lifetime"===g?s.a.createElement("div",null,s.a.createElement("h4",null,s.a.createElement(f.a,{content:"account.member.referral_link"})),s.a.createElement(f.a,{content:"account.member.referral_text"}),":",s.a.createElement("h5",null,"https://wallet.bitshares.eu/?r="+n.name)):null,s.a.createElement("h4",null,s.a.createElement(f.a,{content:"account.member.fee_allocation"})),s.a.createElement("table",{className:"table key-value-table"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.network_percentage"})),s.a.createElement("td",null,i,"%")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.lifetime_referrer"}),"    (",s.a.createElement(u.b,{to:"account/"+n.lifetime_referrer_name+"/overview"},n.lifetime_referrer_name),")"),s.a.createElement("td",null,m,"%")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.registrar"}),"    (",s.a.createElement(u.b,{to:"account/"+n.registrar_name+"/overview"},n.registrar_name),")"),s.a.createElement("td",null,_,"%")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.referrer"}),"    (",s.a.createElement(u.b,{to:"account/"+n.referrer_name+"/overview"},n.referrer_name),")"),s.a.createElement("td",null,d,"%")),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(f.a,{content:"account.member.membership_expiration"})," "),s.a.createElement("td",null,j)))),s.a.createElement("h4",{style:{paddingTop:"1rem"}},s.a.createElement(f.a,{content:"account.member.fees_cashback"})),s.a.createElement("table",{className:"table key-value-table"},s.a.createElement(v,{stat_object:n.statistics})))),s.a.createElement("div",{className:"grid-block large-7"},s.a.createElement("div",{className:"grid-content"},s.a.createElement(P,{account:o,networkFee:i,referrerFee:d,registrarFee:_,lifetimeFee:m,referrerTotalFee:p,maintenanceInterval:t.getIn(["parameters","maintenance_interval"]),vestingThreshold:{amount:t.getIn(["parameters","cashback_vesting_threshold"]),asset:a},vestingPeriod:t.getIn(["parameters","cashback_vesting_period_seconds"])/60/60/24}))))))}}]),t}(s.a.Component);A.propTypes={account:d.a.ChainAccount.isRequired,gprops:d.a.ChainObject.isRequired,core_asset:d.a.ChainAsset.isRequired},A.defaultProps={gprops:"2.0.0",core_asset:"1.3.0"},A=Object(_.a)(A);t.default=A}});
//# sourceMappingURL=40.js.map