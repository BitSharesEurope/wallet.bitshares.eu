webpackJsonp([21],{1508:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.a.BASE_OL+y.a.COINS_LIST;return fetch(e).then(function(e){return e.json().then(function(e){return e})}).catch(function(t){console.log("error fetching simple list of coins",t,e)})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.a.BASE+y.a.DEPOSIT_LIMIT;return fetch(n+"?inputCoinType="+encodeURIComponent(e)+"&outputCoinType="+encodeURIComponent(t),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(n){console.log("error fetching deposit limit of",e,t,n)})}function r(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.a.BASE+y.a.ESTIMATE_OUTPUT;return fetch(o+"?inputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}function a(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.a.BASE+y.a.ESTIMATE_INPUT;return fetch(o+"?outputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}function c(e){var t=e.inputCoinType,n=e.outputCoinType,o=e.outputAddress,i=e.url,r=void 0===i?y.a.BASE_OL:i,a=e.stateCallback,c={inputCoinType:t,outputCoinType:n,outputAddress:o},s=JSON.stringify(c);C[s]||(C[s]=!0,fetch(r+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:s}).then(function(e){e.json().then(function(e){delete C[s];var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};a&&a(t)},function(e){delete C[s],a&&a(null)})},function(e){delete C[s],a&&a(null)}).catch(function(e){console.log("fetch error:",e),delete C[s]}))}function s(e){var t=e.url,n=void 0===t?y.a.BASE:t,o=e.walletType,i=e.newAddress;return i?fetch(n+"/wallets/"+o+"/address-validator?address="+encodeURIComponent(i),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e.isValid})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}function u(e){var t=e.input_coin_type,n=e.output_coin_type,o=e.url,i=e.account_name;if(!t||!n)return Promise.reject();var r=JSON.stringify({inputCoinType:t,outputCoinType:n,outputAddress:i,inputMemo:"blocktrades conversion: "+t+"to"+n}),a=o+t+n+i;return new Promise(function(e,t){if(v[a])return e(v[a]);fetch(o+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:r}).then(function(n){n.json().then(function(t){v[a]=t,e(t)},t).catch(t)}).catch(t)})}function p(e){return b.has("history_address_"+e)}function d(e){var t=e.wallet,n=e.addresses;b.set("history_address_"+t,n)}function l(e){return b.get("history_address_"+e,[])}function f(e){var t=e.wallet,n=e.address;b.set("history_address_last_"+t,n)}function h(e){return b.get("history_address_last_"+e,"")}t.d=o,t.f=i,t.c=r,t.b=a,t.g=c,t.h=s,t.e=u,n.d(t,"a",function(){return m});var g=n(102),y=n(272),b=new g.a(""),C={},v={},m={has:p,set:d,get:l,setLast:f,getLast:h}},1518:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(10),r=n(1508),a=(n(272),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),c={},s=function(e,t){e({down:t})},u=function(){function e(){o(this,e)}return a(e,[{key:"fetchCoins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.backer,e.url;return{}}},{key:"fetchCoinsSimple",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backer,n=void 0===t?"RUDEX":t,o=e.url,i=void 0===o?void 0:o;return c["fetchCoinsSimple_"+n]?{}:(c["fetchCoinsSimple_"+n]=!0,function(e){var t=setTimeout(s.bind(null,e,n),1e4);Object(r.d)(i).then(function(o){clearTimeout(t),delete c["fetchCoinsSimple_"+n],e({coins:o,backer:n})})})}},{key:"fetchBridgeCoins",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{}}}]),e}();t.a=i.a.createActions(u)},1524:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(18),r=n.n(i),a=n(10),c=n(1518),s=n(102),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=new s.a("__graphene__"),d=function(){function e(){o(this,e),this.backedCoins=r.a.Map(p.get("backedCoins",{})),this.bridgeCoins=r.a.Map(r.a.fromJS(p.get("bridgeCoins",{}))),this.bridgeInputs=["btc","dash","eth","steem"],this.down=r.a.Map({}),this.bindListeners({onFetchCoins:c.a.fetchCoins,onFetchCoinsSimple:c.a.fetchCoinsSimple,onFetchBridgeCoins:c.a.fetchBridgeCoins})}return u(e,[{key:"onFetchCoins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backer,n=e.coins,o=e.backedCoins,i=e.down;t&&n&&(this.backedCoins=this.backedCoins.set(t,o),p.set("backedCoins",this.backedCoins.toJS()),this.down=this.down.set(t,!1)),i&&(this.down=this.down.set(i,!0))}},{key:"onFetchCoinsSimple",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backer,n=e.coins,o=e.down;t&&n&&(this.backedCoins=this.backedCoins.set(t,n),p.set("backedCoins",this.backedCoins.toJS()),this.down=this.down.set(t,!1)),o&&(this.down=this.down.set(o,!0))}},{key:"onFetchBridgeCoins",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.coins,o=t.bridgeCoins,i=t.wallets,a=t.down;if(n&&o&&i){var c={};n.forEach(function(e){return c[e.coinType]=e}),o=o.filter(function(t){return t&&c[t.outputCoinType]&&"bitshares2"===c[t.outputCoinType].walletType&&-1!==e.bridgeInputs.indexOf(t.inputCoinType)}).forEach(function(t){t.isAvailable=-1!==i.indexOf(c[t.outputCoinType].walletType),e.bridgeCoins=e.bridgeCoins.setIn([c[t.outputCoinType].walletSymbol,t.inputCoinType],r.a.fromJS(t))}),p.set("bridgeCoins",this.bridgeCoins.toJS())}a&&(this.down=this.down.set(a,!0))}}]),e}();t.a=a.a.createStore(d,"GatewayStore")},1591:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),c=n.n(a),s=n(85),u=n(55),p=n(38),d=n(185),l=n(1524),f=n(33),h=n(34),g=n(26),y=(n.n(g),n(182)),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),C(t,[{key:"componentDidMount",value:function(){this.props.account&&s.a.setCurrentAccount.defer(this.props.account.get("name")),y.a.getPossibleFees(this.props.account,"transfer")}},{key:"componentWillReceiveProps",value:function(e){e.account&&s.a.setCurrentAccount.defer(e.account.get("name"))}},{key:"render",value:function(){var e=this.props,t=e.linkedAccounts,n=e.account_name,o=e.searchAccounts,i=e.settings,r=e.wallet_locked,a=e.account,s=e.hiddenAssets,p=u.a.isMyAccount(a);return c.a.createElement("div",{className:"grid-block page-layout"},c.a.createElement("div",{className:"grid-block no-padding"},c.a.cloneElement(c.a.Children.only(this.props.children),{account_name:n,linkedAccounts:t,searchAccounts:o,settings:i,wallet_locked:r,account:a,isMyAccount:p,hiddenAssets:s,contained:!0,balances:a.get("balances",null),orders:a.get("orders",null),backedCoins:this.props.backedCoins,bridgeCoins:this.props.bridgeCoins,gatewayDown:this.props.gatewayDown,viewSettings:this.props.viewSettings,proxy:a.getIn(["options","voting_account"])})))}}]),t}(c.a.Component);v.propTypes={account:f.a.ChainAccount.isRequired},v.defaultProps={account:"props.params.account_name"},v=Object(h.a)(v,{keep_updating:!0,show_loader:!0});var m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),C(t,[{key:"render",value:function(){var e=this.props.routeParams.account_name;return c.a.createElement(v,b({},this.props,{account_name:e}))}}]),t}(c.a.Component);t.default=Object(g.connect)(m,{listenTo:function(){return[u.a,p.a,d.a,l.a]},getProps:function(){return{linkedAccounts:u.a.getState().linkedAccounts,searchAccounts:u.a.getState().searchAccounts,settings:p.a.getState().settings,hiddenAssets:p.a.getState().hiddenAssets,wallet_locked:d.a.getState().locked,viewSettings:p.a.getState().viewSettings,backedCoins:l.a.getState().backedCoins,bridgeCoins:l.a.getState().bridgeCoins,gatewayDown:l.a.getState().down}}})}});
//# sourceMappingURL=21.js.map