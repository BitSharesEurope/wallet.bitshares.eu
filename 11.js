webpackJsonp([11],{1151:function(e,t,n){"use strict";function r(e){function t(){l.add(e,"ps-focus")}function n(){l.remove(e,"ps-focus")}var r=this;r.settings=s.clone(c),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===u.css(e,"direction"),r.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),r.negativeScrollAdjustment=r.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.event=new h,r.ownerDocument=e.ownerDocument||document,r.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),e),r.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",t),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=s.toInt(u.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:s.toInt(u.css(r.scrollbarXRail,"top")),r.railBorderXWidth=s.toInt(u.css(r.scrollbarXRail,"borderLeftWidth"))+s.toInt(u.css(r.scrollbarXRail,"borderRightWidth")),u.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=s.toInt(u.css(r.scrollbarXRail,"marginLeft"))+s.toInt(u.css(r.scrollbarXRail,"marginRight")),u.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),e),r.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",t),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=s.toInt(u.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:s.toInt(u.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?s.outerWidth(r.scrollbarY):null,r.railBorderYWidth=s.toInt(u.css(r.scrollbarYRail,"borderTopWidth"))+s.toInt(u.css(r.scrollbarYRail,"borderBottomWidth")),u.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=s.toInt(u.css(r.scrollbarYRail,"marginTop"))+s.toInt(u.css(r.scrollbarYRail,"marginBottom")),u.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function i(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function a(e){e.removeAttribute("data-ps-id")}var s=n(1152),l=n(1156),c=n(1167),u=n(1155),h=n(1168),p=n(1169),f={};t.add=function(e){var t=p();return o(e,t),f[t]=new r(e),f[t]},t.remove=function(e){delete f[i(e)],a(e)},t.get=function(e){return f[i(e)]}},1152:function(e,t,n){"use strict";var r=n(1156),i=n(1155),o=t.toInt=function(e){return parseInt(e,10)||0},a=t.clone=function(e){if(e){if(e.constructor===Array)return e.map(a);if("object"==typeof e){var t={};for(var n in e)t[n]=a(e[n]);return t}return e}return null};t.extend=function(e,t){var n=a(e);for(var r in t)n[r]=a(t[r]);return n},t.isEditable=function(e){return i.matches(e,"input,[contenteditable]")||i.matches(e,"select,[contenteditable]")||i.matches(e,"textarea,[contenteditable]")||i.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=r.list(e),n=0;n<t.length;n++){var i=t[n];0===i.indexOf("ps-")&&r.remove(e,i)}},t.outerWidth=function(e){return o(i.css(e,"width"))+o(i.css(e,"paddingLeft"))+o(i.css(e,"paddingRight"))+o(i.css(e,"borderLeftWidth"))+o(i.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){r.add(e,"ps-in-scrolling"),void 0!==t?r.add(e,"ps-"+t):(r.add(e,"ps-x"),r.add(e,"ps-y"))},t.stopScrolling=function(e,t){r.remove(e,"ps-in-scrolling"),void 0!==t?r.remove(e,"ps-"+t):(r.remove(e,"ps-x"),r.remove(e,"ps-y"))},t.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},1153:function(e,t,n){"use strict";function r(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function i(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,n);var r={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,r),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=n(1152),a=n(1156),s=n(1155),l=n(1151),c=n(1154);e.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=s.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=s.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=r(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=r(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),i(e,t),t.scrollbarXActive?a.add(e,"ps-active-x"):(a.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?a.add(e,"ps-active-y"):(a.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},1154:function(e,t,n){"use strict";var r,i,o=n(1151),a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(a("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(a("ps-x-reach-start")));var s=o.get(e);"top"===t&&n>=s.contentHeight-s.containerHeight&&(n=s.contentHeight-s.containerHeight,n-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(a("ps-y-reach-end"))),"left"===t&&n>=s.contentWidth-s.containerWidth&&(n=s.contentWidth-s.containerWidth,n-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(a("ps-x-reach-end"))),r||(r=e.scrollTop),i||(i=e.scrollLeft),"top"===t&&n<r&&e.dispatchEvent(a("ps-scroll-up")),"top"===t&&n>r&&e.dispatchEvent(a("ps-scroll-down")),"left"===t&&n<i&&e.dispatchEvent(a("ps-scroll-left")),"left"===t&&n>i&&e.dispatchEvent(a("ps-scroll-right")),"top"===t&&(e.scrollTop=r=n,e.dispatchEvent(a("ps-scroll-y"))),"left"===t&&(e.scrollLeft=i=n,e.dispatchEvent(a("ps-scroll-x")))}},1155:function(e,t,n){"use strict";function r(e,t){return window.getComputedStyle(e)[t]}function i(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function o(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r=r.toString()+"px"),e.style[n]=r}return e}var a={};a.e=function(e,t){var n=document.createElement(e);return n.className=t,n},a.appendTo=function(e,t){return t.appendChild(e),e},a.css=function(e,t,n){return"object"==typeof t?o(e,t):void 0===n?r(e,t):i(e,t,n)},a.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},a.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},a.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return a.matches(e,t)})},e.exports=a},1156:function(e,t,n){"use strict";function r(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function i(e,t){var n=e.className.split(" "),r=n.indexOf(t);r>=0&&n.splice(r,1),e.className=n.join(" ")}t.add=function(e,t){e.classList?e.classList.add(t):r(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):i(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},1157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},1158:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=i;var o=n(1),a=(r(o),n(24)),s=r(a);t.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},1159:function(e,t,n){"use strict";e.exports=n(1165)},1160:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(107),c=n(40),u=n(41),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){var e=Number(this.props.balance.get("balance")),t=this.props.balance.get("asset_type");return s.a.createElement(l.a,{amount:e,asset:t,asPercentage:this.props.asPercentage,assetInfo:this.props.assetInfo,replace:this.props.replace})}}]),t}(s.a.Component);p.propTypes={balance:c.a.ChainObject.isRequired,assetInfo:s.a.PropTypes.node},t.a=Object(u.a)(p,{keep_updating:!0})},1161:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(10),o=n(12),a=(n.n(o),n(19)),s=n(252),l=n(170),c=n(34),u=n(7),h=n(1179),p=n.n(h),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=new s.a,m=new l.a,y={},g=function(){function e(){r(this,e)}return f(e,[{key:"fundPool",value:function(e,t,n,r){var i=d.new_transaction(),o=a.a.get_asset_precision(t.get("precision"));return i.add_type_operation("asset_fund_fee_pool",{fee:{amount:0,asset_id:"1.3.0"},from_account:e,asset_id:n.get("id"),amount:r*o}),function(e){return c.a.process_transaction(i,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- fundPool error -----\x3e",t),e(!1)})}}},{key:"claimPoolFees",value:function(e,t,n){var r=d.new_transaction(),i=a.a.get_asset_precision(t.get("precision"));return r.add_type_operation("asset_claim_fees",{fee:{amount:0,asset_id:0},issuer:e,amount_to_claim:{asset_id:t.get("id"),amount:n*i}}),function(e){return c.a.process_transaction(r,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- claimFees error -----\x3e",t),e(!1)})}}},{key:"createAsset",value:function(e,t,n,r,i,o,s,l,h){console.log("create asset:",t,"flags:",n,"isBitAsset:",o,"bitasset_opts:",l);var f=d.new_transaction(),m=a.a.get_asset_precision(t.precision);p.a.config({DECIMAL_PLACES:t.precision});var y=new p.a(t.max_supply).times(m).toString(),g=new p.a(t.max_market_fee||0).times(m).toString(),b=a.a.get_asset_precision(u.b.getAsset(i.base.asset_id).get("precision")),v={fee:{amount:0,asset_id:0},issuer:e,symbol:t.symbol,precision:parseInt(t.precision,10),common_options:{max_supply:y,market_fee_percent:100*t.market_fee_percent||0,max_market_fee:g,issuer_permissions:r,flags:n,core_exchange_rate:{base:{amount:i.base.amount*b,asset_id:i.base.asset_id},quote:{amount:i.quote.amount*m,asset_id:"1.3.1"}},whitelist_authorities:[],blacklist_authorities:[],whitelist_markets:[],blacklist_markets:[],description:h,extensions:null},is_prediction_market:s,extensions:null};return o&&(v.bitasset_opts=l),f.add_type_operation("asset_create",v),function(e){return c.a.process_transaction(f,null,!0).then(function(t){e(!0)}).catch(function(t){console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",t),e(!1)})}}},{key:"updateAsset",value:function(e,t,n,r,i,o,s,l,h,f,m){var y=d.new_transaction(),g=a.a.get_asset_precision(i.get("precision"));p.a.config({DECIMAL_PLACES:i.get("precision")});var b=new p.a(n.max_supply).times(g).toString(),v=new p.a(n.max_market_fee||0).times(g).toString(),w=u.b.getAsset(r.quote.asset_id),x=a.a.get_asset_precision(w.get("precision")),k=u.b.getAsset(r.base.asset_id),_=a.a.get_asset_precision(k.get("precision")),T=new p.a(r.quote.amount).times(x).toString(),S=new p.a(r.base.amount).times(_).toString(),P={fee:{amount:0,asset_id:0},asset_to_update:i.get("id"),extensions:i.get("extensions"),issuer:e,new_issuer:t,new_options:{max_supply:b,max_market_fee:v,market_fee_percent:100*n.market_fee_percent,description:m,issuer_permissions:s,flags:o,whitelist_authorities:i.getIn(["options","whitelist_authorities"]),blacklist_authorities:i.getIn(["options","blacklist_authorities"]),whitelist_markets:i.getIn(["options","whitelist_markets"]),blacklist_markets:i.getIn(["options","blacklist_markets"]),extensions:i.getIn(["options","extensions"]),core_exchange_rate:{quote:{amount:T,asset_id:r.quote.asset_id},base:{amount:S,asset_id:r.base.asset_id}}}};if(e!==t&&t||delete P.new_issuer,y.add_type_operation("asset_update",P),console.log("bitasset_opts:",h,"original_bitasset_opts:",f),l&&(h.feed_lifetime_sec!==f.feed_lifetime_sec||h.minimum_feeds!==f.minimum_feeds||h.force_settlement_delay_sec!==f.force_settlement_delay_sec||h.force_settlement_offset_percent!==f.force_settlement_offset_percent||h.maximum_force_settlement_volume!==f.maximum_force_settlement_volume||h.short_backing_asset!==f.short_backing_asset)){var E={fee:{amount:0,asset_id:0},asset_to_update:i.get("id"),issuer:e,new_options:h};y.add_type_operation("asset_update_bitasset",E)}return c.a.process_transaction(y,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- createAsset error -----\x3e",e),!1})}},{key:"issueAsset",value:function(e,t,n,r,i){m.issue_asset(e,t,n,r,i)}},{key:"getAssetList",value:function(e,t){var n=e+"_"+t;return function(r){if(!y[n])return y[n]=!0,r({loading:!0}),o.Apis.instance().db_api().exec("list_assets",[e,t]).then(function(e){var t=[],i=[];e.forEach(function(e){u.b._updateObject(e,!1),i.push(e.dynamic_asset_data_id),e.bitasset_data_id&&t.push(e.bitasset_data_id)});var a=o.Apis.instance().db_api().exec("get_objects",[i]),s=t.length>0?o.Apis.instance().db_api().exec("get_objects",[t]):null;Promise.all([a,s]).then(function(t){return delete y[n],r({assets:e,dynamic_data:t[0],bitasset_data:t[1],loading:!1}),e&&e.length})}).catch(function(e){console.log("Error in AssetStore.getAssetList: ",e),r({loading:!1}),delete y[n]})}}},{key:"getAsset",value:function(e){var t=void 0;return function(n){if(!y[e])return y[e]=!0,t=a.a.is_object_id(e)?o.Apis.instance().db_api().exec("get_objects",[[e]]):o.Apis.instance().db_api().exec("list_assets",[e,1]),t.then(function(t){0!==t.length&&t||n({asset:null,id:e});var r=t[0].bitasset_data_id?o.Apis.instance().db_api().exec("get_objects",[[t[0].bitasset_data_id]]):null;Promise.all([o.Apis.instance().db_api().exec("get_objects",[[t[0].dynamic_asset_data_id]]),r]).then(function(r){delete y[e],n({asset:t[0],dynamic_data:r[0][0],bitasset_data:r[1]?r[1][0]:null})})}).catch(function(t){console.log("Error in AssetStore.updateAsset: ",t),delete y[e]})}}},{key:"lookupAsset",value:function(e,t){var n=u.b.getAsset(e);return n?{assets:[n],searchID:t,symbol:e}:function(n){setTimeout(function(){var r=u.b.getAsset(e);r&&n({assets:[r],searchID:t,symbol:e})},200)}}},{key:"reserveAsset",value:function(e,t,n){var r=d.new_transaction();return r.add_type_operation("asset_reserve",{fee:{amount:0,asset_id:0},amount_to_reserve:{amount:e,asset_id:t},payer:n,extensions:[]}),c.a.process_transaction(r,null,!0).then(function(e){return!0}).catch(function(e){return console.log("[AssetActions.js:150] ----- reserveAsset error -----\x3e",e),!1})}}]),e}();t.a=i.a.createActions(g)},1162:function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";var t=function(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(t,i);return a===t?e:a}},n=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=!0,s=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;e[h]=t(e,n,h)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return e},r=function(e){return function(t){return e.reduce(function(e,t){return e&&t(e)},t)}},i=function(e,n){for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s=r(o),l=!0,c=!1,u=void 0;try{for(var h,p=Object.keys(n)[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var f=h.value,d=s(f);d&&(e[d]=t(e,n,f))}}catch(e){c=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw u}}return e},o=function(e){return e.map(function(e){return"string"==typeof e?new RegExp("^"+e+"$"):e})},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o(t),function(e){return t.every(function(t){return!t.test(e)})&&e}},s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=o(t),function(e){return t.some(function(t){return t.test(e)})&&e}},l=function(e){return function(t){return e[t]}},c=function(e){return e[0].toUpperCase()+e.slice(1)},u=function(e){return function(t){return e+c(t)}};e.rebind=n,e.rebindAll=i,e.exclude=a,e.include=s,e.includeMap=l,e.prefix=u,Object.defineProperty(e,"__esModule",{value:!0})})},1163:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(22),c=n.n(l),u=n(40),h=n(41),p=n(107),f=n(381),d=n(27),m=n.n(d),y=n(23),g=n.n(y),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){return 0===this.props.assets.length?null:s.a.createElement(f.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?s.a.createElement(p.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange})}}]),t}(s.a.Component);v.propTypes={assets:u.a.ChainAssetsList,value:s.a.PropTypes.string,onChange:s.a.PropTypes.func},v=Object(h.a)(v);var w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){var t=e.target.value;this.props.onChange({amount:t,asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?g.a.translate(this.props.error):this.formatAmount(this.props.amount);return s.a.createElement("div",{className:"amount-selector",style:this.props.style},s.a.createElement("label",{className:"right-label"},this.props.display_balance),s.a.createElement(c.a,{className:"left-label",component:"label",content:this.props.label}),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{disabled:this.props.disabled,type:"text",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex}),s.a.createElement("div",{className:"form-label select floating-dropdown"},s.a.createElement(v,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:m.a.List(this.props.assets),onChange:this.onAssetChange.bind(this)}))))}}]),t}(s.a.Component);w.propTypes={label:s.a.PropTypes.string,asset:u.a.ChainAsset.isRequired,assets:s.a.PropTypes.array,amount:s.a.PropTypes.any,placeholder:s.a.PropTypes.string,onChange:s.a.PropTypes.func.isRequired,tabIndex:s.a.PropTypes.number,error:s.a.PropTypes.string},w.defaultProps={disabled:!1},w=Object(h.a)(w),t.a=w},1164:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(1183),c=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.enableAnimation()}},{key:"resetAnimation",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:"enableAnimation",value:function(){var e=this;this.timer=setTimeout(function(){e.timer&&e.setState({animateEnter:!0})},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){return this.props.children?s.a.createElement(c.a,{className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):s.a.createElement(this.props.component)}}]),t}(s.a.Component);h.defaultProps={component:"span",enterTimeout:2e3},t.a=h},1165:function(e,t,n){"use strict";var r=n(1166),i=n(1170),o=n(1178);e.exports={initialize:i,update:o,destroy:r}},1166:function(e,t,n){"use strict";var r=n(1152),i=n(1155),o=n(1151);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),i.remove(t.scrollbarX),i.remove(t.scrollbarY),i.remove(t.scrollbarXRail),i.remove(t.scrollbarYRail),r.removePsClasses(e),o.remove(e))}},1167:function(e,t,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},1168:function(e,t,n){"use strict";var r=function(e){this.element=e,this.events={}};r.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},r.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter(function(r){return!(!n||r===t)||(this.element.removeEventListener(e,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new r(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},i.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,n){var r=this.eventElement(e),i=function(e){r.unbind(t,i),n(e)};r.bind(t,i)},e.exports=i},1169:function(e,t,n){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},1170:function(e,t,n){"use strict";var r=n(1152),i=n(1156),o=n(1151),a=n(1153),s={"click-rail":n(1171),"drag-scrollbar":n(1172),keyboard:n(1173),wheel:n(1174),touch:n(1175),selection:n(1176)},l=n(1177);e.exports=function(e,t){t="object"==typeof t?t:{},i.add(e,"ps-container");var n=o.add(e);n.settings=r.extend(n.settings,t),i.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){s[t](e)}),l(e),a(e)}},1171:function(e,t,n){"use strict";function r(e,t){function n(e){return e.getBoundingClientRect()}var r=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",r),t.event.bind(t.scrollbarYRail,"click",function(r){var i=r.pageY-window.pageYOffset-n(t.scrollbarYRail).top,s=i>t.scrollbarYTop?1:-1;a(e,"top",e.scrollTop+s*t.containerHeight),o(e),r.stopPropagation()}),t.event.bind(t.scrollbarX,"click",r),t.event.bind(t.scrollbarXRail,"click",function(r){var i=r.pageX-window.pageXOffset-n(t.scrollbarXRail).left,s=i>t.scrollbarXLeft?1:-1;a(e,"left",e.scrollLeft+s*t.containerWidth),o(e),r.stopPropagation()})}var i=n(1151),o=n(1153),a=n(1154);e.exports=function(e){r(e,i.get(e))}},1172:function(e,t,n){"use strict";function r(e,t){function n(n){var i=r+n*t.railXRatio,a=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=i<0?0:i>a?a:i;var s=o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;c(e,"left",s)}var r=null,i=null,s=function(t){n(t.pageX-i),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(n){i=n.pageX,r=o.toInt(a.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function i(e,t){function n(n){var i=r+n*t.railYRatio,a=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=i<0?0:i>a?a:i;var s=o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));c(e,"top",s)}var r=null,i=null,s=function(t){n(t.pageY-i),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(n){i=n.pageY,r=o.toInt(a.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=n(1152),a=n(1155),s=n(1151),l=n(1153),c=n(1154);e.exports=function(e){var t=s.get(e);r(e,t),i(e,t)}},1173:function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var r=!1;t.event.bind(e,"mouseenter",function(){r=!0}),t.event.bind(e,"mouseleave",function(){r=!1});var a=!1;t.event.bind(t.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var u=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(r||u){var h=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(h){if("IFRAME"===h.tagName)h=h.contentDocument.activeElement;else for(;h.shadowRoot;)h=h.shadowRoot.activeElement;if(i.isEditable(h))return}var p=0,f=0;switch(c.which){case 37:p=c.metaKey?-t.contentWidth:c.altKey?-t.containerWidth:-30;break;case 38:f=c.metaKey?t.contentHeight:c.altKey?t.containerHeight:30;break;case 39:p=c.metaKey?t.contentWidth:c.altKey?t.containerWidth:30;break;case 40:f=c.metaKey?-t.contentHeight:c.altKey?-t.containerHeight:-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:f=c.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-f),l(e,"left",e.scrollLeft+p),s(e),a=n(p,f),a&&c.preventDefault()}}})}var i=n(1152),o=n(1155),a=n(1151),s=n(1153),l=n(1154);e.exports=function(e){r(e,a.get(e))}},1174:function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function r(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function i(t,n){var r=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(r){if(r.className.match(/ps-must-propagate/))return!0;if(!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var i=r.scrollHeight-r.clientHeight;if(i>0&&!(0===r.scrollTop&&n>0||r.scrollTop===i&&n<0))return!0;var o=r.scrollLeft-r.clientWidth;if(o>0&&!(0===r.scrollLeft&&t<0||r.scrollLeft===o&&t>0))return!0}return!1}function s(s){var c=r(s),u=c[0],h=c[1];i(u,h)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(h?a(e,"top",e.scrollTop-h*t.settings.wheelSpeed):a(e,"top",e.scrollTop+u*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(u?a(e,"left",e.scrollLeft+u*t.settings.wheelSpeed):a(e,"left",e.scrollLeft-h*t.settings.wheelSpeed),l=!0):(a(e,"top",e.scrollTop-h*t.settings.wheelSpeed),a(e,"left",e.scrollLeft+u*t.settings.wheelSpeed)),o(e),(l=l||n(u,h))&&(s.stopPropagation(),s.preventDefault()))}var l=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",s):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var i=n(1151),o=n(1153),a=n(1154);e.exports=function(e){r(e,i.get(e))}},1175:function(e,t,n){"use strict";function r(e,t,n,r){function i(n,r){var i=e.scrollTop,o=e.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return!t.settings.swipePropagation}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,n){s(e,"top",e.scrollTop-n),s(e,"left",e.scrollLeft-t),a(e)}function c(){w=!0}function u(){w=!1}function h(e){return e.targetTouches?e.targetTouches[0]:e}function p(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function f(e){if(p(e)){x=!0;var t=h(e);y.pageX=t.pageX,y.pageY=t.pageY,g=(new Date).getTime(),null!==v&&clearInterval(v),e.stopPropagation()}}function d(e){if(!x&&t.settings.swipePropagation&&f(e),!w&&x&&p(e)){var n=h(e),r={pageX:n.pageX,pageY:n.pageY},o=r.pageX-y.pageX,a=r.pageY-y.pageY;l(o,a),y=r;var s=(new Date).getTime(),c=s-g;c>0&&(b.x=o/c,b.y=a/c,g=s),i(o,a)&&(e.stopPropagation(),e.preventDefault())}}function m(){!w&&x&&(x=!1,clearInterval(v),v=setInterval(function(){return o.get(e)&&(b.x||b.y)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(v):(l(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(v)},10))}var y={},g=0,b={},v=null,w=!1,x=!1;n?(t.event.bind(window,"touchstart",c),t.event.bind(window,"touchend",u),t.event.bind(e,"touchstart",f),t.event.bind(e,"touchmove",d),t.event.bind(e,"touchend",m)):r&&(window.PointerEvent?(t.event.bind(window,"pointerdown",c),t.event.bind(window,"pointerup",u),t.event.bind(e,"pointerdown",f),t.event.bind(e,"pointermove",d),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",c),t.event.bind(window,"MSPointerUp",u),t.event.bind(e,"MSPointerDown",f),t.event.bind(e,"MSPointerMove",d),t.event.bind(e,"MSPointerUp",m)))}var i=n(1152),o=n(1151),a=n(1153),s=n(1154);e.exports=function(e){if(i.env.supportsTouch||i.env.supportsIePointer){r(e,o.get(e),i.env.supportsTouch,i.env.supportsIePointer)}}},1176:function(e,t,n){"use strict";function r(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function r(){c||(c=setInterval(function(){if(!o.get(e))return void clearInterval(c);s(e,"top",e.scrollTop+u.top),s(e,"left",e.scrollLeft+u.left),a(e)},50))}function l(){c&&(clearInterval(c),c=null),i.stopScrolling(e)}var c=null,u={top:0,left:0},h=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?h=!0:(h=!1,l())}),t.event.bind(window,"mouseup",function(){h&&(h=!1,l())}),t.event.bind(window,"keyup",function(){h&&(h=!1,l())}),t.event.bind(window,"mousemove",function(t){if(h){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(u.left=-5,i.startScrolling(e,"x")):n.x>o.right-3?(u.left=5,i.startScrolling(e,"x")):u.left=0,n.y<o.top+3?(u.top=o.top+3-n.y<5?-5:-20,i.startScrolling(e,"y")):n.y>o.bottom-3?(u.top=n.y-o.bottom+3<5?5:20,i.startScrolling(e,"y")):u.top=0,0===u.top&&0===u.left?l():r()}})}var i=n(1152),o=n(1151),a=n(1153),s=n(1154);e.exports=function(e){r(e,o.get(e))}},1177:function(e,t,n){"use strict";function r(e,t){t.event.bind(e,"scroll",function(){o(e)})}var i=n(1151),o=n(1153);e.exports=function(e){r(e,i.get(e))}},1178:function(e,t,n){"use strict";var r=n(1152),i=n(1155),o=n(1151),a=n(1153),s=n(1154);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.css(t.scrollbarXRail,"display","block"),i.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=r.toInt(i.css(t.scrollbarXRail,"marginLeft"))+r.toInt(i.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=r.toInt(i.css(t.scrollbarYRail,"marginTop"))+r.toInt(i.css(t.scrollbarYRail,"marginBottom")),i.css(t.scrollbarXRail,"display","none"),i.css(t.scrollbarYRail,"display","none"),a(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),i.css(t.scrollbarXRail,"display",""),i.css(t.scrollbarYRail,"display",""))}},1179:function(e,t,n){var r;!function(i){"use strict";function o(e){function t(e,r){var i,o,a,s,l,c,u=this;if(!(u instanceof t))return H&&A(26,"constructor call without new",e),new t(e,r);if(null!=r&&Y(r,2,64,R,"base")){if(r|=0,c=e+"",10==r)return u=new t(e instanceof t?e:c),M(u,F+u.e+1,I);if((s="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(i="["+k.slice(0,r)+"]+")+"(?:\\."+i+")?$",r<37?"i":"").test(c))return N(u,c,s,r);s?(u.s=1/e<0?(c=c.slice(1),-1):1,H&&c.replace(/^0\.0*|\./,"").length>15&&A(R,x,e),s=!1):u.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1,c=n(c,10,r,u.s)}else{if(e instanceof t)return u.s=e.s,u.e=e.e,u.c=(e=e.c)?e.slice():e,void(R=0);if((s="number"==typeof e)&&0*e==0){if(u.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,a=e;a>=10;a/=10,o++);return u.e=o,u.c=[e],void(R=0)}c=e+""}else{if(!y.test(c=e+""))return N(u,c,s);u.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1}}for((o=c.indexOf("."))>-1&&(c=c.replace(".","")),(a=c.search(/e/i))>0?(o<0&&(o=a),o+=+c.slice(a+1),c=c.substring(0,a)):o<0&&(o=c.length),a=0;48===c.charCodeAt(a);a++);for(l=c.length;48===c.charCodeAt(--l););if(c=c.slice(a,l+1))if(l=c.length,s&&H&&l>15&&(e>S||e!==b(e))&&A(R,x,u.s*e),(o=o-a-1)>q)u.c=u.e=null;else if(o<W)u.c=[u.e=0];else{if(u.e=o,u.c=[],a=(o+1)%T,o<0&&(a+=T),a<l){for(a&&u.c.push(+c.slice(0,a)),l-=T;a<l;)u.c.push(+c.slice(a,a+=T));c=c.slice(a),a=T-c.length}else a-=l;for(;a--;c+="0");u.c.push(+c)}else u.c=[u.e=0];R=0}function n(e,n,r,i){var o,a,l,c,u,p,d,m=e.indexOf("."),y=F,g=I;for(r<37&&(e=e.toLowerCase()),m>=0&&(l=G,G=0,e=e.replace(".",""),d=new t(r),u=d.pow(e.length-m),G=l,d.c=h(f(s(u.c),u.e),10,n),d.e=d.c.length),p=h(e,r,n),a=l=p.length;0==p[--l];p.pop());if(!p[0])return"0";if(m<0?--a:(u.c=p,u.e=a,u.s=i,u=D(u,d,y,g,n),p=u.c,c=u.r,a=u.e),o=a+y+1,m=p[o],l=n/2,c=c||o<0||null!=p[o+1],c=g<4?(null!=m||c)&&(0==g||g==(u.s<0?3:2)):m>l||m==l&&(4==g||c||6==g&&1&p[o-1]||g==(u.s<0?8:7)),o<1||!p[0])e=c?f("1",-y):"0";else{if(p.length=o,c)for(--n;++p[--o]>n;)p[o]=0,o||(++a,p=[1].concat(p));for(l=p.length;!p[--l];);for(m=0,e="";m<=l;e+=k.charAt(p[m++]));e=f(e,a)}return e}function r(e,n,r,i){var o,a,l,c,u;if(r=null!=r&&Y(r,0,8,i,w)?0|r:I,!e.c)return e.toString();if(o=e.c[0],l=e.e,null==n)u=s(e.c),u=19==i||24==i&&l<=B?p(u,l):f(u,l);else if(e=M(new t(e),n,r),a=e.e,u=s(e.c),c=u.length,19==i||24==i&&(n<=a||a<=B)){for(;c<n;u+="0",c++);u=p(u,a)}else if(n-=l,u=f(u,a),a+1>c){if(--n>0)for(u+=".";n--;u+="0");}else if((n+=a-c)>0)for(a+1==c&&(u+=".");n--;u+="0");return e.s<0&&o?"-"+u:u}function i(e,n){var r,i,o=0;for(u(e[0])&&(e=e[0]),r=new t(e[0]);++o<e.length;){if(i=new t(e[o]),!i.s){r=i;break}n.call(r,i)&&(r=i)}return r}function m(e,t,n,r,i){return(e<t||e>n||e!=d(e))&&A(r,(i||"decimal places")+(e<t||e>n?" out of range":" not an integer"),e),!0}function O(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*T-1)>q?e.c=e.e=null:n<W?e.c=[e.e=0]:(e.e=n,e.c=t),e}function A(e,t,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw r.name="BigNumber Error",R=0,r}function M(e,t,n,r){var i,o,a,s,l,c,u,h=e.c,p=P;if(h){e:{for(i=1,s=h[0];s>=10;s/=10,i++);if((o=t-i)<0)o+=T,a=t,l=h[c=0],u=l/p[i-a-1]%10|0;else if((c=g((o+1)/T))>=h.length){if(!r)break e;for(;h.length<=c;h.push(0));l=u=0,i=1,o%=T,a=o-T+1}else{for(l=s=h[c],i=1;s>=10;s/=10,i++);o%=T,a=o-T+i,u=a<0?0:l/p[i-a-1]%10|0}if(r=r||t<0||null!=h[c+1]||(a<0?l:l%p[i-a-1]),r=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?l/p[i-a]:0:h[c-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,r?(t-=e.e+1,h[0]=p[(T-t%T)%T],e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=c,s=1,c--):(h.length=c+1,s=p[T-o],h[c]=a>0?b(l/p[i-a]%p[a])*s:0),r)for(;;){if(0==c){for(o=1,a=h[0];a>=10;a/=10,o++);for(a=h[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,h[0]==_&&(h[0]=1));break}if(h[c]+=s,h[c]!=_)break;h[c--]=0,s=1}for(o=h.length;0===h[--o];h.pop());}e.e>q?e.c=e.e=null:e.e<W&&(e.c=[e.e=0])}return e}var D,N,R=0,j=t.prototype,L=new t(1),F=20,I=4,B=-7,z=21,W=-1e7,q=1e7,H=!0,Y=m,X=!1,V=1,G=0,U={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};return t.another=o,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=function(){var e,t,n=0,r={},i=arguments,o=i[0],a=o&&"object"==typeof o?function(){if(o.hasOwnProperty(t))return null!=(e=o[t])}:function(){if(i.length>n)return null!=(e=i[n++])};return a(t="DECIMAL_PLACES")&&Y(e,0,C,2,t)&&(F=0|e),r[t]=F,a(t="ROUNDING_MODE")&&Y(e,0,8,2,t)&&(I=0|e),r[t]=I,a(t="EXPONENTIAL_AT")&&(u(e)?Y(e[0],-C,0,2,t)&&Y(e[1],0,C,2,t)&&(B=0|e[0],z=0|e[1]):Y(e,-C,C,2,t)&&(B=-(z=0|(e<0?-e:e)))),r[t]=[B,z],a(t="RANGE")&&(u(e)?Y(e[0],-C,-1,2,t)&&Y(e[1],1,C,2,t)&&(W=0|e[0],q=0|e[1]):Y(e,-C,C,2,t)&&(0|e?W=-(q=0|(e<0?-e:e)):H&&A(2,t+" cannot be zero",e))),r[t]=[W,q],a(t="ERRORS")&&(e===!!e||1===e||0===e?(R=0,Y=(H=!!e)?m:c):H&&A(2,t+v,e)),r[t]=H,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?(e="undefined"==typeof crypto,!e&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?X=!0:H?A(2,"crypto unavailable",e?void 0:crypto):X=!1):X=!1:H&&A(2,t+v,e)),r[t]=X,a(t="MODULO_MODE")&&Y(e,0,9,2,t)&&(V=0|e),r[t]=V,a(t="POW_PRECISION")&&Y(e,0,C,2,t)&&(G=0|e),r[t]=G,a(t="FORMAT")&&("object"==typeof e?U=e:H&&A(2,t+" not an object",e)),r[t]=U,r},t.max=function(){return i(arguments,j.lt)},t.min=function(){return i(arguments,j.gt)},t.random=function(){var e=9007199254740992*Math.random()&2097151?function(){return b(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(n){var r,i,o,a,s,l=0,c=[],u=new t(L);if(n=null!=n&&Y(n,0,C,14)?0|n:F,a=g(n/T),X)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)s=131072*r[l]+(r[l+1]>>>11),s>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),r[l]=i[0],r[l+1]=i[1]):(c.push(s%1e14),l+=2);l=a/2}else if(crypto.randomBytes){for(r=crypto.randomBytes(a*=7);l<a;)s=281474976710656*(31&r[l])+1099511627776*r[l+1]+4294967296*r[l+2]+16777216*r[l+3]+(r[l+4]<<16)+(r[l+5]<<8)+r[l+6],s>=9e15?crypto.randomBytes(7).copy(r,l):(c.push(s%1e14),l+=7);l=a/7}else X=!1,H&&A(14,"crypto unavailable",crypto);if(!X)for(;l<a;)(s=e())<9e15&&(c[l++]=s%1e14);for(a=c[--l],n%=T,a&&n&&(s=P[T-n],c[l]=b(a/s)*s);0===c[l];c.pop(),l--);if(l<0)c=[o=0];else{for(o=-1;0===c[0];c.splice(0,1),o-=T);for(l=1,s=c[0];s>=10;s/=10,l++);l<T&&(o-=T-l)}return u.e=o,u.c=c,u}}(),D=function(){function e(e,t,n){var r,i,o,a,s=0,l=e.length,c=t%E,u=t/E|0;for(e=e.slice();l--;)o=e[l]%E,a=e[l]/E|0,r=u*o+a*c,i=c*o+r%E*E+s,s=(i/n|0)+(r/E|0)+u*a,e[l]=i%n;return s&&(e=[s].concat(e)),e}function n(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,o,s,l,c){var u,h,p,f,d,m,y,g,v,w,x,k,S,P,E,C,O,A=i.s==o.s?1:-1,D=i.c,N=o.c;if(!(D&&D[0]&&N&&N[0]))return new t(i.s&&o.s&&(D?!N||D[0]!=N[0]:N)?D&&0==D[0]||!N?0*A:A/0:NaN);for(g=new t(A),v=g.c=[],h=i.e-o.e,A=s+h+1,c||(c=_,h=a(i.e/T)-a(o.e/T),A=A/T|0),p=0;N[p]==(D[p]||0);p++);if(N[p]>(D[p]||0)&&h--,A<0)v.push(1),f=!0;else{for(P=D.length,C=N.length,p=0,A+=2,d=b(c/(N[0]+1)),d>1&&(N=e(N,d,c),D=e(D,d,c),C=N.length,P=D.length),S=C,w=D.slice(0,C),x=w.length;x<C;w[x++]=0);O=N.slice(),O=[0].concat(O),E=N[0],N[1]>=c/2&&E++;do{if(d=0,(u=n(N,w,C,x))<0){if(k=w[0],C!=x&&(k=k*c+(w[1]||0)),(d=b(k/E))>1)for(d>=c&&(d=c-1),m=e(N,d,c),y=m.length,x=w.length;1==n(m,w,y,x);)d--,r(m,C<y?O:N,y,c),y=m.length,u=1;else 0==d&&(u=d=1),m=N.slice(),y=m.length;if(y<x&&(m=[0].concat(m)),r(w,m,x,c),x=w.length,-1==u)for(;n(N,w,C,x)<1;)d++,r(w,C<x?O:N,x,c),x=w.length}else 0===u&&(d++,w=[0]);v[p++]=d,w[0]?w[x++]=D[S]||0:(w=[D[S]],x=1)}while((S++<P||null!=w[0])&&A--);f=null!=w[0],v[0]||v.splice(0,1)}if(c==_){for(p=1,A=v[0];A>=10;A/=10,p++);M(g,s+(g.e=p+h*T-1)+1,l,f)}else g.e=h,g.r=+f;return g}}(),N=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,r=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(a,s,l,c){var u,h=l?s:s.replace(o,"");if(i.test(h))a.s=isNaN(h)?null:h<0?-1:1;else{if(!l&&(h=h.replace(e,function(e,t,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,c&&c!=u?e:t}),c&&(u=c,h=h.replace(n,"$1").replace(r,"0.$1")),s!=h))return new t(h,u);H&&A(R,"not a"+(c?" base "+c:"")+" number",s),a.s=null}a.c=a.e=null,R=0}}(),j.absoluteValue=j.abs=function(){var e=new t(this);return e.s<0&&(e.s=1),e},j.ceil=function(){return M(new t(this),this.e+1,2)},j.comparedTo=j.cmp=function(e,n){return R=1,l(this,new t(e,n))},j.decimalPlaces=j.dp=function(){var e,t,n=this.c;if(!n)return null;if(e=((t=n.length-1)-a(this.e/T))*T,t=n[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},j.dividedBy=j.div=function(e,n){return R=3,D(this,new t(e,n),F,I)},j.dividedToIntegerBy=j.divToInt=function(e,n){return R=4,D(this,new t(e,n),0,1)},j.equals=j.eq=function(e,n){return R=5,0===l(this,new t(e,n))},j.floor=function(){return M(new t(this),this.e+1,3)},j.greaterThan=j.gt=function(e,n){return R=6,l(this,new t(e,n))>0},j.greaterThanOrEqualTo=j.gte=function(e,n){return R=7,1===(n=l(this,new t(e,n)))||0===n},j.isFinite=function(){return!!this.c},j.isInteger=j.isInt=function(){return!!this.c&&a(this.e/T)>this.c.length-2},j.isNaN=function(){return!this.s},j.isNegative=j.isNeg=function(){return this.s<0},j.isZero=function(){return!!this.c&&0==this.c[0]},j.lessThan=j.lt=function(e,n){return R=8,l(this,new t(e,n))<0},j.lessThanOrEqualTo=j.lte=function(e,n){return R=9,-1===(n=l(this,new t(e,n)))||0===n},j.minus=j.sub=function(e,n){var r,i,o,s,l=this,c=l.s;if(R=10,e=new t(e,n),n=e.s,!c||!n)return new t(NaN);if(c!=n)return e.s=-n,l.plus(e);var u=l.e/T,h=e.e/T,p=l.c,f=e.c;if(!u||!h){if(!p||!f)return p?(e.s=-n,e):new t(f?l:NaN);if(!p[0]||!f[0])return f[0]?(e.s=-n,e):new t(p[0]?l:3==I?-0:0)}if(u=a(u),h=a(h),p=p.slice(),c=u-h){for((s=c<0)?(c=-c,o=p):(h=u,o=f),o.reverse(),n=c;n--;o.push(0));o.reverse()}else for(i=(s=(c=p.length)<(n=f.length))?c:n,c=n=0;n<i;n++)if(p[n]!=f[n]){s=p[n]<f[n];break}if(s&&(o=p,p=f,f=o,e.s=-e.s),(n=(i=f.length)-(r=p.length))>0)for(;n--;p[r++]=0);for(n=_-1;i>c;){if(p[--i]<f[i]){for(r=i;r&&!p[--r];p[r]=n);--p[r],p[i]+=_}p[i]-=f[i]}for(;0==p[0];p.splice(0,1),--h);return p[0]?O(e,p,h):(e.s=3==I?-1:1,e.c=[e.e=0],e)},j.modulo=j.mod=function(e,n){var r,i,o=this;return R=11,e=new t(e,n),!o.c||!e.s||e.c&&!e.c[0]?new t(NaN):!e.c||o.c&&!o.c[0]?new t(o):(9==V?(i=e.s,e.s=1,r=D(o,e,0,3),e.s=i,r.s*=i):r=D(o,e,0,V),o.minus(r.times(e)))},j.negated=j.neg=function(){var e=new t(this);return e.s=-e.s||null,e},j.plus=j.add=function(e,n){var r,i=this,o=i.s;if(R=12,e=new t(e,n),n=e.s,!o||!n)return new t(NaN);if(o!=n)return e.s=-n,i.minus(e);var s=i.e/T,l=e.e/T,c=i.c,u=e.c;if(!s||!l){if(!c||!u)return new t(o/0);if(!c[0]||!u[0])return u[0]?e:new t(c[0]?i:0*o)}if(s=a(s),l=a(l),c=c.slice(),o=s-l){for(o>0?(l=s,r=u):(o=-o,r=c),r.reverse();o--;r.push(0));r.reverse()}for(o=c.length,n=u.length,o-n<0&&(r=u,u=c,c=r,n=o),o=0;n;)o=(c[--n]=c[n]+u[n]+o)/_|0,c[n]=_===c[n]?0:c[n]%_;return o&&(c=[o].concat(c),++l),O(e,c,l)},j.precision=j.sd=function(e){var t,n,r=this,i=r.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(H&&A(13,"argument"+v,e),e!=!!e&&(e=null)),!i)return null;if(n=i.length-1,t=n*T+1,n=i[n]){for(;n%10==0;n/=10,t--);for(n=i[0];n>=10;n/=10,t++);}return e&&r.e+1>t&&(t=r.e+1),t},j.round=function(e,n){var r=new t(this);return(null==e||Y(e,0,C,15))&&M(r,~~e+this.e+1,null!=n&&Y(n,0,8,15,w)?0|n:I),r},j.shift=function(e){var n=this;return Y(e,-S,S,16,"argument")?n.times("1e"+d(e)):new t(n.c&&n.c[0]&&(e<-S||e>S)?n.s*(e<0?0:1/0):n)},j.squareRoot=j.sqrt=function(){var e,n,r,i,o,l=this,c=l.c,u=l.s,h=l.e,p=F+4,f=new t("0.5");if(1!==u||!c||!c[0])return new t(!u||u<0&&(!c||c[0])?NaN:c?l:1/0);if(u=Math.sqrt(+l),0==u||u==1/0?(n=s(c),(n.length+h)%2==0&&(n+="0"),u=Math.sqrt(n),h=a((h+1)/2)-(h<0||h%2),u==1/0?n="1e"+h:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+h),r=new t(n)):r=new t(u+""),r.c[0])for(h=r.e,u=h+p,u<3&&(u=0);;)if(o=r,r=f.times(o.plus(D(l,o,p,1))),s(o.c).slice(0,u)===(n=s(r.c)).slice(0,u)){if(r.e<h&&--u,"9999"!=(n=n.slice(u-3,u+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(M(r,r.e+F+2,1),e=!r.times(r).eq(l));break}if(!i&&(M(o,o.e+F+2,0),o.times(o).eq(l))){r=o;break}p+=4,u+=4,i=1}return M(r,r.e+F+1,I,e)},j.times=j.mul=function(e,n){var r,i,o,s,l,c,u,h,p,f,d,m,y,g,b,v=this,w=v.c,x=(R=17,e=new t(e,n)).c;if(!(w&&x&&w[0]&&x[0]))return!v.s||!e.s||w&&!w[0]&&!x||x&&!x[0]&&!w?e.c=e.e=e.s=null:(e.s*=v.s,w&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=a(v.e/T)+a(e.e/T),e.s*=v.s,u=w.length,f=x.length,u<f&&(y=w,w=x,x=y,o=u,u=f,f=o),o=u+f,y=[];o--;y.push(0));for(g=_,b=E,o=f;--o>=0;){for(r=0,d=x[o]%b,m=x[o]/b|0,l=u,s=o+l;s>o;)h=w[--l]%b,p=w[l]/b|0,c=m*h+p*d,h=d*h+c%b*b+y[s]+r,r=(h/g|0)+(c/b|0)+m*p,y[s--]=h%g;y[s]=r}return r?++i:y.splice(0,1),O(e,y,i)},j.toDigits=function(e,n){var r=new t(this);return e=null!=e&&Y(e,1,C,18,"precision")?0|e:null,n=null!=n&&Y(n,0,8,18,w)?0|n:I,e?M(r,e,n):r},j.toExponential=function(e,t){return r(this,null!=e&&Y(e,0,C,19)?1+~~e:null,t,19)},j.toFixed=function(e,t){return r(this,null!=e&&Y(e,0,C,20)?~~e+this.e+1:null,t,20)},j.toFormat=function(e,t){var n=r(this,null!=e&&Y(e,0,C,21)?~~e+this.e+1:null,t,21);if(this.c){var i,o=n.split("."),a=+U.groupSize,s=+U.secondaryGroupSize,l=U.groupSeparator,c=o[0],u=o[1],h=this.s<0,p=h?c.slice(1):c,f=p.length;if(s&&(i=a,a=s,s=i,f-=i),a>0&&f>0){for(i=f%a||a,c=p.substr(0,i);i<f;i+=a)c+=l+p.substr(i,a);s>0&&(c+=l+p.slice(i)),h&&(c="-"+c)}n=u?c+U.decimalSeparator+((s=+U.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+U.fractionGroupSeparator):u):c}return n},j.toFraction=function(e){var n,r,i,o,a,l,c,u,h,p=H,f=this,d=f.c,m=new t(L),y=r=new t(L),g=c=new t(L);if(null!=e&&(H=!1,l=new t(e),H=p,(p=l.isInt())&&!l.lt(L)||(H&&A(22,"max denominator "+(p?"out of range":"not an integer"),e),e=!p&&l.c&&M(l,l.e+1,1).gte(L)?l:null)),!d)return f.toString();for(h=s(d),o=m.e=h.length-f.e-1,m.c[0]=P[(a=o%T)<0?T+a:a],e=!e||l.cmp(m)>0?o>0?m:y:l,a=q,q=1/0,l=new t(h),c.c[0]=0;u=D(l,m,0,1),i=r.plus(u.times(g)),1!=i.cmp(e);)r=g,g=i,y=c.plus(u.times(i=y)),c=i,m=l.minus(u.times(i=m)),l=i;return i=D(e.minus(r),g,0,1),c=c.plus(i.times(y)),r=r.plus(i.times(g)),c.s=y.s=f.s,o*=2,n=D(y,g,o,I).minus(f).abs().cmp(D(c,r,o,I).minus(f).abs())<1?[y.toString(),g.toString()]:[c.toString(),r.toString()],q=a,n},j.toNumber=function(){return+this},j.toPower=j.pow=function(e,n){var r,i,o,a=b(e<0?-e:+e),s=this;if(null!=n&&(R=23,n=new t(n)),!Y(e,-S,S,23,"exponent")&&(!isFinite(e)||a>S&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return r=Math.pow(+s,e),new t(n?r%n:r);for(n?e>1&&s.gt(L)&&s.isInt()&&n.gt(L)&&n.isInt()?s=s.mod(n):(o=n,n=null):G&&(r=g(G/T+2)),i=new t(L);;){if(a%2){if(i=i.times(s),!i.c)break;r?i.c.length>r&&(i.c.length=r):n&&(i=i.mod(n))}if(!(a=b(a/2)))break;s=s.times(s),r?s.c&&s.c.length>r&&(s.c.length=r):n&&(s=s.mod(n))}return n?i:(e<0&&(i=L.div(i)),o?i.mod(o):r?M(i,G,I):i)},j.toPrecision=function(e,t){return r(this,null!=e&&Y(e,1,C,24,"precision")?0|e:null,t,24)},j.toString=function(e){var t,r=this,i=r.s,o=r.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(t=s(r.c),t=null!=e&&Y(e,2,64,25,"base")?n(f(t,o),0|e,10,i):o<=B||o>=z?p(t,o):f(t,o),i<0&&r.c[0]&&(t="-"+t)),t},j.truncated=j.trunc=function(){return M(new t(this),this.e+1,1)},j.valueOf=j.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=s(t.c),e=n<=B||n>=z?p(e,n):f(e,n),t.s<0?"-"+e:e)},j.isBigNumber=!0,null!=e&&t.config(e),t}function a(e){var t=0|e;return e>0||e===t?t:t-1}function s(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=T-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function l(e,t){var n,r,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,c=t.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>c^n?1:-1;for(s=(l=i.length)<(c=o.length)?l:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return l==c?0:l>c^n?1:-1}function c(e,t,n){return(e=d(e))>=t&&e<=n}function u(e){return"[object Array]"==Object.prototype.toString.call(e)}function h(e,t,n){for(var r,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;o[i]*=t);for(o[r=0]+=k.indexOf(e.charAt(a++));r<o.length;r++)o[r]>n-1&&(null==o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function p(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function f(e,t){var n,r;if(t<0){for(r="0.";++t;r+="0");e=r+e}else if(n=e.length,++t>n){for(r="0",t-=n;--t;r+="0");e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}function d(e){return e=parseFloat(e),e<0?g(e):b(e)}var m,y=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,g=Math.ceil,b=Math.floor,v=" not a boolean or binary digit",w="rounding mode",x="number type has more than 15 significant digits",k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",_=1e14,T=14,S=9007199254740991,P=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],E=1e7,C=1e9;m=o(),m.default=m.BigNumber=m,void 0!==(r=function(){return m}.call(t,n,t,e))&&(e.exports=r)}()},1183:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),c=r(l),u=n(24),h=r(u),p=n(1184),f=r(p),d=n(1187),m=r(d),y=n(1158),g=(y.nameShape.isRequired,h.default.bool,h.default.bool,h.default.bool,(0,y.transitionTimeout)("Appear"),(0,y.transitionTimeout)("Enter"),(0,y.transitionTimeout)("Leave"),{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),b=function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(l))),r._wrapChild=function(e){return c.default.createElement(m.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},a=n,o(r,a)}return a(t,e),t.prototype.render=function(){return c.default.createElement(f.default,s({},this.props,{childFactory:this._wrapChild}))},t}(c.default.Component);b.displayName="CSSTransitionGroup",b.propTypes={},b.defaultProps=g,t.default=b,e.exports=t.default},1184:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1185),c=r(l),u=n(1),h=r(u),p=n(24),f=r(p),d=n(67),m=(r(d),n(1186)),y=(f.default.any,f.default.func,f.default.node,{component:"span",childFactory:function(e){return e}}),g=function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState(function(t){var n=s({},t.children);return delete n[e],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,m.getChildMapping)(n.children)},a}return a(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,m.getChildMapping)(e.children),n=this.state.children;this.setState({children:(0,m.mergeChildMappings)(n,t)});for(var r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[];for(var n in this.state.children)!function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,o=e.props.childFactory(r),a=function(t){e.childRefs[n]=t};o===r&&i&&(a=(0,c.default)(r.ref,a)),t.push(h.default.cloneElement(o,{key:n,ref:a}))}}(n);var r=s({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,h.default.createElement(this.props.component,r,t)},t}(h.default.Component);g.displayName="TransitionGroup",g.propTypes={},g.defaultProps=y,t.default=g,e.exports=t.default},1185:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return null!=e}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},1186:function(e,t,n){"use strict";function r(e){if(!e)return e;var t={};return o.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t}function i(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var l in t){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var o=n(1)},1187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return k.length?k.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){k.length&&k.forEach(function(n){return e.removeEventListener(n,t,!1)})}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1188),u=r(c),h=n(1190),p=r(h),f=n(1191),d=r(f),m=n(1192),y=n(1),g=r(y),b=n(24),v=r(b),w=n(76),x=n(1158),k=[];m.transitionEnd&&k.push(m.transitionEnd),m.animationEnd&&k.push(m.animationEnd);var _=(v.default.node,x.nameShape.isRequired,v.default.bool,v.default.bool,v.default.bool,v.default.number,v.default.number,v.default.number,function(e){function t(){var n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(l))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},a=n,o(r,a)}return a(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,w.findDOMNode)(this);if(!r)return void(t&&t());var i=this.props.name[e]||this.props.name+"-"+e,o=this.props.name[e+"Active"]||i+"-active",a=null,l=void 0;(0,u.default)(r,i),this.queueClassAndNode(o,r);var c=function(e){e&&e.target!==r||(clearTimeout(a),l&&l(),(0,p.default)(r,i),(0,p.default)(r,o),l&&l(),t&&t())};n?(a=setTimeout(c,n),this.transitionTimeouts.push(a)):m.transitionEnd&&(l=s(r,c))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,d.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,u.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=l({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,g.default.cloneElement(g.default.Children.only(this.props.children),e)},t}(g.default.Component));_.displayName="CSSTransitionGroupChild",_.propTypes={},t.default=_,e.exports=t.default},1188:function(e,t,n){"use strict";function r(e,t){e.classList?e.classList.add(t):(0,o.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1189),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},1189:function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},1190:function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},1191:function(e,t,n){"use strict";function r(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),r=setTimeout(e,n);return h=t,r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1157),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=["","webkit","moz","o","ms"],s="clearTimeout",l=r,c=void 0,u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&a.some(function(e){var t=u(e,"request");if(t in window)return s=u(e,"cancel"),l=function(e){return window[t](e)}});var h=(new Date).getTime();c=function(e){return l(e)},c.cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=c,e.exports=t.default},1192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r=n(1157),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o="transform",a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,h=void 0,p=void 0,f=void 0,d=void 0,m=void 0,y=void 0;if(i.default){var g=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}();a=g.prefix,t.transitionEnd=s=g.transitionEnd,t.animationEnd=l=g.animationEnd,t.transform=o=a+"-"+o,t.transitionProperty=c=a+"-transition-property",t.transitionDuration=u=a+"-transition-duration",t.transitionDelay=p=a+"-transition-delay",t.transitionTiming=h=a+"-transition-timing-function",t.animationName=f=a+"-animation-name",t.animationDuration=d=a+"-animation-duration",t.animationTiming=m=a+"-animation-delay",t.animationDelay=y=a+"-animation-timing-function"}t.transform=o,t.transitionProperty=c,t.transitionTiming=h,t.transitionDelay=p,t.transitionDuration=u,t.transitionEnd=s,t.animationName=f,t.animationDuration=d,t.animationTiming=m,t.animationDelay=y,t.animationEnd=l,t.default={transform:o,end:s,property:c,timing:h,delay:p,duration:u}},1193:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a.BASE+d.a.DEPOSIT_LIMIT;return fetch(n+"?inputCoinType="+encodeURIComponent(e)+"&outputCoinType="+encodeURIComponent(t),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(n){console.log("error fetching deposit limit of",e,t,n)})}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.a.BASE+d.a.ESTIMATE_OUTPUT;return fetch(r+"?inputAmount="+encodeURIComponent(e)+"&inputCoinType="+encodeURIComponent(t)+"&outputCoinType="+encodeURIComponent(n),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("error fetching deposit limit of",t,n,e)})}function o(e){var t=e.inputCoinType,n=e.outputCoinType,r=e.outputAddress,i=e.url,o=void 0===i?d.a.BASE_OL:i,a=e.stateCallback,s={inputCoinType:t,outputCoinType:n,outputAddress:r},l=JSON.stringify(s);fetch(o+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:l}).then(function(e){e.json().then(function(e){var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};a&&a(t)},function(e){a&&a({address:"unknown",memo:null})})},function(e){a&&a({address:"unknown",memo:null})}).catch(function(e){console.log("fetch error:",e)})}function a(e){var t=e.url,n=void 0===t?d.a.BASE:t,r=e.walletType,i=e.newAddress;return i?fetch(n+"/wallets/"+r+"/address-validator?address="+encodeURIComponent(i),{method:"get",headers:new Headers({Accept:"application/json"})}).then(function(e){return e.json().then(function(e){return e.isValid})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}function s(e){var t=e.input_coin_type,n=e.output_coin_type,r=e.url,i=e.account_name;if(!t||!n)return Promise.reject();var o=JSON.stringify({inputCoinType:t,outputCoinType:n,outputAddress:i,inputMemo:"blocktrades conversion: "+t+"to"+n}),a=r+t+n+i;return new Promise(function(e,t){if(y[a])return e(y[a]);fetch(r+"/simple-api/initiate-trade",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:o}).then(function(n){n.json().then(function(t){y[a]=t,e(t)},t).catch(t)}).catch(t)})}function l(e){return m.has("history_address_"+e)}function c(e){var t=e.wallet,n=e.addresses;m.set("history_address_"+t,n)}function u(e){return m.get("history_address_"+e,[])}function h(e){var t=e.wallet,n=e.address;m.set("history_address_last_"+t,n)}function p(e){return m.get("history_address_last_"+e,"")}t.d=r,t.b=i,t.e=o,t.f=a,t.c=s,n.d(t,"a",function(){return g});var f=n(92),d=n(380),m=new f.a(""),y={},g={has:l,set:c,get:u,setLast:h,getLast:p}},1195:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(66),s=n(27),l=n.n(s),c=n(10),u=n(1161),h=n(19),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.assets=l.a.Map(),e.asset_symbol_to_id={},e.searchTerms={},e.lookupResults=[],e.assetsLoading=!1,e.bindListeners({onGetAssetList:u.a.getAssetList,onGetAsset:u.a.getAsset,onLookupAsset:u.a.lookupAsset}),e._export("getAsset"),e}return o(t,e),p(t,[{key:"getAsset",value:function(e){var t=h.a.is_object_id(e)?e:this.asset_symbol_to_id[e];return this.assets.get(t)}},{key:"onGetAssetList",value:function(e){var t=this;if(!e)return!1;this.assetsLoading=e.loading,e.assets&&e.assets.forEach(function(n){for(var r=0;r<e.dynamic_data.length;r++)if(e.dynamic_data[r].id===n.dynamic_asset_data_id){n.dynamic_data=e.dynamic_data[r];break}if(n.bitasset_data_id){n.market_asset=!0;for(var r=0;r<e.bitasset_data.length;r++)if(e.bitasset_data[r].id===n.bitasset_data_id){n.bitasset_data=e.bitasset_data[r];break}}else n.market_asset=!1;t.assets=t.assets.set(n.id,n),t.asset_symbol_to_id[n.symbol]=n.id})}},{key:"onGetAsset",value:function(e){var t=e.asset;if(null===e.asset)return this.assets=this.assets.set(e.symbol,{notFound:!0}),!0;t.dynamic_data=e.dynamic_data,e.bitasset_data?(t.bitasset_data=e.bitasset_data,t.market_asset=!0):t.market_asset=!1,this.assets=this.assets.set(t.id,Asset(t)),this.asset_symbol_to_id[t.symbol]=t.id}},{key:"onLookupAsset",value:function(e){this.searchTerms[e.searchID]=e.symbol,this.lookupResults=e.assets}}]),t}(a.a);t.a=c.a.createStore(f,"AssetStore")},1197:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(10),o=(n(1193),n(380),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),a=function(){function e(){r(this,e)}return o(e,[{key:"fetchCoins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.backer,e.url;return{}}},{key:"fetchBridgeCoins",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{}}}]),e}();t.a=i.a.createActions(a)},1200:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(22),c=n.n(l),u=n(7),h=n(40),p=n(41),f=n(23),d=n.n(f),m=n(381),y=n(107),g=n(27),b=n.n(g),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"render",value:function(){return 0!==this.props.assets.length&&this.props.value?s.a.createElement(m.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?s.a.createElement(y.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:"",onChange:this.props.onChange}):null}}]),t}(s.a.Component);w.propTypes={assets:h.a.ChainAssetsList,value:s.a.PropTypes.string,onChange:s.a.PropTypes.func},w=Object(p.a)(w);var x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"getAsset",value:function(){return this.props.asset}},{key:"getError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.assetInput,t=this.props.error;return t||!e||this.getNameType(e)||(t=d.a.translate("explorer.asset.invalid",{name:e})),t}},{key:"getNameType",value:function(e){return e?u.d.is_valid_symbol_error(e,!0)?null:"symbol":null}},{key:"onInputChanged",value:function(e){var t=e.target.value.trim().substr(0,16).toUpperCase();this.props.onChange&&t!==this.props.assetInput&&this.props.onChange(t)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&this.onFound(e)}},{key:"componentDidMount",value:function(){this.props.onFound&&this.props.asset&&this.props.onFound(this.props.asset)}},{key:"componentWillReceiveProps",value:function(e){this.props.onFound&&e.asset!==this.props.asset&&this.props.onFound(e.asset)}},{key:"onFound",value:function(e){e.preventDefault(),!this.props.onFound||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onFound(this.props.asset)}},{key:"onAssetSelect",value:function(e){e&&(this.props.onFound(e),this.props.onChange(e.get("symbol")))}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.noLabel,r=this.getError(),i=void 0;return t||(this.props.asset?i=this.props.asset.get("symbol"):!r&&this.props.assetInput&&(r=d.a.translate("explorer.asset.not_found",{name:this.props.assetInput}))),s.a.createElement("div",{className:"asset-selector",style:this.props.style},s.a.createElement("div",null,s.a.createElement("div",{className:"header-area"},r||n?null:s.a.createElement("label",{className:"right-label"},"  ",s.a.createElement("span",null,i)),s.a.createElement(c.a,{component:"label",content:this.props.label})),s.a.createElement("div",{className:"input-area"},s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{style:this.props.inputStyle,disabled:this.props.disabled,type:"text",value:this.props.assetInput||"",placeholder:d.a.translate("explorer.assets.symbol"),ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),s.a.createElement("div",{className:"form-label select floating-dropdown"},this.props.asset?s.a.createElement(w,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:b.a.List(this.props.assets),onChange:this.onAssetSelect.bind(this)}):null),this.props.children)),s.a.createElement("div",{className:"error-area",style:{paddingBottom:"10px"}},s.a.createElement("span",{style:{wordBreak:"break-all"}},r))))}}]),t}(s.a.Component);x.propTypes={label:s.a.PropTypes.string,error:s.a.PropTypes.string,placeholder:s.a.PropTypes.string,onChange:s.a.PropTypes.func,onFound:s.a.PropTypes.func,assetInput:s.a.PropTypes.string,asset:h.a.ChainAsset,tabIndex:s.a.PropTypes.number,disableActionButton:s.a.PropTypes.string},x.defaultProps={disabled:!1},t.a=Object(p.a)(x)},1201:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(34),o=n(92),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=new o.a("__bts__"),l=function(){function e(){r(this,e),this.current_blocktrades_address_cache_version_string="2"}return a(e,[{key:"getIndexForDepositKeyInExchange",value:function(e,t,n){return[this.current_blocktrades_address_cache_version_string,e,t,n].reduce(function(e,t){return e.concat("[",t,"]")},"")}},{key:"getCachedInputAddress",value:function(e,t,n,r){var o=i.a.getWallet();o=null;var a=this.getIndexForDepositKeyInExchange(t,n,r);if(o){o.deposit_keys=o.deposit_keys||{},o.deposit_keys[e]=o.deposit_keys[e]||{},o.deposit_keys[e][a]=o.deposit_keys[e][a]||[];var l=o.deposit_keys[e][a].length;return l?o.deposit_keys[e][a][l-1]:null}var c=s.get("deposit_keys",{});c[e]=c[e]||{},c[e][a]=c[e][a]||[];var u=c[e][a].length;return u?c[e][a][u-1]:null}},{key:"cacheInputAddress",value:function(e,t,n,r,o,a){var l=i.a.getWallet();l=null;var c=this.getIndexForDepositKeyInExchange(t,n,r);if(l)l.deposit_keys=l.deposit_keys||{},l.deposit_keys[e]=l.deposit_keys[e]||{},l.deposit_keys[e][c]=l.deposit_keys[e][c]||[],l.deposit_keys[e][c].push({address:o,memo:a}),i.a._updateWallet();else{var u=s.get("deposit_keys",{});u[e]=u[e]||{},u[e][c]=u[e][c]||[],u[e][c].push({address:o,memo:a}),s.set("deposit_keys",u)}}}]),e}();t.a=l},1208:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(19),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.price,n=e.preFormattedPrice,r=e.quote,i=e.base,o=(e.component,n||l.a.price_to_text(t,r,i));return o.full>=1?s.a.createElement("span",null,s.a.createElement("span",{className:"price-integer"},o.int,"."),o.dec?s.a.createElement("span",{className:"price-integer"},o.dec):null,o.trailing?s.a.createElement("span",{className:"price-decimal"},o.trailing):null):o.full>=.1?s.a.createElement("span",null,s.a.createElement("span",{className:"price-decimal"},o.int,"."),o.dec?s.a.createElement("span",{className:"price-integer"},o.dec):null,o.trailing?s.a.createElement("span",{className:"price-decimal"},o.trailing):null):s.a.createElement("span",null,s.a.createElement("span",{className:"price-decimal"},o.int,"."),o.dec?s.a.createElement("span",{className:"price-decimal"},o.dec):null,o.trailing?s.a.createElement("span",{className:"price-integer"},o.trailing):null)}}]),t}(s.a.Component);t.a=u},1210:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(27),o=n.n(i),a=n(10),s=n(1197),l=n(92),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=new l.a("__graphene__"),h=function(){function e(){r(this,e),this.coins=o.a.Map(),this.backedCoins=o.a.Map(u.get("backedCoins",{})),this.bridgeCoins=o.a.Map(o.a.fromJS(u.get("bridgeCoins",{}))),this.bridgeInputs=["btc","dash","eth","steem"],this.bindListeners({onFetchCoins:s.a.fetchCoins,onFetchBridgeCoins:s.a.fetchBridgeCoins})}return c(e,[{key:"onFetchCoins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backer,n=e.coins,r=e.backedCoins;t&&n&&(this.coins=this.coins.set(t,n),this.backedCoins=this.backedCoins.set(t,r),u.set("backedCoins",this.backedCoins.toJS()))}},{key:"onFetchBridgeCoins",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.coins,r=t.bridgeCoins,i=t.wallets;if(n&&r){var a={};n.forEach(function(e){return a[e.coinType]=e}),r=r.filter(function(t){return t&&a[t.outputCoinType]&&-1!==i.indexOf(a[t.outputCoinType].walletType)&&"bitshares2"===a[t.outputCoinType].walletType&&-1!==e.bridgeInputs.indexOf(t.inputCoinType)}).forEach(function(t){e.bridgeCoins=e.bridgeCoins.setIn([a[t.outputCoinType].walletSymbol,t.inputCoinType],o.a.fromJS(t))}),u.set("bridgeCoins",this.bridgeCoins.toJS())}}}]),e}();t.a=a.a.createStore(h,"GatewayStore")},1211:function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(23),a=n.n(o),s=n(1224),l=n.n(s),c=n(75),u=function(e){var t=e.className,n=void 0===t?"button":t,r=e.text,o=void 0===r?"":r,s=e.tip,u=void 0===s?"tooltip.copy_tip":s,h=e.dataPlace,p=void 0===h?"right":h;return i.a.createElement(l.a,{"data-clipboard-text":o,className:n,"data-place":p,"data-tip":a.a.translate(u)},i.a.createElement(c.a,{name:"clippy"}))};t.a=u},1212:function(e,t,n){!function(t,r){e.exports=r(n(1),n(1213))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(6)},function(t,n){t.exports=e},function(e,t,n){(function(t){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=void 0===t?window:t;e.exports=function(t,n){var a="Highcharts"+t,s=i.createClass({displayName:a,propTypes:{config:i.PropTypes.object.isRequired,isPureConfig:i.PropTypes.bool,neverReflow:i.PropTypes.bool,callback:i.PropTypes.func,domProps:i.PropTypes.object},defaultProps:{callback:function(){},domProps:{}},renderChart:function(e){var i=this;if(!e)throw new Error("Config must be specified for the "+a+" component");var s=e.chart;this.chart=new n[t](r({},e,{chart:r({},s,{renderTo:this.refs.chart})}),this.props.callback),this.props.neverReflow||o.requestAnimationFrame&&requestAnimationFrame(function(){i.chart&&i.chart.options&&i.chart.reflow()})},shouldComponentUpdate:function(e){return!!(e.neverReflow||e.isPureConfig&&this.props.config===e.config)||(this.renderChart(e.config),!1)},getChart:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){return i.createElement("div",r({ref:"chart"},this.props.domProps))}});return s.Highcharts=n,s.withHighcharts=function(n){return e.exports(t,n)},s}}).call(t,function(){return this}())},,,,function(e,t,n){"use strict";e.exports=n(2)("StockChart",n(9))},,,function(e,n){e.exports=t}])})},1213:function(e,t){!function(t,n){"object"==typeof e&&e.exports?e.exports=t.document?n(t):n:t.Highcharts=n(t)}("undefined"!=typeof window?window:this,function(e){function t(t,n){var r="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(n)throw Error(r);e.console&&console.log(r)}function n(e,t,n){this.options=t,this.elem=e,this.prop=n}function r(){var e,t,n=arguments,r={},i=function(e,t){var n,r;"object"!=typeof e&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==r&&"number"!=typeof n.nodeType?i(e[r]||{},n):t[r]);return e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),t=n.length,e=0;e<t;e++)r=i(r,n[e]);return r}function i(e,t){return parseInt(e,t||10)}function o(e){return"string"==typeof e}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==L&&null!==e}function c(e,t,n){var r,i;if(o(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(l(t)&&et(t))for(r in t)e.setAttribute(r,t[r]);return i}function u(e){return a(e)?e:[e]}function h(e,t,n){if(t)return setTimeout(e,t,n);e.call(0,n)}function p(e,t){xe&&!Ee&&t&&t.opacity!==L&&(t.filter="alpha(opacity="+100*t.opacity+")"),Je(e.style,t)}function f(e,t,n,r,i){return e=se.createElement(e),t&&Je(e,t),i&&p(e,{padding:0,border:"none",margin:0}),n&&p(e,n),r&&r.appendChild(e),e}function d(e,t){var n=function(){};return n.prototype=new e,Je(n.prototype,t),n}function m(e,t,n){return Array((t||2)+1-String(e).length).join(n||0)+e}function y(e){return 6e4*(V&&V(e)||X||0)}function g(e,t){for(var n,r,i,o,a,s="{",l=!1,c=[];-1!==(s=e.indexOf(s));){if(n=e.slice(0,s),l){for(r=n.split(":"),i=r.shift().split("."),a=i.length,n=t,o=0;o<a;o++)n=n[i[o]];r.length&&(r=r.join(":"),i=/\.([0-9])/,o=z.lang,a=void 0,/f$/.test(r)?(a=(a=r.match(i))?a[1]:-1,null!==n&&(n=ae.numberFormat(n,a,o.decimalPoint,r.indexOf(",")>-1?o.thousandsSep:""))):n=W(r,n))}c.push(n),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function b(e){return le.pow(10,ue(le.log(e)/le.LN10))}function v(e,t,n,r,i){var o,a=e,n=nt(n,1);for(o=e/n,t||(t=[1,2,2.5,5,10],!1===r&&(1===n?t=[1,2,5,10]:n<=.1&&(t=[1/n]))),r=0;r<t.length&&(a=t[r],!(i&&a*n>=e||!i&&o<=(t[r]+(t[r+1]||t[r]))/2));r++);return a*=n}function w(e,t){var n,r,i=e.length;for(r=0;r<i;r++)e[r].safeI=r;for(e.sort(function(e,r){return n=t(e,r),0===n?e.safeI-r.safeI:n}),r=0;r<i;r++)delete e[r].safeI}function x(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function k(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function _(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function T(e){B||(B=f(je)),e&&B.appendChild(e),B.innerHTML=""}function S(e,t){return parseFloat(e.toPrecision(t||14))}function P(e,t){t.renderer.globalAnimation=nt(e,t.animation)}function E(e){return et(e)?r(e):{duration:e?500:0}}function C(){var t=z.global,n=t.useUTC,r=n?"getUTC":"get",i=n?"setUTC":"set";H=t.Date||e.Date,X=n&&t.timezoneOffset,V=n&&t.getTimezoneOffset,Y=function(e,t,r,i,o,a){var s;return n?(s=H.UTC.apply(0,arguments),s+=y(s)):s=new H(e,t,nt(r,1),nt(i,0),nt(o,0),nt(a,0)).getTime(),s},G=r+"Minutes",U=r+"Hours",K=r+"Day",Z=r+"Date",$=r+"Month",Q=r+"FullYear",J=i+"Milliseconds",ee=i+"Seconds",te=i+"Minutes",ne=i+"Hours",re=i+"Date",ie=i+"Month",oe=i+"FullYear"}function O(e){if(!(this instanceof O))return new O(e);this.init(e)}function A(){}function M(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function D(e,t,n,r,i){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:nt(t.y,o?4:n?14:-6),x:nt(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function N(e,t,n){this.scrollbarButtons=[],this.renderer=e,this.userOptions=t,this.options=r(jt,t),this.chart=n,this.size=nt(this.options.size,this.options.height),this.render(),this.initEvents(),this.addEvents()}function R(e){var t=e.options,n=t.navigator,r=n.enabled,i=t.scrollbar,t=i.enabled,o=r?n.height:0,i=t?i.height:0;this.handles=[],this.elementsToDestroy=[],this.chart=e,this.setBaseSeries(),this.height=o,this.scrollbarHeight=i,this.scrollbarEnabled=t,this.navigatorEnabled=r,this.navigatorOptions=n,this.outlineHeight=o+i,this.init()}function j(e){this.init(e)}var L,F,I,B,z,W,q,H,Y,X,V,G,U,K,Z,$,Q,J,ee,te,ne,re,ie,oe,ae,se=e.document,le=Math,ce=le.round,ue=le.floor,he=le.ceil,pe=le.max,fe=le.min,de=le.abs,me=le.cos,ye=le.sin,ge=le.PI,be=2*ge/360,ve=e.navigator&&e.navigator.userAgent||"",we=e.opera,xe=/(msie|trident|edge)/i.test(ve)&&!we,ke=se&&8===se.documentMode,_e=!xe&&/AppleWebKit/.test(ve),Te=/Firefox/.test(ve),Se=/(Mobile|Android|Windows Phone)/.test(ve),Pe="http://www.w3.org/2000/svg",Ee=se&&se.createElementNS&&!!se.createElementNS(Pe,"svg").createSVGRect,Ce=Te&&parseInt(ve.split("Firefox/")[1],10)<4,Oe=se&&!Ee&&!xe&&!!se.createElement("canvas").getContext,Ae={},Me=0,De=function(){},Ne=[],Re=0,je="div",Le="M",Fe="L",Ie=/^[0-9]+$/,Be=["plotTop","marginRight","marginBottom","plotLeft"],ze={};ae=e.Highcharts?t(16,!0):{win:e},ae.seriesTypes=ze;var We,qe,He,Ye,Xe,Ve,Ge,Ue,Ke,Ze,$e,Qe=[];n.prototype={dSetter:function(){var e,t=this.paths[0],n=this.paths[1],r=[],i=this.now,o=t.length;if(1===i)r=this.toD;else if(o===n.length&&i<1)for(;o--;)e=parseFloat(t[o]),r[o]=isNaN(e)?t[o]:i*parseFloat(n[o]-e)+e;else r=n;this.elem.attr("d",r)},update:function(){var e=this.elem,t=this.prop,n=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n):e.style[t]=n+this.unit,r&&r.call(e,n,this)},run:function(e,t,n){var r,i=this,o=function(e){return!o.stopped&&i.step(e)};this.startTime=+new H,this.start=e,this.end=t,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===Qe.push(o)&&(o.timerId=setInterval(function(){for(r=0;r<Qe.length;r++)Qe[r]()||Qe.splice(r--,1);Qe.length||clearInterval(o.timerId)},13))},step:function(e){var t,n=+new H,r=this.options;t=this.elem;var i,o=r.complete,a=r.duration,s=r.curAnim;if(t.attr&&!t.element)t=!1;else if(e||n>=a+this.startTime){this.now=this.end,this.pos=1,this.update(),e=s[this.prop]=!0;for(i in s)!0!==s[i]&&(e=!1);e&&o&&o.call(t),t=!1}else this.pos=r.easing((n-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(e,t,n){function r(e){for(c=e.length;c--;)(e[c]===Le||e[c]===Fe)&&e.splice(c+1,0,e[c+1],e[c+2],e[c+1],e[c+2])}function i(e,t){for(;e.length<s;){e[0]=t[s-e.length];var n=e.slice(0,d);[].splice.apply(e,[0,0].concat(n)),m&&(n=e.slice(e.length-d),[].splice.apply(e,[e.length,0].concat(n)),c--)}e[0]="M"}function o(e,t){for(var n=(s-e.length)/d;n>0&&n--;)l=e.slice().splice(e.length/y-d,d*y),l[0]=t[s-d-n*d],f&&(l[d-6]=l[d-2],l[d-5]=l[d-1]),[].splice.apply(e,[e.length/y,0].concat(l)),m&&n--}var a,s,l,c,u,t=t||"",h=e.startX,p=e.endX,f=t.indexOf("C")>-1,d=f?7:3,t=t.split(" "),n=n.slice(),m=e.isArea,y=m?2:1;if(f&&(r(t),r(n)),h&&p){for(c=0;c<h.length;c++){if(h[c]===p[0]){a=c;break}if(h[0]===p[p.length-h.length+c]){a=c,u=!0;break}}void 0===a&&(t=[])}return t.length&&ae.isNumber(a)&&(s=n.length+a*y*d,u?(i(t,n),o(n,t)):(i(n,t),o(t,n))),[t,n]}};var Je=ae.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},et=ae.isObject=function(e,t){return e&&"object"==typeof e&&(!t||!a(e))},tt=ae.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},nt=ae.pick=function(){var e,t,n=arguments,r=n.length;for(e=0;e<r;e++)if((t=n[e])!==L&&null!==t)return t},rt=ae.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};W=function(e,t,n){if(!l(t)||isNaN(t))return z.lang.invalidDate||"";var r,e=nt(e,"%Y-%m-%d %H:%M:%S"),i=new H(t-y(t)),o=i[U](),a=i[K](),s=i[Z](),c=i[$](),u=i[Q](),h=z.lang,p=h.weekdays,f=h.shortWeekdays,i=Je({a:f?f[a]:p[a].substr(0,3),A:p[a],d:m(s),e:m(s,2," "),w:a,b:h.shortMonths[c],B:h.months[c],m:m(c+1),y:u.toString().substr(2,2),Y:u,H:m(o),k:o,I:m(o%12||12),l:o%12||12,M:m(i[G]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:m(i.getSeconds()),L:m(ce(t%1e3),3)},ae.dateFormats);for(r in i)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof i[r]?i[r](t):i[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},q={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ae.numberFormat=function(e,t,n,r){var o,a,e=+e||0,t=+t,s=z.lang,l=(e.toString().split(".")[1]||"").length,c=Math.abs(e);return-1===t?t=Math.min(l,20):tt(t)||(t=2),o=String(i(c.toFixed(t))),a=o.length>3?o.length%3:0,n=nt(n,s.decimalPoint),r=nt(r,s.thousandsSep),e=e<0?"-":"",e+=a?o.substr(0,a)+r:"",e+=o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r),t&&(r=Math.abs(c-o+Math.pow(10,-Math.max(t,l)-1)),e+=n+r.toFixed(t).slice(2)),e},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},We=function(t,n){var r;return"width"===n?Math.min(t.offsetWidth,t.scrollWidth)-We(t,"padding-left")-We(t,"padding-right"):"height"===n?Math.min(t.offsetHeight,t.scrollHeight)-We(t,"padding-top")-We(t,"padding-bottom"):(r=e.getComputedStyle(t,void 0))&&i(r.getPropertyValue(n))},qe=function(e,t){return t.indexOf?t.indexOf(e):[].indexOf.call(t,e)},Ye=function(e,t){return[].filter.call(e,t)},Ve=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},Xe=function(t){var n=se.documentElement,t=t.getBoundingClientRect();return{top:t.top+(e.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(e.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},$e=function(e){for(var t=Qe.length;t--;)Qe[t].elem===e&&(Qe[t].stopped=!0)},He=function(e,t){return Array.prototype.forEach.call(e,t)},Ge=function(t,n,r){function i(n){n.target=n.srcElement||e,r.call(t,n)}var o=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[r.toString()]=i,t.attachEvent("on"+n,i)),o[n]||(o[n]=[]),o[n].push(r)},Ue=function(e,t,n){function r(t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&(n=e.hcEventsIE[n.toString()],e.detachEvent("on"+t,n))}function i(){var n,i,o;if(e.nodeName)for(o in t?(n={},n[t]=!0):n=s,n)if(s[o])for(i=s[o].length;i--;)r(o,s[o][i])}var o,a,s=e.hcEvents;s&&(t?(o=s[t]||[],n?(a=qe(n,o),a>-1&&(o.splice(a,1),s[t]=o),r(t,n)):(i(),s[t]=[])):(i(),e.hcEvents={}))},Ke=function(e,t,n,r){var i;i=e.hcEvents;var o,a,n=n||{};if(se.createEvent&&(e.dispatchEvent||e.fireEvent))i=se.createEvent("Events"),i.initEvent(t,!0,!0),i.target=e,Je(i,n),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(t,i);else if(i)for(i=i[t]||[],o=i.length,n.preventDefault||(n.preventDefault=function(){n.defaultPrevented=!0}),n.target=e,n.type||(n.type=t),t=0;t<o;t++)(a=i[t])&&!1===a.call(e,n)&&n.preventDefault();r&&!n.defaultPrevented&&r(n)},Ze=function(e,t,i){var o,a,s,l,c="";et(i)||(o=arguments,i={duration:o[2],easing:o[3],complete:o[4]}),tt(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=r(t);for(l in t)s=new n(e,i,l),a=null,"d"===l?(s.paths=s.initPath(e,e.d,t.d),s.toD=t.d,o=0,a=1):e.attr?o=e.attr(l):(o=parseFloat(We(e,l))||0,"opacity"!==l&&(c="px")),a||(a=t[l]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),s.run(o,a,c)},e.jQuery&&(e.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(ae[o(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):Ne[c(this[0],"data-highcharts-chart")]}),se&&!se.defaultView&&(We=function(e,t){var n;return n={width:"clientWidth",height:"clientHeight"}[t],e.style[t]?i(e.style[t]):("opacity"===t&&(t="filter"),n?(e.style.zoom=1,Math.max(e[n]-2*We(e,"padding"),0)):(n=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],"filter"===t&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),""===n?1:i(n)))}),Array.prototype.forEach||(He=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!1===t.call(e[n],e[n],n,e))return n}),Array.prototype.indexOf||(qe=function(e,t){var n,r=0;if(t)for(n=t.length;r<n;r++)if(t[r]===e)return r;return-1}),Array.prototype.filter||(Ye=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n}),ae.Fx=n,ae.inArray=qe,ae.each=He,ae.grep=Ye,ae.offset=Xe,ae.map=Ve,ae.addEvent=Ge,ae.removeEvent=Ue,ae.fireEvent=Ke,ae.animate=Ze,ae.animObject=E,ae.stop=$e,z={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/4.2.6/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ae.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ee,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Se?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var it=z.plotOptions,ot=it.line;C(),O.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),parseFloat(e[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[i(e[1],16),i(e[2],16),i(e[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),1]}}],init:function(e){var t,n,r,i;if((this.input=e)&&e.stops)this.stops=Ve(e.stops,function(e){return new O(e[1])});else for(r=this.parsers.length;r--&&!n;)i=this.parsers[r],(t=i.regex.exec(e))&&(n=i.parse(t));this.rgba=n||[]},get:function(e){var t,n=this.input,i=this.rgba;return this.stops?(t=r(n),t.stops=[].concat(t.stops),He(this.stops,function(n,r){t.stops[r]=[t.stops[r][0],n.get(e)]})):t=i&&tt(i[0])?"rgb"===e||!e&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===e?i[3]:"rgba("+i.join(",")+")":n,t},brighten:function(e){var t,n=this.rgba;if(this.stops)He(this.stops,function(t){t.brighten(e)});else if(tt(e)&&0!==e)for(t=0;t<3;t++)n[t]+=i(255*e),n[t]<0&&(n[t]=0),n[t]>255&&(n[t]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this}},A.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element="span"===t?f(t):se.createElementNS(Pe,t),this.renderer=e},animate:function(e,t,n){return t=nt(t,this.renderer.globalAnimation,!0),$e(this),t?(n&&(t.complete=n),Ze(this,e,t)):this.attr(e,null,n),this},colorGradient:function(e,t,n){var i,o,s,c,u,h,p,f,d,m,y,g,b=this.renderer,v=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){s=e[o],u=b.gradients,p=e.stops,m=n.radialReference,a(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!l(s.gradientUnits)&&(c=s,s=r(s,b.getRadialAttr(m,c),{gradientUnits:"userSpaceOnUse"}));for(y in s)"id"!==y&&v.push(y,s[y]);for(y in p)v.push(p[y]);v=v.join(","),u[v]?m=u[v].attr("id"):(s.id=m="highcharts-"+Me++,u[v]=h=b.createElement(o).attr(s).add(b.defs),h.radAttr=c,h.stops=[],He(p,function(e){0===e[1].indexOf("rgba")?(i=O(e[1]),f=i.get("rgb"),d=i.get("a")):(f=e[1],d=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":f,"stop-opacity":d}).add(h),h.stops.push(e)})),g="url("+b.url+"#"+m+")",n.setAttribute(t,g),n.gradient=v,e.toString=function(){return g}}},applyTextShadow:function(e){var t,n=this.element,r=-1!==e.indexOf("contrast"),o={},a=this.renderer.forExport,s=a||n.style.textShadow!==L&&!xe;r&&(o.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(_e||a)&&(o.textRendering="geometricPrecision"),s?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(n.getElementsByTagName("tspan")),He(e.split(/\s?,\s?/g),function(e){var r,o,a=n.firstChild,e=e.split(" ");r=e[e.length-1],(o=e[e.length-2])&&He(t,function(e,t){var s;0===t&&(e.setAttribute("x",n.getAttribute("x")),t=n.getAttribute("y"),e.setAttribute("y",t||0),null===t&&n.setAttribute("y",0)),s=e.cloneNode(1),c(s,{class:"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/pe(i(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(s,a)})}))},attr:function(e,t,n){var r,i,o,a=this.element,s=this;if("string"==typeof e&&t!==L&&(r=e,e={},e[r]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(r in e)t=e[r],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(i||(this.symbolAttr(e),i=!0),o=!0),!this.rotation||"x"!==r&&"y"!==r||(this.doTransform=!0),o||(o=this[r+"Setter"]||this._defaultSetter,o.call(this,t,r,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,t,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),s},updateShadows:function(e,t,n){for(var r=this.shadows,i=r.length;i--;)n.call(r[i],"height"===e?Math.max(t-(r[i].cutHeight||0),0):"d"===e?this.d:t,e,r[i])},addClass:function(e){var t=this.element,n=c(t,"class")||"";return-1===n.indexOf(e)&&c(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;He("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=nt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e){var t,n,r={},i=this.strokeWidth||0;n=ce(i)%2/2,e.x=ue(e.x||this.x||0)+n,e.y=ue(e.y||this.y||0)+n,e.width=ue((e.width||this.width||0)-2*n),e.height=ue((e.height||this.height||0)-2*n),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=r[t]=e[t]);return r},css:function(e){var t,n,r=this.styles,o={},a=this.element,s="";if(t=!r,e&&e.color&&(e.fill=e.color),r)for(n in e)e[n]!==r[n]&&(o[n]=e[n],t=!0);if(t){if(t=this.textWidth=e&&e.width&&"text"===a.nodeName.toLowerCase()&&i(e.width)||this.textWidth,r&&(e=Je(r,o)),this.styles=e,t&&(Oe||!Ee&&this.renderer.forExport)&&delete e.width,xe&&!Ee)p(this.element,e);else{r=function(e,t){return"-"+t.toLowerCase()};for(n in e)s+=n.replace(/([A-Z])/g,r)+":"+e[n]+";";c(a,"style",s)}t&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return I&&"click"===e?(r.ontouchstart=function(e){n.touchEventFired=H.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(-1===ve.indexOf("Android")||H.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,o=this.rotation,a=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(l(n)||l(r))&&e.push("scale("+nt(n,1)+" "+nt(r,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,i,a,l,c={};return i=this.renderer,a=i.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||o(n))&&(this.alignTo=r=n||"renderer",s(a,this),a.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=nt(n,i[r],i),r=e.align,i=e.verticalAlign,a=(n.x||0)+(e.x||0),l=(n.y||0)+(e.y||0),"right"!==r&&"center"!==r||(a+=(n.width-(e.width||0))/{right:1,center:2}[r]),c[t?"translateX":"x"]=ce(a),"bottom"!==i&&"middle"!==i||(l+=(n.height-(e.height||0))/({bottom:1,middle:2}[i]||1)),c[t?"translateY":"y"]=ce(l),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(e,t){var n,r,i,o,a=this.renderer,s=this.element,l=this.styles;r=this.textStr;var c,u,h,p=s.style,f=a.cache,d=a.cacheKeys;if(i=nt(t,this.rotation),o=i*be,r!==L&&(h=["",i||0,l&&l.fontSize,s.style.width].join(","),h=""===r||Ie.test(r)?"num:"+r.toString().length+h:r+h),h&&!e&&(n=f[h]),!n){if(s.namespaceURI===Pe||a.forExport){try{u=this.fakeTS&&function(e){He(s.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},Te&&p.textShadow?(c=p.textShadow,p.textShadow=""):u&&u("none"),n=s.getBBox?Je({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},c?p.textShadow=c:u&&u("")}catch(e){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(a.isSVG&&(a=n.width,r=n.height,xe&&l&&"11px"===l.fontSize&&"16.9"===r.toPrecision(3)&&(n.height=r=14),i&&(n.width=de(r*ye(o))+de(a*me(o)),n.height=de(r*me(o))+de(a*ye(o)))),h){for(;d.length>250;)delete f[d.shift()];f[h]||d.push(h),f[h]=n}}return n},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,r=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,r=n.element||{},i=n.shadows,o=n.renderer.isSVG&&"SPAN"===r.nodeName&&n.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,$e(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(r),i&&He(i,function(e){n.safeRemoveChild(e)});o&&o.div&&0===o.div.childNodes.length;)r=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=r;n.alignTo&&s(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var r,i,o,a,s,l,u=[],h=this.element;if(e){for(a=nt(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+nt(e.offsetX,1)+", "+nt(e.offsetY,1)+")",r=1;r<=a;r++)i=h.cloneNode(0),o=2*a+1-2*r,c(i,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*r,"stroke-width":o,transform:"translate"+l,fill:"none"}),n&&(c(i,"height",pe(c(i,"height")-o,0)),i.cutHeight=o),t?t.element.appendChild(i):h.parentNode.insertBefore(i,h),u.push(i);this.shadows=u}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=nt(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t,n=this["stroke-width"];if("inherit"===n&&(n=1),e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;t--;)e[t]=i(e[t])*n;e=e.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=se.createElementNS(Pe,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(se.createTextNode(String(nt(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,t){var n,r,o,a=this.renderer,s=this.parentGroup,a=(s||a).element||a.box,c=this.element;n=this.added;var u;if(l(e)&&(c.zIndex=e,e=+e,this[t]===e&&(n=!1),this[t]=e),n){for((e=this.zIndex)&&s&&(s.handleZ=!0),s=a.childNodes,u=0;u<s.length&&!o;u++)n=s[u],r=n.zIndex,n!==c&&(i(r)>e||!l(e)&&l(r))&&(a.insertBefore(c,n),o=!0);o||a.appendChild(c)}return o},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var at=function(){this.init.apply(this,arguments)};at.prototype={Element:A,init:function(t,n,r,i,o,a){var s,i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i));s=i.element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&c(s,"xmlns",Pe),this.isSVG=!0,this.box=s,this.boxWrapper=i,this.alignedObjects=[],this.url=(Te||_e)&&se.getElementsByTagName("base").length?e.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(se.createTextNode("Created with Highstock 4.2.6")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(n,r,!1);var l;Te&&t.getBoundingClientRect&&(this.subPixelFix=n=function(){p(t,{left:0,top:0}),l=t.getBoundingClientRect(),p(t,{left:he(l.left)-l.left+"px",top:he(l.top)-l.top+"px"})},n(),Ge(e,"resize",n))},getStyle:function(e){return this.style=Je({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),_(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Ue(e,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var t,n,r,o=e.element,a=this,s=a.forExport,l=nt(e.textStr,"").toString(),u=-1!==l.indexOf("<"),h=o.childNodes,f=c(o,"x"),d=e.styles,m=e.textWidth,y=d&&d.lineHeight,g=d&&d.textShadow,b=d&&"ellipsis"===d.textOverflow,v=h.length,w=m&&!e.added&&this.box,x=function(e){return y?i(y):a.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:d&&d.fontSize||a.style.fontSize||12,e).h},k=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};v--;)o.removeChild(h[v]);u||g||b||m||-1!==l.indexOf(" ")?(t=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,w&&w.appendChild(o),l=u?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=Ye(l,function(e){return""!==e}),He(l,function(i,l){var u,h=0,i=i.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");u=i.split("|||"),He(u,function(i){if(""!==i||1===u.length){var y,g={},v=se.createElementNS(Pe,"tspan");if(t.test(i)&&(y=i.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(v,"style",y)),n.test(i)&&!s&&(c(v,"onclick",'location.href="'+i.match(n)[1]+'"'),p(v,{cursor:"pointer"}))," "!==(i=k(i.replace(/<(.|\n)*?>/g,"")||" "))){if(v.appendChild(se.createTextNode(i)),h?g.dx=0:l&&null!==f&&(g.x=f),c(v,g),o.appendChild(v),!h&&l&&(!Ee&&s&&p(v,{display:"block"}),c(v,"dy",x(v))),m){for(var w,_,g=i.replace(/([^\^])-/g,"$1- ").split(" "),T=u.length>1||l||g.length>1&&"nowrap"!==d.whiteSpace,S=[],P=x(v),E=1,C=e.rotation,O=i,A=O.length;(T||b)&&(g.length||S.length);)e.rotation=0,w=e.getBBox(!0),_=w.width,!Ee&&a.forExport&&(_=a.measureSpanWidth(v.firstChild.data,e.styles)),w=_>m,void 0===r&&(r=w),b&&r?(A/=2,""===O||!w&&A<.5?g=[]:(O=i.substring(0,O.length+(w?-1:1)*he(A)),g=[O+(m>3?"…":"")],v.removeChild(v.firstChild))):w&&1!==g.length?(v.removeChild(v.firstChild),S.unshift(g.pop())):(g=S,S=[],g.length&&(E++,v=se.createElementNS(Pe,"tspan"),c(v,{dy:P,x:f}),y&&c(v,"style",y),o.appendChild(v)),_>m&&(m=_)),g.length&&v.appendChild(se.createTextNode(g.join(" ").replace(/- /g,"-")));e.rotation=C}h++}}})}),r&&e.attr("title",e.textStr),w&&w.removeChild(o),g&&e.applyTextShadow&&e.applyTextShadow(g)):o.appendChild(se.createTextNode(k(l)))},getContrast:function(e){return e=O(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(e,t,n,i,o,a,s,l,c){var u,h,p,f,d,m,y=this.label(e,t,n,c,null,null,null,null,"button"),g=0,e={x1:0,y1:0,x2:0,y2:1},o=r({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return p=o.style,delete o.style,a=r(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),f=a.style,delete a.style,s=r(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),d=s.style,delete s.style,l=r(o,{style:{color:"#CCC"}},l),m=l.style,delete l.style,Ge(y.element,xe?"mouseover":"mouseenter",function(){3!==g&&y.attr(a).css(f)}),Ge(y.element,xe?"mouseout":"mouseleave",function(){3!==g&&(u=[o,a,s][g],h=[p,f,d][g],y.attr(u).css(h))}),y.setState=function(e){(y.state=g=e)?2===e?y.attr(s).css(d):3===e&&y.attr(l).css(m):y.attr(o).css(p)},y.on("click",function(e){3!==g&&i.call(y,e)}).attr(o).css(Je({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=ce(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=ce(e[2])+t%2/2),e},path:function(e){var t={fill:"none"};return a(e)?t.d=e:et(e)&&Je(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=et(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},arc:function(e,t,n,r,i,o){return et(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:o||0}),e.r=n,e},rect:function(e,t,n,r,i,o){var i=et(e)?e.r:i,a=this.createElement("rect"),e=et(e)?e:e===L?{}:{x:e,y:t,width:pe(n,0),height:pe(r,0)};return o!==L&&(a.strokeWidth=o,e=a.crisp(e)),i&&(e.r=i),a.rSetter=function(e,t,n){c(n,{rx:e,ry:e})},a.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;for(this.width=e,this.height=t,this.boxWrapper[nt(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({class:"highcharts-"+e}):t},image:function(e,t,n,r,i){var o={preserveAspectRatio:"none"};return arguments.length>1&&Je(o,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,i,o){var a,s,l,c=this,u=this.symbols[e],u=u&&u(ce(t),ce(n),r,i,o),h=/^url\((.*?)\)$/;return u?(a=this.path(u),Je(a,{symbolName:e,x:t,y:n,width:r,height:i}),o&&Je(a,o)):h.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(ce((r-t[0])/2),ce((i-t[1])/2)))},s=e.match(h)[1],e=Ae[s]||o&&o.width&&o.height&&[o.width,o.height],a=this.image(s).attr({x:t,y:n}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),f("img",{onload:function(){0===this.width&&(p(this,{position:"absolute",top:"-999em"}),se.body.appendChild(this)),l(a,Ae[s]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),!--c.imgCount&&Ne[c.chartIndex].onload&&Ne[c.chartIndex].onload()},src:s}),this.imgCount++)),a},symbols:{circle:function(e,t,n,r){var i=.166*n;return[Le,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[Le,e,t,Fe,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[Le,e+n/2,t,Fe,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[Le,e,t,Fe,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[Le,e+n/2,t,Fe,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var o=i.start,n=i.r||n||r,a=i.end-.001,r=i.innerR,s=i.open,l=me(o),c=ye(o),u=me(a),a=ye(a),i=i.end-o<ge?0:1;return[Le,e+n*l,t+n*c,"A",n,n,0,i,1,e+n*u,t+n*a,s?Le:Fe,e+r*u,t+r*a,"A",r,r,0,i,0,e+r*l,t+r*c,s?"":"Z"]},callout:function(e,t,n,r,i){var o,a=fe(i&&i.r||0,n,r),s=a+6,l=i&&i.anchorX,i=i&&i.anchorY;return o=["M",e+a,t,"L",e+n-a,t,"C",e+n,t,e+n,t,e+n,t+a,"L",e+n,t+r-a,"C",e+n,t+r,e+n,t+r,e+n-a,t+r,"L",e+a,t+r,"C",e,t+r,e,t+r,e,t+r-a,"L",e,t+a,"C",e,t,e,t,e+a,t],l&&l>n&&i>t+s&&i<t+r-s?o.splice(13,3,"L",e+n,i-6,e+n+6,i,e+n,i+6,e+n,t+r-a):l&&l<0&&i>t+s&&i<t+r-s?o.splice(33,3,"L",e,i+6,e-6,i,e,i-6,e,t+a):i&&i>r&&l>e+s&&l<e+n-s?o.splice(23,3,"L",l+6,t+r,l,t+r+6,l-6,t+r,e+a,t+r):i&&i<0&&l>e+s&&l<e+n-s&&o.splice(3,3,"L",l-6,t,l,t-6,l+6,t,n-a,t),o}},clipRect:function(e,t,n,r){var i="highcharts-"+Me++,o=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(o);return e.id=i,e.clipPath=o,e.count=0,e},text:function(e,t,n,r){var i=Oe||!Ee&&this.forExport,o={};return!r||!this.allowHTML&&this.forExport?(o.x=Math.round(t||0),n&&(o.y=Math.round(n)),(e||0===e)&&(o.text=e),e=this.createElement("text").attr(o),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r,i,o=n.getElementsByTagName("tspan"),a=n.getAttribute(t);for(i=0;i<o.length;i++)r=o[i],r.getAttribute(t)===a&&r.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},fontMetrics:function(t,n){var r,o,t=t||this.style.fontSize;return!t&&n&&e.getComputedStyle&&(n=n.element||n,t=(r=e.getComputedStyle(n,""))&&r.fontSize),t=/px/.test(t)?i(t):/em/.test(t)?12*parseFloat(t):12,r=t<24?t+3:ce(1.2*t),o=ce(.8*r),{h:r,b:o,f:t}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=pe(r*me(t*be),4)),{x:-e/3*ye(t*be),y:r}},label:function(e,t,n,i,o,a,s,c,u){var h,p,f,d,m,y,g,b,v,w,x,k=this,_=k.g(u),T=k.text("",0,0,s).attr({zIndex:1}),S=0,P=3,E=0,C=0,O={};v=function(){var e,t;e=T.element.style,p=(void 0===f||void 0===d||_.styles.textAlign)&&l(T.textStr)&&T.getBBox(),_.width=(f||p.width||0)+2*P+E,_.height=(d||p.height||0)+2*P,g=P+k.fontMetrics(e&&e.fontSize,T).b,b&&(h||(e=C,t=(c?-g:0)+C,_.box=h=k.symbols[i]?k.symbol(i,e,t,_.width,_.height,O):k.rect(e,t,_.width,_.height,0,O["stroke-width"]),h.isImg||h.attr("fill","none"),h.add(_)),h.isImg||h.attr(Je({width:ce(_.width),height:ce(_.height)},O)),O=null)},w=function(){var e,t=_.styles,t=t&&t.textAlign,n=E+P;e=c?0:g,l(f)&&p&&("center"===t||"right"===t)&&(n+={center:.5,right:1}[t]*(f-p.width)),n===T.x&&e===T.y||(T.attr("x",n),e!==L&&T.attr("y",e)),T.x=n,T.y=e},x=function(e,t){h?h.attr(e,t):O[e]=t},_.onAdd=function(){T.add(_),_.attr({text:e||0===e?e:"",x:t,y:n}),h&&l(o)&&_.attr({anchorX:o,anchorY:a})},_.widthSetter=function(e){f=e},_.heightSetter=function(e){d=e},_.paddingSetter=function(e){l(e)&&e!==P&&(P=_.padding=e,w())},_.paddingLeftSetter=function(e){l(e)&&e!==E&&(E=e,w())},_.alignSetter=function(e){(e={left:0,center:.5,right:1}[e])!==S&&(S=e,p&&_.attr({x:m}))},_.textSetter=function(e){e!==L&&T.textSetter(e),v(),w()},_["stroke-widthSetter"]=function(e,t){e&&(b=!0),C=e%2/2,x(t,e)},_.strokeSetter=_.fillSetter=_.rSetter=function(e,t){"fill"===t&&e&&(b=!0),x(t,e)},_.anchorXSetter=function(e,t){o=e,x(t,ce(e)-C-m)},_.anchorYSetter=function(e,t){a=e,x(t,e-y)},_.xSetter=function(e){_.x=e,S&&(e-=S*((f||p.width)+2*P)),m=ce(e),_.attr("translateX",m)},_.ySetter=function(e){y=_.y=ce(e),_.attr("translateY",y)};var M=_.css;return Je(_,{css:function(e){if(e){var t={},e=r(e);He(_.textProps,function(n){e[n]!==L&&(t[n]=e[n],delete e[n])}),T.css(t)}return M.call(_,e)},getBBox:function(){return{width:p.width+2*P,height:p.height+2*P,x:p.x-P,y:p.y-P}},shadow:function(e){return h&&h.shadow(e),_},destroy:function(){Ue(_.element,"mouseenter"),Ue(_.element,"mouseleave"),T&&(T=T.destroy()),h&&(h=h.destroy()),A.prototype.destroy.call(_),_=k=v=w=x=null}})}},F=at,Je(A.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Je(this.styles,e),p(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,r=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",c={left:0,center:.5,right:1}[s],u=this.shadows,h=this.styles;if(p(t,{marginLeft:n,marginTop:r}),u&&He(u,function(e){p(e,{marginLeft:n+1,marginTop:r+1})}),this.inverted&&He(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var u=this.rotation,f=i(this.textWidth),d=h&&h.whiteSpace,m=[u,s,t.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(h=e.fontMetrics(t.style.fontSize).b,l(u)&&this.setSpanRotation(u,c,h),p(t,{width:"",whiteSpace:d||"nowrap"}),t.offsetWidth>f&&/[ \-]/.test(t.textContent||t.innerText)&&p(t,{width:f+"px",display:"block",whiteSpace:d||"normal"}),this.getSpanCorrection(t.offsetWidth,h,c,u,s)),p(t,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),_e&&(h=t.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=xe?"-ms-transform":_e?"-webkit-transform":Te?"MozTransform":we?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(Te?"Origin":"-origin")]=r.transformOrigin=100*t+"% "+n+"px",p(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Je(at.prototype,{html:function(e,t,n){var r=this.createElement("span"),i=r.element,o=r.renderer,a=o.isSVG,s=function(e,t){He(["opacity","visibility"],function(n){rt(e,n+"Setter",function(e,n,r,i){e.call(this,n,r,i),t[r]=n})})};return r.textSetter=function(e){e!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=e,r.htmlUpdateTransform()},a&&s(r,r.element.style),r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:ce(t),y:ce(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.style.whiteSpace="nowrap",r.css=r.htmlCss,a&&(r.add=function(e){var t,n=o.box.parentNode,a=[];if(this.parentGroup=e){if(!(t=e.div)){for(;e;)a.push(e),e=e.parentGroup;He(a.reverse(),function(e){var r,i=c(e.element,"class");i&&(i={className:i}),t=e.div=e.div||f(je,i,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",opacity:e.opacity},t||n),r=t.style,Je(e,{translateXSetter:function(t,n){r.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+"px",e[n]=t,e.doTransform=!0}}),s(e,r)})}}else t=n;return t.appendChild(i),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var st,lt;Ee||Oe||(lt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===je;("shape"===t||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=f(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,i=e&&e.inverted,r=e?e.element||e:r;return e&&(this.parentGroup=e),i&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=me(e*be),n=ye(e*be);p(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(e,t,n,r,i){var o,a=r?me(r*be):1,s=r?ye(r*be):0,l=nt(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-e,this.yCorr=s<0&&-l,o=a*s<0,this.xCorr+=s*t*(o?1-n:n),this.yCorr-=a*t*(r?o?n:1-n:1),i&&"left"!==i&&(this.xCorr-=e*n*(a<0?-1:1),r&&(this.yCorr-=l*n*(s<0?-1:1)),p(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)tt(e[t])?n[t]=ce(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n=this;return e?(t=e.members,s(t,n),t.push(n),n.destroyClip=function(){s(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:ke?"inherit":"rect(auto)"}),n.css(e)},css:A.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&T(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(t,n){return this.element["on"+t]=function(){var t=e.event;t.target=t.srcElement,n(t)},this},cutOffPath:function(e,t){var n,e=e.split(/[ ,]/);return n=e.length,9!==n&&11!==n||(e[n-4]=e[n-2]=i(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var r,o,a,s,l,c,u,h=[],p=this.element,d=this.renderer,m=p.style,y=p.path;if(y&&"string"!=typeof y.value&&(y="x"),l=y,e){for(c=nt(e.width,3),u=(e.opacity||.15)/c,r=1;r<=3;r++)s=2*c+1-2*r,n&&(l=this.cutOffPath(y.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',p.style.cssText,'" />'],o=f(d.prepVML(a),null,{left:i(m.left)+nt(e.offsetX,1),top:i(m.top)+nt(e.offsetY,1)}),n&&(o.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',u*r,'"/>'],f(d.prepVML(a),null,null,o),t?t.element.appendChild(o):p.parentNode.insertBefore(o,p),h.push(o);this.shadows=h}return this},updateShadows:De,setAttr:function(e,t){ke?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||f(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;"SPAN"===r?n.style.color=e:"IMG"!==r&&(n.filled="none"!==e,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},"fill-opacitySetter":function(e,t,n){f(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',e,'"/>']),null,null,n)},opacitySetter:De,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-ce(ye(e*be)+1)+"px",n.top=ce(me(e*be))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t,this))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,tt(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){"inherit"===e&&(e="visible"),this.shadows&&He(this.shadows,function(n){n.style[t]=e}),"DIV"===n.nodeName&&(e="hidden"===e?"-999em":0,ke||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},lt["stroke-opacitySetter"]=lt["fill-opacitySetter"],ae.VMLElement=lt=d(A,lt),lt.prototype.ySetter=lt.prototype.widthSetter=lt.prototype.heightSetter=lt.prototype.xSetter,lt={Element:lt,isIE8:ve.indexOf("MSIE 8.0")>-1,init:function(e,t,n,r){var i;if(this.alignedObjects=[],r=this.createElement(je).css(Je(this.getStyle(r),{position:"relative"})),i=r.element,e.appendChild(r.element),this.isVML=!0,this.box=i,this.boxWrapper=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),!se.namespaces.hcv){se.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{se.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){se.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var i=this.createElement(),o=et(e);return Je(i,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,r=this.top-("shape"===n?t.offsetTop:0),i=this.left,t=i+this.width,o=r+this.height,r={clip:"rect("+ce(e?i:r)+"px,"+ce(e?o:t)+"px,"+ce(e?t:o)+"px,"+ce(e?r:i)+"px)"};return!e&&ke&&"DIV"===n&&Je(r,{width:t+"px",height:o+"px"}),r},updateClipping:function(){He(i.members,function(e){e.element&&e.css(i.getCSS(e))})}})},color:function(e,t,n,r){var i,o,a,s=this,l=/^rgba/,c="none";if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var u,h,p,d,m,y,g,b,v=e.linearGradient||e.radialGradient,w="",e=e.stops,x=[],k=function(){o=['<fill colors="'+x.join(",")+'" opacity="',m,'" o:opacity2="',d,'" type="',a,'" ',w,'focus="100%" method="any" />'],f(s.prepVML(o),null,null,t)};if(p=e[0],b=e[e.length-1],p[0]>0&&e.unshift([0,p[1]]),b[0]<1&&e.push([1,b[1]]),He(e,function(e,t){l.test(e[1])?(i=O(e[1]),u=i.get("rgb"),h=i.get("a")):(u=e[1],h=1),x.push(100*e[0]+"% "+u),t?(m=h,y=u):(d=h,g=u)}),"fill"===n)if("gradient"===a)n=v.x1||v[0]||0,e=v.y1||v[1]||0,p=v.x2||v[2]||0,v=v.y2||v[3]||0,w='angle="'+(90-180*le.atan((v-e)/(p-n))/ge)+'"',k();else{var _,c=v.r,T=2*c,S=2*c,P=v.cx,E=v.cy,C=t.radialReference,c=function(){C&&(_=r.getBBox(),P+=(C[0]-_.x)/_.width-.5,E+=(C[1]-_.y)/_.height-.5,T*=C[2]/_.width,S*=C[2]/_.height),w='src="'+z.global.VMLRadialGradientURL+'" size="'+T+","+S+'" origin="0.5,0.5" position="'+P+","+E+'" color2="'+g+'" ',k()};r.added?c():r.onAdd=c,c=y}else c=u}else l.test(e)&&"IMG"!==t.tagName?(i=O(e),r[n+"-opacitySetter"](i.get("a"),n,t),c=i.get("rgb")):(c=t.getElementsByTagName(n),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:at.prototype.html,path:function(e){var t={coordsize:"10 10"};return a(e)?t.d=e:et(e)&&Je(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return et(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,class:"highcharts-"+e}),this.createElement(je).attr(t)},image:function(e,t,n,r,i){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:n,width:r,height:i}),o},createElement:function(e){return"rect"===e?this.symbol(e):at.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,o="IMG"===e.tagName&&e.style;p(e,{flip:"x",left:i(r.width)-(o?i(o.top):1),top:i(r.height)-(o?i(o.left):1),rotation:-90}),He(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var o=i.start,a=i.end,s=i.r||n||r,n=i.innerR,r=me(o),l=ye(o),c=me(a),u=ye(a);return a-o==0?["x"]:(o=["wa",e-s,t-s,e+s,t+s,e+s*r,t+s*l,e+s*c,t+s*u],i.open&&!n&&o.push("e",Le,e,t),o.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*u,e+n*r,t+n*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return at.prototype.symbols[l(i)&&i.r?"callout":"square"].call(0,e,t,n,r,i)}}},ae.VMLRenderer=st=function(){this.init.apply(this,arguments)},st.prototype=r(at.prototype,lt),F=st),at.prototype.measureSpanWidth=function(e,t){var n,r=se.createElement("span");return n=se.createTextNode(e),r.appendChild(n),p(r,t),this.box.appendChild(r),n=r.offsetWidth,T(r),n};var ct;Oe&&(ae.CanVGRenderer=lt=function(){Pe="http://www.w3.org/1999/xhtml"},lt.prototype.symbols={},ct=function(){function e(){var e,n=t.length;for(e=0;e<n;e++)t[e]();t=[]}var t=[];return{push:function(n,r){if(0===t.length){var i=se.getElementsByTagName("head")[0],o=se.createElement("script");o.type="text/javascript",o.src=r,o.onload=e,i.appendChild(o)}t.push(n)}}}(),F=lt),M.prototype={addLabel:function(){var e,t=this.axis,n=t.options,i=t.chart,o=t.categories,a=t.names,s=this.pos,c=n.labels,u=t.tickPositions,h=s===u[0],p=s===u[u.length-1],a=o?nt(o[s],a[s],s):s,o=this.label,u=u.info;t.isDatetimeAxis&&u&&(e=n.dateTimeLabelFormats[u.higherRanks[s]||u.unitName]),this.isFirst=h,this.isLast=p,n=t.labelFormatter.call({axis:t,chart:i,isFirst:h,isLast:p,dateTimeLabelFormat:e,value:t.isLog?S(t.lin2log(a)):a}),l(o)?o&&o.attr({text:n}):(this.labelLength=(this.label=o=l(n)&&c.enabled?i.renderer.text(n,0,0,c.useHTML).css(r(c.style)).add(t.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,r=e.x,i=n.chart.chartWidth,o=n.chart.spacing,a=nt(n.labelLeft,fe(n.pos,o[3])),o=nt(n.labelRight,pe(n.pos+n.len,i-o[1])),s=this.label,l=this.rotation,c={left:0,center:.5,right:1}[n.labelAlign],u=s.getBBox().width,h=n.getSlotWidth(),p=h,f=1,d={};l?l<0&&r-c*u<a?t=ce(r/me(l*be)-a):l>0&&r+c*u>o&&(t=ce((i-r)/me(l*be))):(i=r+(1-c)*u,r-c*u<a?p=e.x+p*(1-c)-a:i>o&&(p=o-e.x+p*c,f=-1),p=fe(h,p),p<h&&"center"===n.labelAlign&&(e.x+=f*(h-p-c*(h-fe(u,p)))),(u>p||n.autoRotation&&s.styles.width)&&(t=p)),t&&(d.width=t,n.options.labels.style.textOverflow||(d.textOverflow="ellipsis"),s.css(d))},getPosition:function(e,t,n,r){var i=this.axis,o=i.chart,a=r&&o.oldChartHeight||o.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&o.oldChartWidth||o.chartWidth)-i.right-i.left:0),y:e?a-i.bottom+i.offset-(i.opposite?i.height:0):a-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,o,a,s){var c=this.axis,u=c.transA,h=c.reversed,p=c.staggerLines,f=c.tickRotCorr||{x:0,y:0},d=i.y;return l(d)||(d=0===c.side?n.rotation?-8:-n.getBBox().height:2===c.side?f.y+8:me(n.rotation*be)*(f.y-n.getBBox(!1,0).height/2)),e=e+i.x+f.x-(o&&r?o*u*(h?-1:1):0),t=t+d-(o&&!r?o*u*(h?1:-1):0),p&&(n=a/(s||1)%p,c.opposite&&(n=p-n-1),t+=n*(c.labelOffset/p)),{x:e,y:ce(t)}},getMarkPath:function(e,t,n,r,i,o){return o.crispLine([Le,e,t,Fe,e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,o=r.chart.renderer,a=r.horiz,s=this.type,l=this.label,c=this.pos,u=i.labels,h=this.gridLine,p=s?s+"Grid":"grid",f=s?s+"Tick":"tick",d=i[p+"LineWidth"],m=i[p+"LineColor"],y=i[p+"LineDashStyle"],p=r.tickSize(f),f=i[f+"Color"],g=this.mark,b=u.step,v=!0,w=r.tickmarkOffset,x=this.getPosition(a,c,w,t),k=x.x,x=x.y,_=a&&k===r.pos+r.len||!a&&x===r.pos?-1:1,n=nt(n,1);this.isActive=!0,d&&(c=r.getPlotLinePath(c+w,d*_,t,!0),h===L&&(h={stroke:m,"stroke-width":d},y&&(h.dashstyle=y),s||(h.zIndex=1),t&&(h.opacity=0),this.gridLine=h=d?o.path(c).attr(h).add(r.gridGroup):null),!t&&h&&c&&h[this.isNew?"attr":"animate"]({d:c,opacity:n})),p&&(r.opposite&&(p[0]=-p[0]),s=this.getMarkPath(k,x,p[0],p[1]*_,a,o),g?g.animate({d:s,opacity:n}):this.mark=o.path(s).attr({stroke:f,"stroke-width":p[1],opacity:n}).add(r.axisGroup)),l&&tt(k)&&(l.xy=x=this.getLabelPosition(k,x,l,a,u,w,e,b),this.isFirst&&!this.isLast&&!nt(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!nt(i.showLastLabel,1)?v=!1:a&&!r.isRadial&&!u.step&&!u.rotation&&!t&&0!==n&&this.handleOverflow(x),b&&e%b&&(v=!1),v&&tt(x.y)?(x.opacity=n,l[this.isNew?"attr":"animate"](x)):($e(l),l.attr("y",-9999)),this.isNew=!1)},destroy:function(){_(this,this.axis)}},ae.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},ae.PlotLineOrBand.prototype={render:function(){var e,t=this,n=t.axis,i=n.horiz,o=t.options,a=o.label,s=t.label,c=o.width,u=o.to,h=o.from,p=l(h)&&l(u),f=o.value,d=o.dashStyle,m=t.svgElem,y=[],g=o.color,b=nt(o.zIndex,0),v=o.events,w={},x=n.chart.renderer,y=n.log2lin;if(n.isLog&&(h=y(h),u=y(u),f=y(f)),c)y=n.getPlotLinePath(f,c),w={stroke:g,"stroke-width":c},d&&(w.dashstyle=d);else{if(!p)return;y=n.getPlotBandPath(h,u,o),g&&(w.fill=g),o.borderWidth&&(w.stroke=o.borderColor,w["stroke-width"]=o.borderWidth)}if(w.zIndex=b,m)y?(m.show(),m.animate({d:y})):(m.hide(),s&&(t.label=s=s.destroy()));else if(y&&y.length&&(t.svgElem=m=x.path(y).attr(w).add(),v))for(e in o=function(e){m.on(e,function(n){v[e].apply(t,[n])})},v)o(e);return a&&l(a.text)&&y&&y.length&&n.width>0&&n.height>0&&!y.flat?(a=r({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},a),this.renderLabel(a,y,p,b)):s&&s.hide(),t},renderLabel:function(e,t,n,r){var i=this.label,o=this.axis.chart.renderer;i||(i={align:e.textAlign||e.align,rotation:e.rotation},i.zIndex=r,this.label=i=o.text(e.text,0,0,e.useHTML).attr(i).css(e.style).add()),r=[t[1],t[4],n?t[6]:t[1]],t=[t[2],t[5],n?t[7]:t[2]],n=x(r),o=x(t),i.align(e,!1,{x:n,y:o,width:k(r)-n,height:k(t)-o}),i.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,_(this)}};var ut=ae.Axis=function(){this.init.apply(this,arguments)};ut.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ae.numberFormat(this.total,-1)},style:r(it.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=r.reversed,this.visible=!1!==r.visible,this.zoomEnabled=!1!==r.zoomEnabled,this.categories=r.categories||"category"===i,this.names=this.names||[],this.isLog="logarithmic"===i,this.isDatetimeAxis="datetime"===i,this.isLinked=l(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=nt(r.crosshair,u(e.options.tooltip.crosshairs)[n?0:1],!1);var o,r=this.options.events;-1===qe(this,e.axes)&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===L&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in r)Ge(this,o,r[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(e){this.options=r(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],r(z[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,o=z.lang.numericSymbols,a=o&&o.length,s=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(s)e=g(s,this);else if(r)e=n;else if(i)e=W(i,n);else if(a&&t>=1e3)for(;a--&&e===L;)r=Math.pow(1e3,a+1),t>=r&&10*n%r==0&&null!==o[a]&&0!==n&&(e=ae.numberFormat(n/r,-1)+o[a]);return e===L&&(e=de(n)>=1e4?ae.numberFormat(n,-1):ae.numberFormat(n,-1,L,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),He(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r,i=n.options,o=i.threshold;e.hasVisibleSeries=!0,e.isLog&&o<=0&&(o=null),e.isXAxis?(i=n.xData,i.length&&(n=x(i),!tt(n)&&!(n instanceof H)&&(i=Ye(i,function(e){return tt(e)}),n=x(i)),e.dataMin=fe(nt(e.dataMin,i[0]),n),e.dataMax=pe(nt(e.dataMax,i[0]),k(i)))):(n.getExtremes(),r=n.dataMax,n=n.dataMin,l(n)&&l(r)&&(e.dataMin=fe(nt(e.dataMin,n),n),e.dataMax=pe(nt(e.dataMax,r),r)),l(o)&&(e.threshold=o),i.softThreshold&&!e.isLog||(e.softThreshold=!1))}})},translate:function(e,t,n,r,i,o){var a=this.linkedParent||this,s=1,l=0,c=r?a.oldTransA:a.transA,r=r?a.oldMin:a.min,u=a.minPixelPadding,i=(a.isOrdinal||a.isBroken||a.isLog&&i)&&a.lin2val;return c||(c=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(s*=-1,l-=s*(a.sector||a.len)),t?(e=e*s+l,e-=u,e=e/c+r,i&&(e=a.lin2val(e))):(i&&(e=a.val2lin(e)),"between"===o&&(o=.5),e=s*(e-r)*c+l+s*u+(tt(o)?c*o*a.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var o,a,s,l=this.chart,c=this.left,u=this.top,h=n&&l.oldChartHeight||l.chartHeight,p=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(e,t,n){return(e<t||e>n)&&(r?e=fe(pe(t,e),n):s=!0),e},i=nt(i,this.translate(e,null,null,n)),e=n=ce(i+o);return o=a=ce(h-i-o),tt(i)?this.horiz?(o=u,a=h-this.bottom,e=n=f(e,c,c+this.width)):(e=c,n=p-this.right,o=a=f(o,u,u+this.height)):s=!0,s&&!r?null:l.renderer.crispLine([Le,e,o,Fe,n,a],t||1)},getLinearTickPositions:function(e,t,n){var r,i=S(ue(t/e)*e),o=S(he(n/e)*e),a=[];if(t===n&&tt(t))return[t];for(t=i;t<=o&&(a.push(t),(t=S(t+e))!==r);)r=t;return a},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,r=this.minorTickInterval,i=[],o=this.pointRangePadding||0;e=this.min-o;var o=this.max+o,a=o-e;if(a&&a/r<this.len/3)if(this.isLog)for(o=n.length,e=1;e<o;e++)i=i.concat(this.getLogTickPositions(r,n[e-1],n[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(r),e,o,t.startOfWeek));else for(n=e+(n[0]-e)%r;n<=o;n+=r)i.push(n);return 0!==i.length&&this.trimTicks(i,t.startOnTick,t.endOnTick),i},adjustForMinRange:function(){var e,t,n,r,i,o,a,s=this.options,c=this.min,u=this.max,h=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===L&&!this.isLog&&(l(s.min)||l(s.max)?this.minRange=null:(He(this.series,function(e){for(i=e.xData,n=o=e.xIncrement?1:i.length-1;n>0;n--)r=i[n]-i[n-1],(t===L||r<t)&&(t=r)}),this.minRange=fe(5*t,this.dataMax-this.dataMin))),u-c<this.minRange&&(a=this.minRange,e=(a-u+c)/2,e=[c-e,nt(s.min,c-e)],h&&(e[2]=this.dataMin),c=k(e),u=[c+a,nt(s.max,c+a)],h&&(u[2]=this.dataMax),(u=x(u))-c<a&&(e[0]=u-a,e[1]=nt(s.min,u-a),c=k(e))),this.min=c,this.max=u},getClosest:function(){var e;return this.categories?e=1:He(this.series,function(t){var n=t.closestPointRange;!t.noSharedTooltip&&l(n)&&(e=l(e)?fe(e,n):n)}),e},setAxisTranslation:function(e){var t,n=this,r=n.max-n.min,i=n.axisPointRange||0,a=0,s=0,l=n.linkedParent,c=!!n.categories,u=n.transA,h=n.isXAxis;(h||c||i)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):(t=n.getClosest(),He(n.series,function(e){var r=c?1:h?nt(e.options.pointRange,t,0):n.axisPointRange||0,e=e.options.pointPlacement;i=pe(i,r),n.single||(a=pe(a,o(e)?0:r/2),s=pe(s,"on"===e?0:r))})),l=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=a*=l,n.pointRangePadding=s*=l,n.pointRange=fe(i,r),h&&(n.closestPointRange=t)),e&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(r+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,r,i,o,a=this,s=a.chart,c=a.options,u=a.isLog,h=a.log2lin,p=a.isDatetimeAxis,f=a.isXAxis,d=a.isLinked,m=c.maxPadding,y=c.minPadding,g=c.tickInterval,w=c.tickPixelInterval,x=a.categories,k=a.threshold,_=a.softThreshold;!p&&!x&&!d&&this.getTickAmount(),i=nt(a.userMin,c.min),o=nt(a.userMax,c.max),d?(a.linkedParent=s[a.coll][c.linkedTo],s=a.linkedParent.getExtremes(),a.min=nt(s.min,s.dataMin),a.max=nt(s.max,s.dataMax),c.type!==a.linkedParent.options.type&&t(11,1)):(!_&&l(k)&&(a.dataMin>=k?(n=k,y=0):a.dataMax<=k&&(r=k,m=0)),a.min=nt(i,n,a.dataMin),a.max=nt(o,r,a.dataMax)),u&&(!e&&fe(a.min,nt(a.dataMin,a.min))<=0&&t(10,1),a.min=S(h(a.min),15),a.max=S(h(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=i=pe(a.min,a.minFromRange()),a.userMax=o=a.max,a.range=null),Ke(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),x||a.axisPointRange||a.usePercentage||d||!l(a.min)||!l(a.max)||!(h=a.max-a.min)||(!l(i)&&y&&(a.min-=h*y),!l(o)&&m&&(a.max+=h*m)),tt(c.floor)&&(a.min=pe(a.min,c.floor)),tt(c.ceiling)&&(a.max=fe(a.max,c.ceiling)),_&&l(a.dataMin)&&(k=k||0,!l(i)&&a.min<k&&a.dataMin>=k?a.min=k:!l(o)&&a.max>k&&a.dataMax<=k&&(a.max=k)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:d&&!g&&w===a.linkedParent.options.tickPixelInterval?g=a.linkedParent.tickInterval:nt(g,this.tickAmount?(a.max-a.min)/pe(this.tickAmount-1,1):void 0,x?1:(a.max-a.min)*w/pe(a.len,w)),f&&!e&&He(a.series,function(e){e.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!g&&(a.tickInterval=pe(a.pointRange,a.tickInterval)),e=nt(c.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!g&&a.tickInterval<e&&(a.tickInterval=e),p||u||g||(a.tickInterval=v(a.tickInterval,null,b(a.tickInterval),nt(c.allowDecimals,!(a.tickInterval>.5&&a.tickInterval<5&&a.max>1e3&&a.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,n=this.options,r=n.tickPositions,i=n.tickPositioner,o=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=e=r&&r.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=e=i),this.isLinked||(this.trimTicks(e,o,a),this.min===this.max&&l(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!r&&!i&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],o=this.minPointOffset||0;if(t)this.min=r;else for(;this.min-o>e[0];)e.shift();if(n)this.max=i;else for(;this.max+o<e[e.length-1];)e.pop();0===e.length&&l(r)&&e.push((i+r)/2)},alignToOthers:function(){var e,t={},n=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==n.alignTicks&&He(this.chart[this.coll],function(n){var r=n.options,r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join(",");n.series.length&&(t[r]?e=!0:t[r]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!l(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=he(this.len/n)+1),t<4&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,r=this.finalTickAmt,i=t&&t.length;if(i<n){for(;t.length<n;)t.push(S(t[t.length-1]+e));this.transA*=(i-1)/(n-1),this.max=t[t.length-1]}else i>n&&(this.tickInterval*=2,this.setTickPositions());if(l(r)){for(e=n=t.length;e--;)(3===r&&e%2==1||r<=2&&e>0&&e<n-1)&&t.splice(e,1);this.finalTickAmt=L}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,He(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,r,i){var o=this,a=o.chart,n=nt(n,!0);He(o.series,function(e){delete e.kdTree}),i=Je(i,{min:e,max:t}),Ke(o,"setExtremes",i,function(){o.userMin=e,o.userMax=t,o.eventArgs=i,n&&a.redraw(r)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options,o=fe(n,nt(i.min,n)),i=pe(r,nt(i.max,r));return this.allowZoomOutside||(l(n)&&e<=o&&(e=o),l(r)&&t>=i&&(t=i)),this.displayBtn=e!==L||t!==L,this.setExtremes(e,t,!1,L,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=nt(t.width,e.plotWidth-n+(t.offsetRight||0)),o=nt(t.height,e.plotHeight),a=nt(t.top,e.plotTop),t=nt(t.left,e.plotLeft+n),n=/%$/;n.test(o)&&(o=Math.round(parseFloat(o)/100*e.plotHeight)),n.test(a)&&(a=Math.round(parseFloat(a)/100*e.plotHeight+e.plotTop)),this.left=t,this.top=a,this.width=i,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-i-t,this.len=pe(r?i:o,0),this.pos=r?t:a},getExtremes:function(){var e=this.isLog,t=this.lin2log;return{min:e?S(t(this.min)):this.min,max:e?S(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=this.lin2log,r=t?n(this.min):this.min,t=t?n(this.max):this.max;return null===e?e=r:r>e?e=r:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(nt(e,0)-90*this.side+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},tickSize:function(e){var t=this.options,n=t[e+"Length"],r=nt(t[e+"Width"],"tick"===e&&this.isXAxis?1:0);if(r&&n)return"inside"===t[e+"Position"]&&(n=-n),[n,r]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var e,t,n,r=this.options.labels,i=this.horiz,o=this.tickInterval,a=o,s=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=r.rotation,u=this.labelMetrics(),h=Number.MAX_VALUE,p=function(e){return e/=s||1,(e=e>1?he(e):1)*o};return i?(n=!r.staggerLines&&!r.step&&(l(c)?[c]:s<nt(r.autoRotationLimit,80)&&r.autoRotation))&&He(n,function(n){var r;(n===c||n&&n>=-90&&n<=90)&&(t=p(de(u.h/ye(be*n))),(r=t+de(n/360))<h&&(h=r,e=n,a=t))}):r.step||(a=p(u.h)),this.autoRotation=n,this.labelRotation=nt(e,c),a},getSlotWidth:function(){var e=this.chart,t=this.horiz,n=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),i=e.margin[3];return t&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*e.plotWidth/r||!t&&(i&&i-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var e,t,n,i=this.chart,a=i.renderer,s=this.tickPositions,l=this.ticks,c=this.options.labels,u=this.horiz,h=this.getSlotWidth(),p=pe(1,ce(h-2*(c.padding||5))),f={},d=this.labelMetrics(),m=c.style.textOverflow,y=0;if(o(c.rotation)||(f.rotation=c.rotation||0),this.autoRotation)He(s,function(e){(e=l[e])&&e.labelLength>y&&(y=e.labelLength)}),y>p&&y>d.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(e={width:p+"px"},!m))for(e.textOverflow="clip",t=s.length;!u&&t--;)n=s[t],(p=l[n].label)&&("ellipsis"===p.styles.textOverflow?p.css({textOverflow:"clip"}):l[n].labelLength>h&&p.css({width:h+"px"}),p.getBBox().height>this.len/s.length-(d.h-d.f)&&(p.specCss={textOverflow:"ellipsis"}));f.rotation&&(e={width:(y>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},!m)&&(e.textOverflow="ellipsis"),(this.labelAlign=c.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),He(s,function(t){var n=(t=l[t])&&t.label;n&&(n.attr(f),e&&n.css(r(e,n.specCss)),delete n.specCss,t.rotation=f.rotation)}),this.tickRotCorr=a.rotCorr(d.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,n,r,i=this,o=i.chart,a=o.renderer,s=i.options,c=i.tickPositions,u=i.ticks,h=i.horiz,p=i.side,f=o.inverted?[1,0,3,2][p]:p,d=0,m=0,y=s.title,g=s.labels,b=0,v=i.opposite,w=o.axisOffset,o=o.clipOffset,x=[-1,1,1,-1][p],k=i.axisParent,_=this.tickSize("tick");if(e=i.hasData(),i.showAxis=t=e||nt(s.showEmpty,!0),i.staggerLines=i.horiz&&g.staggerLines,i.axisGroup||(i.gridGroup=a.g("grid").attr({zIndex:s.gridZIndex||1}).add(k),i.axisGroup=a.g("axis").attr({zIndex:s.zIndex||2}).add(k),i.labelGroup=a.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels").add(k)),e||i.isLinked)He(c,function(e){u[e]?u[e].addLabel():u[e]=new M(i,e)}),i.renderUnsquish(),!1!==g.reserveSpace&&(0===p||2===p||{1:"left",3:"right"}[p]===i.labelAlign||"center"===i.labelAlign)&&He(c,function(e){b=pe(u[e].getLabelSize(),b)}),i.staggerLines&&(b*=i.staggerLines,i.labelOffset=b*(i.opposite?-1:1));else for(r in u)u[r].destroy(),delete u[r];y&&y.text&&!1!==y.enabled&&(i.axisTitle||((r=y.textAlign)||(r=(h?{low:"left",middle:"center",high:"right"}:{low:v?"right":"left",middle:"center",high:v?"left":"right"})[y.align]),i.axisTitle=a.text(y.text,0,0,y.useHTML).attr({zIndex:7,rotation:y.rotation||0,align:r}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(y.style).add(i.axisGroup),i.axisTitle.isNew=!0),t&&(d=i.axisTitle.getBBox()[h?"height":"width"],n=y.offset,m=l(n)?0:nt(y.margin,h?5:10)),i.axisTitle[t?"show":"hide"](!0)),i.offset=x*nt(s.offset,w[p]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},a=0===p?-i.labelMetrics().h:2===p?i.tickRotCorr.y:0,m=Math.abs(b)+m,b&&(m-=a,m+=x*(h?nt(g.y,i.tickRotCorr.y+8*x):g.x)),i.axisTitleMargin=nt(n,m),w[p]=pe(w[p],i.axisTitleMargin+d+x*i.offset,m,e&&c.length&&_?_[0]:0),s=s.offset?0:2*ue(s.lineWidth/2),o[f]=pe(o[f],s)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,o=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine([Le,i?this.left:o,i?r:this.top,Fe,i?t.chartWidth-this.right:o,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,o=e?t:n,a=this.opposite,s=this.offset,l=i.x||0,c=i.y||0,u=this.chart.renderer.fontMetrics(i.style.fontSize).f,r={low:o+(e?0:r),middle:o+r/2,high:o+(e?r:0)}[i.align],t=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:e?r+l:t+(a?this.width:0)+s+l,y:e?t+c-(a?this.height:0)+s:r+c}},render:function(){var e,t,n,r=this,i=r.chart,o=i.renderer,a=r.options,s=r.isLog,l=r.lin2log,c=r.isLinked,u=r.tickPositions,p=r.axisTitle,f=r.ticks,d=r.minorTicks,m=r.alternateBands,y=a.stackLabels,g=a.alternateGridColor,b=r.tickmarkOffset,v=a.lineWidth,w=i.hasRendered&&tt(r.oldMin),x=r.showAxis,k=E(o.globalAnimation);r.labelEdge.length=0,r.overlap=!1,He([f,d,m],function(e){for(var t in e)e[t].isActive=!1}),(r.hasData()||c)&&(r.minorTickInterval&&!r.categories&&He(r.getMinorTickPositions(),function(e){d[e]||(d[e]=new M(r,e,"minor")),w&&d[e].isNew&&d[e].render(null,!0),d[e].render(null,!1,1)}),u.length&&(He(u,function(e,t){(!c||e>=r.min&&e<=r.max)&&(f[e]||(f[e]=new M(r,e)),w&&f[e].isNew&&f[e].render(t,!0,.1),f[e].render(t))}),b&&(0===r.min||r.single))&&(f[-1]||(f[-1]=new M(r,-1,null,!0)),f[-1].render(-1)),g&&He(u,function(e,o){n=u[o+1]!==L?u[o+1]+b:r.max-b,o%2==0&&e<r.max&&n<=r.max+(i.polar?-b:b)&&(m[e]||(m[e]=new ae.PlotLineOrBand(r)),t=e+b,m[e].options={from:s?l(t):t,to:s?l(n):n,color:g},m[e].render(),m[e].isActive=!0)}),r._addedPlotLB||(He((a.plotLines||[]).concat(a.plotBands||[]),function(e){r.addPlotBandOrLine(e)}),r._addedPlotLB=!0)),He([f,d,m],function(e){var t,n,r=[],o=k.duration;for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,r.push(t));h(function(){for(n=r.length;n--;)e[r[n]]&&!e[r[n]].isActive&&(e[r[n]].destroy(),delete e[r[n]])},e!==m&&i.hasRendered&&o?o:0)}),v&&(e=r.getLinePath(v),r.axisLine?r.axisLine.animate({d:e}):r.axisLine=o.path(e).attr({stroke:a.lineColor,"stroke-width":v,zIndex:7}).add(r.axisGroup),r.axisLine[x?"show":"hide"](!0)),p&&x&&(p[p.isNew?"attr":"animate"](r.getTitlePosition()),p.isNew=!1),y&&y.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),He(this.plotLinesAndBands,function(e){e.render()})),He(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,n=this,r=n.stacks,i=n.plotLinesAndBands;e||Ue(n);for(t in r)_(r[t]),r[t]=null;for(He([n.ticks,n.minorTicks,n.alternateBands],function(e){_(e)}),e=i.length;e--;)i[e].destroy();He("stackTotalGroup,axisLine,axisTitle,axisGroup,gridGroup,labelGroup,cross".split(","),function(e){n[e]&&(n[e]=n[e].destroy())}),this._addedPlotLB=this.chart._labelPanes=this.ordinalSlope=void 0},drawCrosshair:function(e,t){var n,r,i,o=this.crosshair;e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(l(t)||!nt(o.snap,!0))?(nt(o.snap,!0)?l(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,null===(n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:nt(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null)?this.hideCrosshair():(r=this.categories&&!this.isRadial,i=nt(o.width,r?this.transA:1),this.cross?this.cross.attr({d:n,visibility:"visible","stroke-width":i}):(r={"pointer-events":"none","stroke-width":i,stroke:o.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:nt(o.zIndex,2)},o.dashStyle&&(r.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add()),this.cross.e=e)):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Je(ut.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n?(r.flat=r.toString()===n.toString(),r.push(n[4],n[5],n[1],n[2])):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new ae.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();He([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&s(t,t[i])})}}),ut.prototype.getTimeTicks=function(e,t,n,r){var i,o=[],a={},s=z.global.useUTC,c=new H(t-y(t)),u=e.unitRange,h=e.count;if(l(t)){c[J](u>=q.second?0:h*ue(c.getMilliseconds()/h)),u>=q.second&&c[ee](u>=q.minute?0:h*ue(c.getSeconds()/h)),u>=q.minute&&c[te](u>=q.hour?0:h*ue(c[G]()/h)),u>=q.hour&&c[ne](u>=q.day?0:h*ue(c[U]()/h)),u>=q.day&&c[re](u>=q.month?1:h*ue(c[Z]()/h)),u>=q.month&&(c[ie](u>=q.year?0:h*ue(c[$]()/h)),i=c[Q]()),u>=q.year&&(i-=i%h,c[oe](i)),u===q.week&&c[re](c[Z]()-c[K]()+nt(r,1)),t=1,(X||V)&&(c=c.getTime(),c=new H(c+y(c))),i=c[Q]();for(var r=c.getTime(),p=c[$](),f=c[Z](),d=!s||!!V,m=(q.day+(s?y(c):6e4*c.getTimezoneOffset()))%q.day;r<n;)o.push(r),u===q.year?r=Y(i+t*h,0):u===q.month?r=Y(i,p+t*h):!d||u!==q.day&&u!==q.week?r+=u*h:r=Y(i,p,f+t*h*(u===q.day?1:7)),t++;o.push(r),He(Ye(o,function(e){return u<=q.hour&&e%q.day===m}),function(e){a[e]="day"})}return o.info=Je(e,{higherRanks:a,totalRange:u*h}),o},ut.prototype.normalizeTimeTickInterval=function(e,t){var n,r=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],i=r[r.length-1],o=q[i[0]],a=i[1];for(n=0;n<r.length&&(i=r[n],o=q[i[0]],a=i[1],!(r[n+1]&&e<=(o*a[a.length-1]+q[r[n+1][0]])/2));n++);return o===q.year&&e<5*o&&(a=[1,2,5]),r=v(e/o,a,"year"===i[0]?pe(b(e/o),1):1),{unitRange:o,count:r,unitName:i[0]}},ut.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,o=this.len,a=this.lin2log,s=this.log2lin,l=[];if(r||(this._minorAutoInterval=null),e>=.5)e=ce(e),l=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var c,u,h,p,f,o=ue(t),i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<n+1&&!f;o++)for(u=i.length,c=0;c<u&&!f;c++)h=s(a(o)*i[c]),h>t&&(!r||p<=n)&&p!==L&&l.push(p),p>n&&(f=!0),p=h;else t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=nt("auto"===e?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?o/this.tickPositions.length:o)||1)),e=v(e,null,b(e)),l=Ve(this.getLinearTickPositions(e,t,n),s),r||(this._minorAutoInterval=e/5);return r||(this.tickInterval=e),l},ut.prototype.log2lin=function(e){return le.log(e)/le.LN10},ut.prototype.lin2log=function(e){return le.pow(10,e)};var ht=ae.Tooltip=function(){this.init.apply(this,arguments)};ht.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,o=i(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9e9}),Oe||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,o=i.now,a=!1!==i.options.animation&&!i.isHidden&&(de(e-o.x)>1||de(t-o.y)>1),s=i.followPointer||i.len>1;Je(o,{x:a?(2*o.x+e)/3:e,y:a?(o.y+t)/2:t,anchorX:s?L:a?(2*o.anchorX+n)/3:n,anchorY:s?L:a?(o.anchorY+r)/2:r}),i.label.attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),e=nt(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=h(function(){t.label[e?"fadeOut":"hide"](),t.isHidden=!0},e))},getAnchor:function(e,t){var n,r,i,o=this.chart,a=o.inverted,s=o.plotTop,l=o.plotLeft,c=0,h=0,e=u(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===L&&(t=o.pointer.normalize(t)),n=[t.chartX-o.plotLeft,t.chartY-s]),n||(He(e,function(e){r=e.series.yAxis,i=e.series.xAxis,c+=e.plotX+(!a&&i?i.left-l:0),h+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&r?r.top-s:0)}),c/=e.length,h/=e.length,n=[a?o.plotWidth-h:c,this.shared&&!a&&e.length>1&&t?t.chartY-s:a?o.plotHeight-c:h]),Ve(n,ce)},getPosition:function(e,t,n){var r,i=this.chart,o=this.distance,a={},s=n.h||0,l=["y",i.chartHeight,t,n.plotY+i.plotTop,i.plotTop,i.plotTop+i.plotHeight],c=["x",i.chartWidth,e,n.plotX+i.plotLeft,i.plotLeft,i.plotLeft+i.plotWidth],u=!this.followPointer&&nt(n.ttBelow,!i.inverted==!!n.negative),h=function(e,t,n,r,i,l){var c=n<r-o,h=r+o+n<t,p=r-o-n;if(r+=o,u&&h)a[e]=r;else if(!u&&c)a[e]=p;else if(c)a[e]=fe(l-n,p-s<0?p:p-s);else{if(!h)return!1;a[e]=pe(i,r+s+n>t?r:r+s)}},p=function(e,t,n,r){var i;return r<o||r>t-o?i=!1:a[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2,i},f=function(e){var t=l;l=c,c=t,r=e},d=function(){!1!==h.apply(0,l)?!1===p.apply(0,c)&&!r&&(f(!0),d()):r?a.x=a.y=0:(f(!0),d())};return(i.inverted||this.len>1)&&f(),d(),a},defaultFormatter:function(e){var t,n=this.points||u(this);return t=[e.tooltipFooterHeaderFormatter(n[0])],t=t.concat(e.bodyFormatter(n)),t.push(e.tooltipFooterHeaderFormatter(n[0],!0)),t.join("")},refresh:function(e,t){var n,r,i,o,a=this.chart,s=this.label,l=this.options,c={},h=[];o=l.formatter||this.defaultFormatter;var p,c=a.hoverPoints,f=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(e)[0].series.tooltipOptions.followPointer,i=this.getAnchor(e,t),n=i[0],r=i[1],!f||e.series&&e.series.noSharedTooltip?c=e.getLabelConfig():(a.hoverPoints=e,c&&He(c,function(e){e.setState()}),He(e,function(e){e.setState("hover"),h.push(e.getLabelConfig())}),c={x:e[0].category,y:e[0].y},c.points=h,this.len=h.length,e=e[0]),o=o.call(c,this),c=e.series,this.distance=nt(c.tooltipOptions.distance,16),!1===o?this.hide():(this.isHidden&&($e(s),s.attr("opacity",1).show()),s.attr({text:o}),p=l.borderColor||e.color||c.color||"#606060",s.attr({stroke:p}),this.updatePosition({plotX:n,plotY:r,negative:e.negative,ttBelow:e.ttBelow,h:i[2]||0}),this.isHidden=!1),Ke(a,"tooltipRefresh",{text:o,x:n+a.plotLeft,y:r+a.plotTop,borderColor:p})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(ce(n.x),ce(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,i,o,t=t.dateTimeLabelFormats,a=n&&n.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(a){o=W("%m-%d %H:%M:%S.%L",e.x);for(i in q){if(a===q.week&&+W("%w",e.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){i="week";break}if(q[i]>a){i=l;break}if(s[i]&&o.substr(s[i])!=="01-01 00:00:00.000".substr(s[i]))break;"week"!==i&&(l=i)}i&&(r=t[i])}else r=t.day;return r||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,o=i.xDateFormat,a=r.xAxis,s=a&&"datetime"===a.options.type&&tt(e.key),n=i[n+"Format"];return s&&!o&&(o=this.getXDateFormat(e,i,a)),s&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),g(n,{point:e,series:r})},bodyFormatter:function(e){return Ve(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var pt;I=se&&se.documentElement.ontouchstart!==L;var ft=ae.Pointer=function(e,t){this.init(e,t)};if(ft.prototype={init:function(e,t){var n,r=t.chart,i=r.events,o=Oe?"":r.zoomType,r=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=n&&!r||o&&r,this.zoomVert=o&&!r||n&&r,this.hasZoom=n||o,this.runChartClick=i&&!!i.click,this.pinchDown=[],this.lastValidTouch={},ae.Tooltip&&t.tooltip.enabled&&(e.tooltip=new ht(e,t.tooltip),this.followTouchMove=nt(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,n){var r,i,t=t||e.event;return t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=Xe(this.chart.container)),i.pageX===L?(r=pe(t.x,t.clientX-n.left),i=t.y):(r=i.pageX-n.left,i=i.pageY-n.top),Je(t,{chartX:ce(r),chartY:ce(i)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return He(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,n,r,i,o=this.chart,a=o.series,s=o.tooltip,l=!!s&&s.shared,c=o.hoverPoint,u=o.hoverSeries,h=[Number.MAX_VALUE,Number.MAX_VALUE],p=[],f=[];if(!l&&!u)for(t=0;t<a.length;t++)!a[t].directTouch&&a[t].options.stickyTracking||(a=[]);if(u&&(l?u.noSharedTooltip:u.directTouch)&&c?f=[c]:(He(a,function(t){n=t.noSharedTooltip&&l,r=!l&&t.directTouch,t.visible&&!n&&!r&&nt(t.options.enableMouseTracking,!0)&&(i=t.searchPoint(e,!n&&1===t.kdDimensions))&&i.series&&p.push(i)}),He(p,function(e){e&&He(["dist","distX"],function(t,n){if(tt(e[t])){var r=e[t]===h[n]&&e.series.group.zIndex>=f[n].series.group.zIndex;(e[t]<h[n]||r)&&(h[n]=e[t],f[n]=e)}})})),l)for(t=p.length;t--;)(p[t].clientX!==f[1].clientX||p[t].series.noSharedTooltip)&&p.splice(t,1);f[0]&&(f[0]!==this.prevKDPoint||s&&s.isHidden)?l&&!f[0].series.noSharedTooltip?(p.length&&s&&s.refresh(p,e),He(p,function(t){t.onMouseOver(e,t!==(u&&u.directTouch&&c||f[0]))}),this.prevKDPoint=f[1]):(s&&s.refresh(f[0],e),u&&u.directTouch||f[0].onMouseOver(e),this.prevKDPoint=f[0]):(a=u&&u.tooltipOptions.followPointer,s&&a&&!s.isHidden&&(a=s.getAnchor([{}],e),s.updatePosition({plotX:a[0],plotY:a[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(e){Ne[pt]&&Ne[pt].pointer.onDocumentMouseMove(e)},Ge(se,"mousemove",this._onDocumentMouseMove)),He(l?p:[nt(c,f[1])],function(t){He(o.axes,function(n){(!t||t.series[n.coll]===n)&&n.drawCrosshair(e,t)})})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,o=n.hoverPoints,a=n.tooltip,s=a&&a.shared?o:i;e&&s&&He(u(s),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?a&&s&&(a.refresh(s),i&&(i.setState(i.state,!0),He(n.axes,function(e){e.crosshair&&e.drawCrosshair(null,i)}))):(i&&i.onMouseOut(),o&&He(o,function(e){e.setState()}),r&&r.onMouseOut(),a&&a.hide(t),this._onDocumentMouseMove&&(Ue(se,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),He(n.axes,function(e){e.hideCrosshair()}),this.hoverX=this.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n,r=this.chart;He(r.series,function(i){n=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(n),i.markerGroup&&(i.markerGroup.attr(n),i.markerGroup.clip(t?r.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(n))}),r.clipRect.attr(t||r.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,r=n.options.chart,i=e.chartX,o=e.chartY,a=this.zoomHor,s=this.zoomVert,l=n.plotLeft,c=n.plotTop,u=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,d=this.mouseDownY,m=r.panKey&&e[r.panKey+"Key"];p&&p.touch||(i<l?i=l:i>l+u&&(i=l+u),o<c?o=c:o>c+h&&(o=c+h),this.hasDragged=Math.sqrt(Math.pow(f-i,2)+Math.pow(d-o,2)),this.hasDragged>10&&(t=n.isInsidePlot(f-l,d-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!m&&!p&&(this.selectionMarker=p=n.renderer.rect(l,c,a?1:u,s?1:h,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),p&&a&&(i-=f,p.attr({width:de(i),x:(i>0?0:i)+f})),p&&s&&(i=o-d,p.attr({height:de(i),y:(i>0?0:i)+d})),t&&!p&&r.panning&&n.pan(e,r.panning)))},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i,o={originalEvent:e,xAxis:[],yAxis:[]},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,c=a.attr?a.attr("y"):a.y,u=a.attr?a.attr("width"):a.width,h=a.attr?a.attr("height"):a.height;(this.hasDragged||r)&&(He(n.axes,function(n){if(n.zoomEnabled&&l(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var a=n.horiz,p="touchend"===e.type?n.minPixelPadding:0,f=n.toValue((a?s:c)+p),a=n.toValue((a?s+u:c+h)-p);o[n.coll].push({axis:n,min:fe(f,a),max:pe(f,a)}),i=!0}}),i&&Ke(n,"selection",o,function(e){n.zoom(Je(e,r?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(p(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Ne[pt]&&Ne[pt].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(e){var t=Ne[pt];t&&(e.relatedTarget||e.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;l(pt)&&Ne[pt]&&Ne[pt].mouseIsDown||(pt=t.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=c(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,e=e.relatedTarget||e.toElement;!t||!e||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,e=this.normalize(e);t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Ke(n.series,"click",Je(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Je(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&Ke(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Ge(t,"mouseleave",e.onContainerMouseLeave),1===Re&&Ge(se,"mouseup",e.onDocumentMouseUp),I&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Re&&Ge(se,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Ue(this.chart.container,"mouseleave",this.onContainerMouseLeave),Re||(Ue(se,"mouseup",this.onDocumentMouseUp),Ue(se,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Je(ae.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,o)},pinchTranslateDirection:function(e,t,n,r,i,o,a,s){var l,c,u,h=this.chart,p=e?"x":"y",f=e?"X":"Y",d="chart"+f,m=e?"width":"height",y=h["plot"+(e?"Left":"Top")],g=s||1,b=h.inverted,v=h.bounds[e?"h":"v"],w=1===t.length,x=t[0][d],k=n[0][d],_=!w&&t[1][d],T=!w&&n[1][d],n=function(){!w&&de(x-_)>20&&(g=s||de(k-T)/de(x-_)),c=(y-k)/g+x,l=h["plot"+(e?"Width":"Height")]/g};n(),t=c,t<v.min?(t=v.min,u=!0):t+l>v.max&&(t=v.max-l,u=!0),u?(k-=.8*(k-a[p][0]),w||(T-=.8*(T-a[p][1])),n()):a[p]=[k,T],b||(o[p]=c-y,o[m]=l),o=b?1/g:g,i[m]=l,i[p]=t,r[b?e?"scaleY":"scaleX":"scale"+f]=g,r["translate"+f]=o*y+(k-o*x)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,o=i.length,a=t.lastValidTouch,s=t.hasZoom,l=t.selectionMarker,c={},u=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),h={};o>1&&(t.initiated=!0),s&&t.initiated&&!u&&e.preventDefault(),Ve(i,function(e){return t.normalize(e)}),"touchstart"===e.type?(He(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[r[0].chartX,r[1]&&r[1].chartX],a.y=[r[0].chartY,r[1]&&r[1].chartY],He(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(nt(e.options.min,e.dataMin)),o=e.toPixels(nt(e.options.max,e.dataMax)),a=fe(i,o),i=pe(i,o);t.min=fe(e.pos,a-r),t.max=pe(e.pos+e.len,i+r)}}),t.res=!0):r.length&&(l||(t.selectionMarker=l=Je({destroy:De,touch:!0},n.plotBox)),t.pinchTranslate(r,i,c,l,h,a),t.hasPinched=s,t.scaleGroups(c,h),!s&&t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n,r=this.chart;pt=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(t&&this.runPointActions(e),"touchmove"===e.type&&(r=this.pinchDown,n=!!r[0]&&Math.sqrt(Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2))>=4),nt(n,!0)&&this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Ne[pt]&&Ne[pt].pointer.drop(e)}}),e.PointerEvent||e.MSPointerEvent){var dt={},mt=!!e.PointerEvent,yt=function(){var e,t=[];t.item=function(e){return this[e]};for(e in dt)dt.hasOwnProperty(e)&&t.push({pageX:dt[e].pageX,pageY:dt[e].pageY,target:dt[e].target});return t},gt=function(e,t,n,r){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Ne[pt]||(r(e),r=Ne[pt].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:De,touches:yt()}))};Je(ft.prototype,{onContainerPointerDown:function(e){gt(e,"onContainerTouchStart","touchstart",function(e){dt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){gt(e,"onContainerTouchMove","touchmove",function(e){dt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},dt[e.pointerId].target||(dt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){gt(e,"onDocumentTouchEnd","touchend",function(e){delete dt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,mt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,mt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(se,mt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),rt(ft.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&p(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),rt(ft.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ge)}),rt(ft.prototype,"destroy",function(e){this.batchMSEvents(Ue),e.call(this)})}var bt=ae.Legend=function(e,t){this.init(e,t)};bt.prototype={init:function(e,t){var n=this,i=t.itemStyle,o=t.itemMarginTop||0;this.options=t,t.enabled&&(n.itemStyle=i,n.itemHiddenStyle=r(i,t.itemHiddenStyle),n.itemMarginTop=o,n.padding=i=nt(t.padding,8),n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=nt(t.symbolWidth,16),n.pages=[],n.render(),Ge(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var n,r=this.options,i=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,r=t?r.itemStyle.color:s,l=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,c={fill:l};if(i&&i.css({fill:r,color:r}),o&&o.attr({stroke:l}),a){if(s&&a.isMarker)for(n in c.stroke=l,s=e.convertAttribs(s))(i=s[n])!==L&&(c[n]=i);a.attr(c)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],o=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?i:this.legendWidth-i-2*n-4,r),o&&(o.x=i,o.y=r)},destroyItem:function(e){var t=e.checkbox;He(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&T(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,r=this.clipHeight||this.legendHeight,i=this.titleHeight;n&&(t=n.translateY,He(this.allItems,function(o){var a,s=o.checkbox;s&&(a=t+i+s.y+(e||0)+3,p(s,{left:n.translateX+o.checkboxOffset+s.x-20+"px",top:a+"px",display:a>t-6&&a<t+r-6?"":"none"}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?g(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t=this.chart,n=t.renderer,i=this.options,o="horizontal"===i.layout,a=this.symbolWidth,s=i.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,u=this.padding,h=o?nt(i.itemDistance,20):0,p=!i.rtl,f=i.width,d=i.itemMarginBottom||0,m=this.itemMarginTop,y=this.initialItemX,g=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,v=b.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,w=i.useHTML;g||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=g=n.text("",p?a+s:-s,this.baseline||0,w).css(r(e.visible?l:c)).attr({align:p?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,g),this.baseline=this.fontMetrics.f+3+m,g.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,g,w,l,c),v&&this.createCheckboxForItem(e)),this.colorizeItem(e,e.visible),this.setText(e),n=g.getBBox(),a=e.checkboxOffset=i.itemWidth||e.legendItemWidth||a+s+n.width+h+(v?20:0),this.itemHeight=s=ce(e.legendItemHeight||n.height),o&&this.itemX-y+a>(f||t.chartWidth-2*u-y-i.x)&&(this.itemX=y,this.itemY+=m+this.lastLineHeight+d,this.lastLineHeight=0),this.maxItemWidth=pe(this.maxItemWidth,a),this.lastItemY=m+this.itemY+d,this.lastLineHeight=pe(s,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=a:(this.itemY+=m+s+d,this.lastLineHeight=s),this.offsetWidth=f||pe((o?this.itemX-y-h:a)+u,this.offsetWidth)},getAllItems:function(){var e=[];return He(this.chart.series,function(t){var n=t.options;nt(n.showInLegend,!l(n.linkedTo)&&L,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);r.floating||He([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(i)&&!l(e[a])&&(n[Be[a]]=pe(n[Be[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*r[a%2?"x":"y"]+nt(r.margin,12)+t[a]))})},render:function(){var e,t,n,r,i=this,o=i.chart,a=o.renderer,s=i.group,l=i.box,c=i.options,u=i.padding,h=c.borderWidth,p=c.backgroundColor;i.itemX=i.initialItemX,i.itemY=i.initialItemY,i.offsetWidth=0,i.lastItemY=0,s||(i.group=s=a.g("legend").attr({zIndex:7}).add(),i.contentGroup=a.g().attr({zIndex:1}).add(s),i.scrollGroup=a.g().add(i.contentGroup)),i.renderTitle(),e=i.getAllItems(),w(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),i.allItems=e,i.display=t=!!e.length,i.lastLineHeight=0,He(e,function(e){i.renderItem(e)}),n=(c.width||i.offsetWidth)+u,r=i.lastItemY+i.lastLineHeight+i.titleHeight,r=i.handleOverflow(r),r+=u,(h||p)&&(l?n>0&&r>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:r})),l.isNew=!1):(i.box=l=a.rect(0,0,n,r,c.borderRadius,h||0).attr({stroke:c.borderColor,"stroke-width":h||0,fill:p||"none"}).add(s).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),i.legendWidth=n,i.legendHeight=r,He(e,function(e){i.positionItem(e)}),t&&s.align(Je({width:n,height:r},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,n,r=this,i=this.chart,o=i.renderer,a=this.options,s=a.y,s=i.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,l=a.maxHeight,c=this.clipRect,u=a.navigation,h=nt(u.animation,!0),p=u.arrowSize||12,f=this.nav,d=this.pages,m=this.padding,y=this.allItems,g=function(e){c.attr({height:e}),r.contentGroup.div&&(r.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+e)+"px,0)")};return"horizontal"===a.layout&&(s/=2),l&&(s=fe(s,l)),d.length=0,e>s&&!1!==u.enabled?(this.clipHeight=t=pe(s-20-this.titleHeight-m,0),this.currentPage=nt(this.currentPage,1),this.fullHeight=e,He(y,function(e,r){var i=e._legendItemPos[1],o=ce(e.legendItem.getBBox().height),a=d.length;(!a||i-d[a-1]>t&&(n||i)!==d[a-1])&&(d.push(n||i),a++),r===y.length-1&&i+o-d[a-1]>t&&d.push(i),i!==n&&(n=i)}),c||(c=r.clipRect=o.clipRect(0,m,9999,0),r.contentGroup.clip(c)),g(t),f||(this.nav=f=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,p,p).on("click",function(){r.scroll(-1,h)}).add(f),this.pager=o.text("",15,10).css(u.style).add(f),this.down=o.symbol("triangle-down",0,0,p,p).on("click",function(){r.scroll(1,h)}).add(f)),r.scroll(0),e=s):f&&(g(i.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,o=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;i>r&&(i=r),i>0&&(t!==L&&P(t,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===i?a:s}).css({cursor:1===i?"default":"pointer"}),l.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?a:s}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},lt=ae.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,r=n.marker,i=e.symbolWidth,o=this.chart.renderer,a=this.legendGroup,e=e.baseline-ce(.3*e.fontMetrics.b);n.lineWidth&&(t={"stroke-width":n.lineWidth},n.dashStyle&&(t.dashstyle=n.dashStyle),this.legendLine=o.path([Le,0,e,Fe,i,e]).attr(t).add(a)),r&&!1!==r.enabled&&(n=r.radius,this.legendSymbol=r=o.symbol(this.symbol,i/2-n,e-n,2*n,2*n,r).add(a),r.isMarker=!0)}},(/Trident\/7\.0/.test(ve)||Te)&&rt(bt.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)});var vt=ae.Chart=function(){this.getArgs.apply(this,arguments)};ae.chart=function(e,t,n){return new vt(e,t,n)},vt.prototype={callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(o(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(e,t){var n,i=e.series;e.series=null,n=r(z,e),n.series=e.series=i,this.userOptions=e,i=n.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var o=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var a,s=this;if(s.index=Ne.length,Ne.push(s),Re++,!1!==i.reflow&&Ge(s,"load",function(){s.initReflow()}),o)for(a in o)Ge(s,a,o[a]);s.xAxis=[],s.yAxis=[],s.animation=!Oe&&nt(i.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var n=this.options.chart;return(n=ze[e.type||n.type||n.defaultSeriesType])||t(17,!0),n=new n,n.init(this,e),n},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,n,r=this.axes,i=this.series,o=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,u=i.length,h=u,p=this.renderer,f=p.isHidden(),d=[];for(P(e,this),f&&this.cloneRenderTo(),this.layOutTitles();h--;)if(e=i[h],e.options.stacking&&(t=!0,e.isDirty)){n=!0;break}if(n)for(h=u;h--;)e=i[h],e.options.stacking&&(e.isDirty=!0);He(i,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),s=!0),e.isDirtyData&&Ke(e,"updatedData")}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,He(r,function(e){e.setScale()})),this.getMargins(),l&&(He(r,function(e){e.isDirty&&(c=!0)}),He(r,function(e){var n=e.min+","+e.max;e.extKey!==n&&(e.extKey=n,d.push(function(){Ke(e,"afterSetExtremes",Je(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(c||t)&&e.redraw()})),c&&this.drawChartBox(),He(i,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset(!0),p.draw(),Ke(this,"redraw"),f&&this.cloneRenderTo(!0),He(d,function(e){e.call()})},get:function(e){var t,n,r=this.axes,i=this.series;for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<i.length;t++)for(n=i[t].points||[],r=0;r<n.length;r++)if(n[r].id===e)return n[r];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=u(t.xAxis||{}),t=t.yAxis=u(t.yAxis||{});He(n,function(e,t){e.index=t,e.isX=!0}),He(t,function(e,t){e.index=t}),n=n.concat(t),He(n,function(t){new ut(e,t)})},getSelectedPoints:function(){var e=[];return He(this.series,function(t){e=e.concat(Ye(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Ye(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var i,o,a=this,s=a.options;o=s.title=r(s.title,e),i=s.subtitle=r(s.subtitle,t),s=i,He([["title",e,o],["subtitle",t,s]],function(e){var t=e[0],n=a[t],r=e[1],e=e[2];n&&r&&(a[t]=n=n.destroy()),e&&e.text&&!n&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,o=i.title,i=i.subtitle,a=this.renderer,s=this.spacingBox;!n||(n.css({width:(o.width||s.width+o.widthAdjust)+"px"}).align(Je({y:a.fontMetrics(o.style.fontSize,n).b-3},o),!1,s),o.floating||o.verticalAlign)||(t=n.getBBox().height),r&&(r.css({width:(i.width||s.width+i.widthAdjust)+"px"}).align(Je({y:t+(o.margin-13)+a.fontMetrics(i.style.fontSize,n).b},i),!1,s),!i.floating&&!i.verticalAlign&&(t=he(t+r.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&nt(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;l(t)||(this.containerWidth=We(n,"width")),l(e)||(this.containerHeight=We(n,"height")),this.chartWidth=pe(0,t||this.containerWidth||600),this.chartHeight=pe(0,nt(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),T(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),p(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),se.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,n,r,a=this.options,s=a.chart;e=this.renderTo;var l="highcharts-"+Me++;e||(this.renderTo=e=s.renderTo),o(e)&&(this.renderTo=e=se.getElementById(e)),e||t(13,!0),n=i(c(e,"data-highcharts-chart")),tt(n)&&Ne[n]&&Ne[n].hasRendered&&Ne[n].destroy(),c(e,"data-highcharts-chart",this.index),e.innerHTML="",!s.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,this.container=e=f(je,{className:"highcharts-container"+(s.className?" "+s.className:""),id:l},Je({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(ae[s.renderer]||F)(e,n,r,s.style,s.forExport,a.exporting&&a.exporting.allowHTML),Oe&&this.renderer.create(this,e,n,r),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!l(n[0])&&(this.plotTop=pe(this.plotTop,r+this.options.title.margin+t[0])),this.legend.display&&this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&He(e.axes,function(e){e.visible&&e.getOffset()}),He(Be,function(r,i){l(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(t){var n=this,r=n.options.chart,i=n.renderTo,o=l(r.width),a=r.width||We(i,"width"),r=r.height||We(i,"height"),i=t?t.target:e;o||n.isPrinting||!a||!r||i!==e&&i!==se||(a===n.containerWidth&&r===n.containerHeight||(clearTimeout(n.reflowTimeout),n.reflowTimeout=h(function(){n.container&&n.setSize(void 0,void 0,!1)},t?100:0)),n.containerWidth=a,n.containerHeight=r)},initReflow:function(){var t=this,n=function(e){t.reflow(e)};Ge(e,"resize",n),Ge(t,"destroy",function(){Ue(e,"resize",n)})},setSize:function(e,t,n){var r=this,i=r.renderer;r.isResizing+=1,P(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==e&&(r.options.chart.width=e),void 0!==t&&(r.options.chart.height=t),r.getChartSize(),e=i.globalAnimation,(e?Ze:p)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},e),r.setChartSize(!0),i.setSize(r.chartWidth,r.chartHeight,n),r.maxTicks=null,He(r.axes,function(e){e.isDirty=!0,e.setScale()}),He(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Ke(r,"resize"),h(function(){r&&Ke(r,"endResize",null,function(){r.isResizing-=1})},E(e).duration)},setChartSize:function(e){var t,n,r,i,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,h=this.clipOffset;this.plotLeft=t=ce(this.plotLeft),this.plotTop=n=ce(this.plotTop),this.plotWidth=r=pe(0,ce(s-t-this.marginRight)),this.plotHeight=i=pe(0,ce(l-n-this.marginBottom)),this.plotSizeX=o?i:r,this.plotSizeY=o?r:i,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=a.plotBox={x:t,y:n,width:r,height:i},s=2*ue(this.plotBorderWidth/2),o=he(pe(s,h[3])/2),a=he(pe(s,h[0])/2),this.clipBox={x:o,y:a,width:ue(this.plotSizeX-pe(s,h[1])/2-o),height:pe(0,ue(this.plotSizeY-pe(s,h[2])/2-a))},e||He(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;He(Be,function(t,n){e[t]=nt(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,r=this.chartWidth,i=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,u=t.backgroundColor,h=t.plotBackgroundColor,p=t.plotBackgroundImage,f=t.plotBorderWidth||0,d=this.plotLeft,m=this.plotTop,y=this.plotWidth,g=this.plotHeight,b=this.plotBox,v=this.clipRect,w=this.clipBox;e=c+(t.shadow?8:0),(c||u)&&(o?o.animate(o.crisp({width:r-e,height:i-e})):(o={fill:u||"none"},c&&(o.stroke=t.borderColor,o["stroke-width"]=c),this.chartBackground=n.rect(e/2,e/2,r-e,i-e,t.borderRadius,c).attr(o).addClass("highcharts-background").add().shadow(t.shadow))),h&&(a?a.animate(b):this.plotBackground=n.rect(d,m,y,g,0).attr({fill:h}).add().shadow(t.plotShadow)),p&&(l?l.animate(b):this.plotBGImage=n.image(p,d,m,y,g).add()),v?v.animate({width:w.width,height:w.height}):this.clipRect=n.clipRect(w),f&&(s?(s.strokeWidth=-f,s.animate(s.crisp({x:d,y:m,width:y,height:g}))):this.plotBorder=n.rect(d,m,y,g,0,-f).attr({stroke:t.plotBorderColor,"stroke-width":f,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,r=this,i=r.options.chart,o=r.options.series;He(["inverted","angular","polar"],function(a){for(e=ze[i.type||i.defaultSeriesType],n=r[a]||i[a]||e&&e.prototype[a],t=o&&o.length;!n&&t--;)(e=ze[o[t].type])&&e.prototype[a]&&(n=!0);r[a]=n})},linkSeries:function(){var e=this,t=e.series;He(t,function(e){e.linkedSeries.length=0}),He(t,function(t){var n=t.options.linkedTo;o(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n,t.visible=nt(t.options.visible,n.options.visible,t.visible))})},renderSeries:function(){He(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&He(t.items,function(n){var r=Je(t.style,n.style),o=i(r.left)+e.plotLeft,a=i(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,o,a).attr({zIndex:2}).css(r).add()})},render:function(){var e,t,n,r,i=this.axes,o=this.renderer,a=this.options;this.setTitle(),this.legend=new bt(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=21,He(i,function(e){e.setScale()}),this.getAxisMargins(),n=e/this.plotWidth>1.1,r=t/this.plotHeight>1.05,(n||r)&&(this.maxTicks=null,He(i,function(e){(e.horiz&&n||!e.horiz&&r)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&He(i,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(a.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(e.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var e,t=this,n=t.axes,r=t.series,i=t.container,o=i&&i.parentNode;for(Ke(t,"destroy"),Ne[t.index]=L,Re--,t.renderTo.removeAttribute("data-highcharts-chart"),Ue(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=r.length;e--;)r[e]=r[e].destroy();He("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",Ue(i),o&&T(i));for(e in t)delete t[e]},isReadyToRender:function(){var t=this;return!(!Ee&&e==e.top&&"complete"!==se.readyState||Oe&&!e.canvg)||(Oe?ct.push(function(){t.firstRender()},t.options.global.canvasToolsURL):se.attachEvent("onreadystatechange",function(){se.detachEvent("onreadystatechange",t.firstRender),"complete"===se.readyState&&t.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options;e.isReadyToRender()&&(e.getContainer(),Ke(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),He(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Ke(e,"beforeRender"),ae.Pointer&&(e.pointer=new ft(e,t)),e.render(),e.renderer.draw(),!e.renderer.imgCount&&e.onload&&e.onload(),e.cloneRenderTo(!0))},onload:function(){var e=this;He([this.callback].concat(this.callbacks),function(t){t&&void 0!==e.index&&t.apply(e,[e])}),Ke(e,"load"),this.onload=null},splashArray:function(e,t){var n=t[e],n=et(n)?n:[n,n,n,n];return[nt(t[e+"Top"],n[0]),nt(t[e+"Right"],n[1]),nt(t[e+"Bottom"],n[2]),nt(t[e+"Left"],n[3])]}};var wt=ae.CenteredSeriesMixin={getCenter:function(){var e,t,n=this.options,r=this.chart,i=2*(n.slicedOffset||0),o=r.plotWidth-2*i,r=r.plotHeight-2*i,a=n.center,a=[nt(a[0],"50%"),nt(a[1],"50%"),n.size||"100%",n.innerSize||0],s=fe(o,r);for(e=0;e<4;++e)t=a[e],n=e<2||2===e&&/%$/.test(t),a[e]=(/%$/.test(t)?[o,r,s,a[2]][e]*parseFloat(t)/100:parseFloat(t))+(n?i:0);return a[3]>a[2]&&(a[3]=a[2]),a}},xt=function(){};xt.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,r=n.options.pointValKey||n.pointValKey,e=xt.prototype.optionsToObject.call(this,e);return Je(this,e),this.options=this.options?Je(this.options,e):e,r&&(this.y=this[r]),this.isNull=null===this.x||!tt(this.y,!0),void 0===this.x&&n&&(this.x=void 0===t?n.autoIncrement(this):t),n.xAxis&&n.xAxis.names&&(n.xAxis.names[this.x]=this.name),this},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,i=r||n.pointArrayMap||["y"],o=i.length,s=0,l=0;if(tt(e)||null===e)t[i[0]]=e;else if(a(e))for(!r&&e.length>o&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),s++);l<o;)r&&void 0===e[s]||(t[i[l]]=e[s]),s++,l++;else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),s(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Ue(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=nt(n.valueDecimals,""),i=n.valuePrefix||"",o=n.valueSuffix||"";return He(t.pointArrayMap||["y"],function(t){t="{point."+t,(i||o)&&(e=e.replace(t+"}",i+t+"}"+o)),e=e.replace(t+"}",t+":,."+r+"f}")}),g(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),"click"===e&&i.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Ke(this,e,t,n)},visible:!0};var kt=ae.Series=function(){};kt.prototype={isCartesian:!0,type:"line",pointClass:xt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n,r,i=this,o=e.series,a=function(e,t){return nt(e.options.index,e._i)-nt(t.options.index,t._i)};i.chart=e,i.options=t=i.setOptions(t),i.linkedSeries=[],i.bindAxes(),Je(i,{name:t.name,state:"",pointAttr:{},visible:!1!==t.visible,selected:!0===t.selected}),Oe&&(t.animation=!1),r=t.events;for(n in r)Ge(i,n,r[n]);(r&&r.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),i.getColor(),i.getSymbol(),He(i.parallelArrays,function(e){i[e+"Data"]=[]}),i.setData(t.data,!1),i.isCartesian&&(e.hasCartesianSeries=!0),o.push(i),i._i=o.length-1,w(o,a),this.yAxis&&w(this.yAxis.series,a),He(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,n=this,r=n.options,i=n.chart;He(n.axisTypes||[],function(o){He(i[o],function(t){e=t.options,(r[o]===e.index||r[o]!==L&&r[o]===e.id||r[o]===L&&0===e.index)&&(t.series.push(n),n[o]=t,t.isDirty=!0)}),!n[o]&&n.optionalAxis!==o&&t(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=tt(t)?function(r){var i="y"===r&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};He(n.parallelArrays,i)},autoIncrement:function(e){var t,n,r=this.options,i=this.xIncrement,o=r.pointIntervalUnit,s=this.xAxis,i=nt(i,r.pointStart,0);return this.pointInterval=r=nt(this.pointInterval,r.pointInterval,1),s&&s.categories&&e.name&&(this.requireSorting=!1,t=(n=a(s.categories))?s.categories:s.names,s=t,-1===(e=qe(e.name,s))?n||(i=s.length):i=e),o&&(e=new H(i),"day"===o?e=+e[re](e[Z]()+r):"month"===o?e=+e[ie](e[$]()+r):"year"===o&&(e=+e[oe](e[Q]()+r)),r=e-i),this.xIncrement=i+r,i},setOptions:function(e){var t=this.chart,n=t.options.plotOptions,t=t.userOptions||{},i=t.plotOptions||{},o=n[this.type];return this.userOptions=e,n=r(o,n.series,e),this.tooltipOptions=r(z.tooltip,z.plotOptions[this.type].tooltip,t.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,e.tooltip),null===o.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&l(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",o=e+"Counter";t||(l(r[i])?t=r[i]:(r[i]=t=this.chart[o]%n.length,this.chart[o]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||it[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:lt.drawLineMarker,setData:function(e,n,r,i){var s,l=this,c=l.points,u=c&&c.length||0,h=l.options,p=l.chart,f=null,d=l.xAxis,m=h.turboThreshold,y=this.xData,g=this.yData,b=(s=l.pointArrayMap)&&s.length,e=e||[];if(s=e.length,n=nt(n,!0),!1!==i&&s&&u===s&&!l.cropped&&!l.hasGroupedData&&l.visible)He(e,function(e,t){c[t].update&&e!==h.data[t]&&c[t].update(e,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,He(this.parallelArrays,function(e){l[e+"Data"].length=0}),m&&s>m){for(r=0;null===f&&r<s;)f=e[r],r++;if(tt(f)){for(f=nt(h.pointStart,0),b=nt(h.pointInterval,1),r=0;r<s;r++)y[r]=f,g[r]=e[r],f+=b;l.xIncrement=f}else if(a(f))if(b)for(r=0;r<s;r++)f=e[r],y[r]=f[0],g[r]=f.slice(1,b+1);else for(r=0;r<s;r++)f=e[r],y[r]=f[0],g[r]=f[1];else t(12)}else for(r=0;r<s;r++)e[r]!==L&&(f={series:l},l.pointClass.prototype.applyOptions.apply(f,[e[r]]),l.updateParallelArrays(f,r));for(o(g[0])&&t(14,!0),l.data=[],l.options.data=l.userOptions.data=e,r=u;r--;)c[r]&&c[r].destroy&&c[r].destroy();d&&(d.minRange=d.userMinRange),l.isDirty=l.isDirtyData=p.isDirtyBox=!0,r=!1}"point"===h.legendType&&(this.processData(),this.generatePoints()),n&&p.redraw(r)},processData:function(e){var n,r=this.xData,i=this.yData,o=r.length;n=0;var a,s,l,c=this.xAxis,u=this.options;l=u.cropThreshold;var h,p,f=this.getExtremesFromAll||u.getExtremesFromAll,d=this.isCartesian,u=c&&c.val2lin,m=c&&c.isLog;if(d&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(e=c.getExtremes(),h=e.min,p=e.max),d&&this.sorted&&!f&&(!l||o>l||this.forceCrop)&&(r[o-1]<h||r[0]>p?(r=[],i=[]):(r[0]<h||r[o-1]>p)&&(n=this.cropData(this.xData,this.yData,h,p),r=n.xData,i=n.yData,n=n.start,a=!0)),l=r.length||1;--l;)o=m?u(r[l])-u(r[l-1]):r[l]-r[l-1],o>0&&(s===L||o<s)?s=o:o<0&&this.requireSorting&&t(15);this.cropped=a,this.cropStart=n,this.processedXData=r,this.processedYData=i,this.closestPointRange=s},cropData:function(e,t,n,r){var i,o=e.length,a=0,s=o,l=nt(this.cropShoulder,1);for(i=0;i<o;i++)if(e[i]>=n){a=pe(0,i-l);break}for(n=i;n<o;n++)if(e[n]>r){s=n+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,n,r,i=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,h=this.cropStart||0,p=this.hasGroupedData,f=[];for(o||p||(o=[],o.length=i.length,o=this.data=o),r=0;r<c;r++)t=h+r,p?(f[r]=(new l).init(this,[a[r]].concat(u(s[r]))),f[r].dataGroup=this.groupMap[r]):(o[t]?n=o[t]:i[t]!==L&&(o[t]=n=(new l).init(this,i[t],a[r])),f[r]=n),f[r].index=t;if(o&&(c!==(e=o.length)||p))for(r=0;r<e;r++)r===h&&!p&&(r+=c),o[r]&&(o[r].destroyElements(),o[r].plotX=L);this.data=o,this.points=f},getExtremes:function(e){var t,n=this.yAxis,r=this.processedXData,i=[],o=0;t=this.xAxis.getExtremes();var a,s,l,c,u=t.min,h=t.max,e=e||this.stackedYData||this.processedYData||[];for(t=e.length,c=0;c<t;c++)if(s=r[c],l=e[c],a=null!==l&&l!==L&&(!n.isLog||l.length||l>0),s=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(r[c+1]||s)>=u&&(r[c-1]||s)<=h,a&&s)if(a=l.length)for(;a--;)null!==l[a]&&(i[o++]=l[a]);else i[o++]=l;this.dataMin=x(i),this.dataMax=k(i)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,n,r,i,o=this.options,a=o.stacking,s=this.xAxis,c=s.categories,u=this.yAxis,h=this.points,p=h.length,f=!!this.modifyValue,d=o.pointPlacement,m="between"===d||tt(d),y=o.threshold,g=o.startFromThreshold?y:0,b=Number.MAX_VALUE,o=0;o<p;o++){var v=h[o],w=v.x,x=v.y;n=v.low;var k,_=a&&u.stacks[(this.negStacks&&x<(g?0:y)?"-":"")+this.stackKey];u.isLog&&null!==x&&x<=0&&(v.y=x=null,t(10)),v.plotX=e=S(fe(pe(-1e5,s.translate(w,0,0,0,1,d,"flags"===this.type)),1e5)),a&&this.visible&&!v.isNull&&_&&_[w]&&(i=this.getStackIndicator(i,w,this.index),k=_[w],x=k.points[i.key],n=x[0],x=x[1],n===g&&i.key===_[w].base&&(n=nt(y,u.min)),u.isLog&&n<=0&&(n=null),v.total=v.stackTotal=k.total,v.percentage=k.total&&v.y/k.total*100,v.stackY=x,k.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=l(n)?u.translate(n,0,1,0,1):null,f&&(x=this.modifyValue(x,v)),v.plotY=n="number"==typeof x&&x!==1/0?fe(pe(-1e5,u.translate(x,0,1,0,1)),1e5):L,v.isInside=n!==L&&n>=0&&n<=u.len&&e>=0&&e<=s.len,v.clientX=m?S(s.translate(w,0,0,0,1)):e,v.negative=v.y<(y||0),v.category=c&&c[v.x]!==L?c[v.x]:v.x,v.isNull||(void 0!==r&&(b=fe(b,de(e-r))),r=e)}this.closestPointRangePx=b},getValidPoints:function(e,t){var n=this.chart;return Ye(e||this.points||[],function(e){return!(t&&!n.isInsidePlot(e.plotX,e.plotY,n.inverted))&&!e.isNull})},setClip:function(e){var t=this.chart,n=this.options,r=t.renderer,i=t.inverted,o=this.clipBox,a=o||t.clipBox,s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,a.height,n.xAxis,n.yAxis].join(","),l=t[s],c=t[s+"m"];l||(e&&(a.width=0,t[s+"m"]=c=r.clipRect(-99,i?-t.plotLeft:-t.plotTop,99,i?t.chartWidth:t.chartHeight)),t[s]=l=r.clipRect(a),l.count={length:0}),e&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(e||o?l:t.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),e||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&s&&t[s]&&(o||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t,n=this.chart,r=this.options.animation;r&&!et(r)&&(r=it[this.type].animation),e?this.setClip(r):(t=this.sharedClipKey,(e=n[t])&&e.animate({width:n.plotSizeX},r),n[t+"m"]&&n[t+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),Ke(this,"afterAnimate")},drawPoints:function(){var e,t,n,r,i,o,a,s,l,c,u,h,p=this.points,f=this.chart,d=this.options.marker,m=this.pointAttr[""],y=this.markerGroup,g=nt(d.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*d.radius);if(!1!==d.enabled||this._hasPointMarkers)for(r=p.length;r--;)i=p[r],t=ue(i.plotX),n=i.plotY,l=i.graphic,c=i.marker||{},u=!!i.marker,e=g&&c.enabled===L||c.enabled,h=i.isInside,e&&tt(n)&&null!==i.y?(e=i.pointAttr[i.selected?"select":""]||m,o=e.r,a=nt(c.symbol,this.symbol),s=0===a.indexOf("url"),l?l[h?"show":"hide"](!0).attr(e).animate(Je({x:t-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):h&&(o>0||s)&&(i.graphic=f.renderer.symbol(a,t-o,n-o,2*o,2*o,u?c:d).attr(e).add(y))):l&&(i.graphic=l.destroy())},convertAttribs:function(e,t,n,r){var i,o,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},n=n||{},r=r||{};for(i in a)o=a[i],s[i]=nt(e[o],t[i],n[i],r[i]);return s},getAttribs:function(){var e,t,n,r=this,i=r.options,o=it[r.type].marker?i.marker:i,a=o.states,s=a.hover,c=r.color,u=r.options.negativeColor,h={stroke:c,fill:c},p=r.points||[],f=[],d=r.pointAttrToOptions;e=r.hasPointSpecificOptions;var m=o.lineColor,y=o.fillColor;t=i.turboThreshold;var g,b,v=r.zones,w=r.zoneAxis||"y";if(i.marker?(s.radius=+s.radius||+o.radius+ +s.radiusPlus,s.lineWidth=s.lineWidth||o.lineWidth+s.lineWidthPlus):(s.color=s.color||O(s.color||c).brighten(s.brightness).get(),s.negativeColor=s.negativeColor||O(s.negativeColor||u).brighten(s.brightness).get()),f[""]=r.convertAttribs(o,h),He(["hover","select"],function(e){f[e]=r.convertAttribs(a[e],f[""])}),r.pointAttr=f,c=p.length,!t||c<t||e)for(;c--;){if(t=p[c],(o=t.options&&t.options.marker||t.options)&&!1===o.enabled&&(o.radius=0),h=null,v.length){for(e=0,h=v[e];t[w]>=h.value;)h=v[++e];t.color=t.fillColor=h=nt(h.color,r.color)}if(e=i.colorByPoint||t.color,t.options)for(b in d)l(o[d[b]])&&(e=!0);e?(o=o||{},n=[],a=o.states||{},e=a.hover=a.hover||{},i.marker&&(!t.negative||e.fillColor||s.fillColor)||(e[r.pointAttrToOptions.fill]=e.color||!t.options.color&&s[t.negative&&u?"negativeColor":"color"]||O(t.color).brighten(e.brightness||s.brightness).get()),g={color:t.color},y||(g.fillColor=t.color),m||(g.lineColor=t.color),o.hasOwnProperty("color")&&!o.color&&delete o.color,h&&!s.fillColor&&(e.fillColor=h),n[""]=r.convertAttribs(Je(g,o),f[""]),n.hover=r.convertAttribs(a.hover,f.hover,n[""]),n.select=r.convertAttribs(a.select,f.select,n[""])):n=f,t.pointAttr=n}},destroy:function(){var e,t,n,r,i=this,o=i.chart,a=/AppleWebKit\/533/.test(ve),l=i.data||[];for(Ke(i,"destroy"),Ue(i),He(i.axisTypes||[],function(e){(r=i[e])&&(s(r.series,i),r.isDirty=r.forceRedraw=!0)}),i.legendItem&&i.chart.legend.destroyItem(i),e=l.length;e--;)(t=l[e])&&t.destroy&&t.destroy();i.points=null,clearTimeout(i.animationTimeout);for(n in i)i[n]instanceof A&&!i[n].survive&&(e=a&&"group"===n?"hide":"destroy",i[n][e]());o.hoverSeries===i&&(o.hoverSeries=null),s(o.series,i);for(n in i)delete i[n]},getGraphPath:function(e,t,n){var r,i,o=this,a=o.options,s=a.step,c=[],u=[],e=e||o.points;return(r=e.reversed)&&e.reverse(),(s={right:1,center:2}[s]||s&&3)&&r&&(s=4-s),a.connectNulls&&!t&&!n&&(e=this.getValidPoints(e)),He(e,function(r,h){var p=r.plotX,f=r.plotY,d=e[h-1];(r.leftCliff||d&&d.rightCliff)&&!n&&(i=!0),r.isNull&&!l(t)&&h>0?i=!a.connectNulls:r.isNull&&!t?i=!0:(0===h||i?d=[Le,r.plotX,r.plotY]:o.getPointSpline?d=o.getPointSpline(e,r,h):s?(d=1===s?[Fe,d.plotX,f]:2===s?[Fe,(d.plotX+p)/2,d.plotY,Fe,(d.plotX+p)/2,f]:[Fe,p,d.plotY],d.push(Fe,p,f)):d=[Fe,p,f],u.push(r.x),s&&u.push(r.x),c.push.apply(c,d),i=!1)}),c.xMap=u,o.graphPath=c},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i="square"!==t.linecap,o=(this.gappedPath||this.getGraphPath).call(this);He(this.zones,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),He(n,function(n,a){var s=n[0],l=e[s];l?(l.endX=o.xMap,l.animate({d:o})):r&&o.length&&(l={stroke:n[1],"stroke-width":r,fill:"none",zIndex:1},n[2]?l.dashstyle=n[2]:i&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),l=e[s]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(a<2&&t.shadow)),l&&(l.startX=o.xMap,l.isArea=o.isArea)})},applyZones:function(){var e,t,n,r,i,o,a,s=this,l=this.chart,c=l.renderer,u=this.zones,h=this.clips||[],p=this.graph,f=this.area,d=pe(l.chartWidth,l.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],y=m.reversed,g=l.inverted,b=m.horiz,v=!1;u.length&&(p||f)&&m.min!==L&&(p&&p.hide(),f&&f.hide(),r=m.getExtremes(),He(u,function(u,w){e=y?b?l.plotWidth:0:b?0:m.toPixels(r.min),e=fe(pe(nt(t,e),0),d),t=fe(pe(ce(m.toPixels(nt(u.value,r.max),!0)),0),d),v&&(e=t=m.toPixels(r.max)),i=Math.abs(e-t),o=fe(e,t),a=pe(e,t),m.isXAxis?(n={x:g?a:o,y:0,width:i,height:d},b||(n.x=l.plotHeight-n.x)):(n={x:0,y:g?a:o,width:d,height:i},b&&(n.y=l.plotWidth-n.y)),l.inverted&&c.isVML&&(n=m.isXAxis?{x:0,y:y?o:a,height:n.width,width:l.chartWidth}:{x:n.y-l.plotLeft-l.spacingBox.x,y:0,width:n.height,height:l.chartHeight}),h[w]?h[w].animate(n):(h[w]=c.clipRect(n),p&&s["zoneGraph"+w].clip(h[w]),f&&s["zoneArea"+w].clip(h[w])),v=u.value>r.max}),this.clips=h)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};He(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Ge(n,"resize",e),Ge(t,"destroy",function(){Ue(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({zIndex:r||.1}).add(i),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:n})[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,n=t.chart,r=t.options,i=!!t.animate&&n.renderer.isSVG&&E(r.animation).duration,o=t.visible?"inherit":"hidden",a=r.zIndex,s=t.hasRendered,l=n.seriesGroup;e=t.plotGroup("group","series",o,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",o,a,l),i&&t.animate(!0),t.getAttribs(),e.inverted=!!t.isCartesian&&n.inverted,t.drawGraph&&(t.drawGraph(),t.applyZones()),He(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),n.inverted&&t.invertGroups(),!1!==r.clip&&!t.sharedClipKey&&!s&&e.clip(n.clipRect),i&&t.animate(),s||(t.animationTimeout=h(function(){t.afterAnimate()},i)),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:nt(r&&r.left,e.plotLeft),translateY:nt(i&&i.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos},t)},buildKDTree:function(){function e(n,r,i){var o,a;if(a=n&&n.length)return o=t.kdAxisArray[r%i],n.sort(function(e,t){return e[o]-t[o]}),a=Math.floor(a/2),{point:n[a],left:e(n.slice(0,a),r+1,i),right:e(n.slice(a+1),r+1,i)}}var t=this,n=t.kdDimensions;delete t.kdTree,h(function(){t.kdTree=e(t.getValidPoints(null,!t.directTouch),n,n)},t.options.kdNow?0:1)},searchKDTree:function(e,t){function n(e,t,s,c){var u,h,p=t.point,f=r.kdAxisArray[s%c],d=p;return h=l(e[i])&&l(p[i])?Math.pow(e[i]-p[i],2):null,u=l(e[o])&&l(p[o])?Math.pow(e[o]-p[o],2):null,u=(h||0)+(u||0),p.dist=l(u)?Math.sqrt(u):Number.MAX_VALUE,p.distX=l(h)?Math.sqrt(h):Number.MAX_VALUE,f=e[f]-p[f],u=f<0?"left":"right",h=f<0?"right":"left",t[u]&&(u=n(e,t[u],s+1,c),d=u[a]<d[a]?u:p),t[h]&&Math.sqrt(f*f)<d[a]&&(e=n(e,t[h],s+1,c),d=e[a]<d[a]?e:d),d}var r=this,i=this.kdAxisArray[0],o=this.kdAxisArray[1],a=t?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return n(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},D.prototype={destroy:function(){_(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?g(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,o=n.reversed,o=this.isNegative&&!o||!this.isNegative&&o,a=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=de(a-n),s=r.xAxis[0].translate(this.x)+e,l=r.plotHeight,o={x:i?o?a:a-n:s,y:i?l-s-t:o?l-a-n:l-a,width:i?n:t,height:i?t:n};(i=this.label)&&(i.align(this.alignOptions,null,o),o=i.alignAttr,i[!1===this.options.crop||r.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},vt.prototype.getStacks=function(){var e=this;He(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),He(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+nt(t.options.stack,""))})},ut.prototype.buildStacks=function(){var e,t,n=this.series,r=nt(this.options.reversedStacks,!0),i=n.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)n[r?t:i-t-1].setStackedPoints();for(t=i;t--;)e=n[r?t:i-t-1],e.setStackCliffs&&e.setStackCliffs();if(this.usePercentage)for(t=0;t<i;t++)n[t].setPercentStacks()}},ut.prototype.renderStackTotals=function(){var e,t,n=this.chart,r=n.renderer,i=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=r.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop);for(e in i)for(t in n=i[e])n[t].render(o)},ut.prototype.resetStacks=function(){var e,t,n=this.stacks;if(!this.isXAxis)for(e in n)for(t in n[e])n[e][t].touched<this.stacksTouched?(n[e][t].destroy(),delete n[e][t]):(n[e][t].total=null,n[e][t].cum=0)},ut.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},kt.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,t,n,r,i,o,a,s=this.processedXData,c=this.processedYData,u=[],h=c.length,p=this.options,f=p.threshold,d=p.startFromThreshold?f:0,m=p.stack,p=p.stacking,y=this.stackKey,g="-"+y,b=this.negStacks,v=this.yAxis,w=v.stacks,x=v.oldStacks;for(v.stacksTouched+=1,i=0;i<h;i++)o=s[i],a=c[i],e=this.getStackIndicator(e,o,this.index),r=e.key,n=(t=b&&a<(d?0:f))?g:y,w[n]||(w[n]={}),w[n][o]||(x[n]&&x[n][o]?(w[n][o]=x[n][o],w[n][o].total=null):w[n][o]=new D(v,v.options.stackLabels,t,o,m)),n=w[n][o],null!==a&&(n.points[r]=n.points[this.index]=[nt(n.cum,d)],l(n.cum)||(n.base=r),n.touched=v.stacksTouched,e.index>0&&!1===this.singleStacks&&(n.points[r][0]=n.points[this.index+","+o+",0"][0])),"percent"===p?(t=t?y:g,b&&w[t]&&w[t][o]?(t=w[t][o],n.total=t.total=pe(t.total,n.total)+de(a)||0):n.total=S(n.total+(de(a)||0))):n.total=S(n.total+(a||0)),n.cum=nt(n.cum,d)+(a||0),null!==a&&(n.points[r].push(n.cum),u[i]=n.cum);"percent"===p&&(v.usePercentage=!0),this.stackedYData=u,v.oldStacks={}}},kt.prototype.setPercentStacks=function(){var e,t=this,n=t.stackKey,r=t.yAxis.stacks,i=t.processedXData;He([n,"-"+n],function(n){for(var o,a,s,l=i.length;l--;)a=i[l],e=t.getStackIndicator(e,a,t.index),o=(s=r[n]&&r[n][a])&&s.points[e.key],(a=o)&&(s=s.total?100/s.total:0,a[0]=S(a[0]*s),a[1]=S(a[1]*s),t.stackedYData[l]=a[1])})},kt.prototype.getStackIndicator=function(e,t,n){return l(e)&&e.x===t?e.index++:e={x:t,index:0},e.key=[n,t,e.index].join(","),e},Je(vt.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=nt(t,!0),Ke(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,i){var o=t?"xAxis":"yAxis",a=this.options,e=r(e,{index:this[o].length,isX:t});new ut(this,e),a[o]=u(a[o]||{}),a[o].push(e),nt(n,!0)&&this.redraw(i)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,o=function(){r&&p(r,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};r||(t.loadingDiv=r=f(je,{className:"highcharts-loading"},Je(i.style,{zIndex:10,display:"none"}),t.container),t.loadingSpan=f("span",null,i.labelStyle,r),Ge(t,"redraw",o)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(p(r,{opacity:0,display:""}),Ze(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Ze(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){p(t,{display:"none"})}}),this.loadingShown=!1}}),Je(xt.prototype,{update:function(e,t,n,r){function i(){a.applyOptions(e),null===a.y&&l&&(a.graphic=l.destroy()),et(e,!0)&&(a.redraw=function(){l&&l.element&&e&&e.marker&&e.marker.symbol&&(a.graphic=l.destroy()),e&&e.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.redraw=null}),o=a.index,s.updateParallelArrays(a,o),h&&a.name&&(h[a.x]=a.name),u.data[o]=et(u.data[o],!0)?a.options:e,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var o,a=this,s=a.series,l=a.graphic,c=s.chart,u=s.options,h=s.xAxis&&s.xAxis.names,t=nt(t,!0);!1===r?i():a.firePointEvent("update",{options:e},i)},remove:function(e,t){this.series.removePoint(qe(this,this.series.data),e,t)}}),Je(kt.prototype,{addPoint:function(e,t,n,r){var i,o,a,s=this.options,l=this.data,c=this.chart,u=this.xAxis&&this.xAxis.names,h=s.data,p=this.xData;if(P(r,c),t=nt(t,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[e]),a=r.x,o=p.length,this.requireSorting&&a<p[o-1])for(i=!0;o&&p[o-1]>a;)o--;this.updateParallelArrays(r,"splice",o,0,0),this.updateParallelArrays(r,o),u&&r.name&&(u[a]=r.name),h.splice(o,0,e),i&&(this.data.splice(o,0,null),this.processData()),"point"===s.legendType&&this.generatePoints(),n&&(l[0]&&l[0].remove?l[0].remove(!1):(l.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),c.redraw())},removePoint:function(e,t,n){var r=this,i=r.data,o=i[e],a=r.points,s=r.chart,l=function(){a&&a.length===i.length&&a.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(o||{series:r},"splice",e,1),o&&o.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&s.redraw()};P(n,s),t=nt(t,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(e,t){var n=this,r=n.chart;Ke(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),nt(e,!0)&&r.redraw(t)})},update:function(e,t){var n,i=this,o=this.chart,a=this.userOptions,s=this.type,l=ze[s].prototype,c=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==s||void 0!==e.zIndex)&&(c.length=0),He(c,function(e){c[e]=i[e],delete i[e]}),e=r(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(n in l)this[n]=L;Je(this,ze[e.type||s].prototype),He(c,function(e){i[e]=c[e]}),this.init(o,e),o.linkSeries(),nt(t,!0)&&o.redraw(!1)}}),Je(ut.prototype,{update:function(e,t){var n=this.chart,e=n.options[this.coll][this.options.index]=r(this.userOptions,e);this.destroy(!0),this.init(n,Je(e,{events:L})),n.isDirtyBox=!0,nt(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);s(t.axes,this),s(t[n],this),t.options[n].splice(this.options.index,1),He(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,nt(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var _t=d(kt);ze.line=_t,it.area=r(ot,{softThreshold:!1,threshold:0});var Tt=d(kt,{type:"area",singleStacks:!1,getStackPoints:function(){var e,t,n,r=[],i=[],o=this.xAxis,a=this.yAxis,s=a.stacks[this.stackKey],l={},c=this.points,u=this.index,h=a.series,p=h.length,f=nt(a.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(t=0;t<c.length;t++)l[c[t].x]=c[t];for(n in s)null!==s[n].total&&i.push(n);i.sort(function(e,t){return e-t}),e=Ve(h,function(){return this.visible}),He(i,function(n,c){var h,d,m=0;if(l[n]&&!l[n].isNull)r.push(l[n]),He([-1,1],function(r){var o=1===r?"rightNull":"leftNull",a=0,m=s[i[c+r]];if(m)for(t=u;t>=0&&t<p;)h=m.points[t],h||(t===u?l[n][o]=!0:e[t]&&(d=s[n].points[t])&&(a-=d[1]-d[0])),t+=f;l[n][1===r?"rightCliff":"leftCliff"]=a});else{for(t=u;t>=0&&t<p;){if(h=s[n].points[t]){m=h[1];break}t+=f}m=a.toPixels(m,!0),r.push({isNull:!0,plotX:o.toPixels(n,!0),plotY:m,yBottom:m})}})}return r},getGraphPath:function(e){var t,n,r,i,o=kt.prototype.getGraphPath,a=this.options,s=a.stacking,l=this.yAxis,c=[],u=[],h=this.index,p=l.stacks[this.stackKey],f=a.threshold,d=l.getThreshold(a.threshold),a=a.connectNulls||"percent"===s,m=function(t,n,i){var o,a,m=e[t],t=s&&p[m.x].points[h],y=m[i+"Null"]||0,i=m[i+"Cliff"]||0,m=!0;i||y?(o=(y?t[0]:t[1])+i,a=t[0]+i,m=!!y):!s&&e[n]&&e[n].isNull&&(o=a=f),void 0!==o&&(u.push({plotX:r,plotY:null===o?d:l.getThreshold(o),isNull:m}),c.push({plotX:r,plotY:null===a?d:l.getThreshold(a)}))},e=e||this.points;for(s&&(e=this.getStackPoints()),t=0;t<e.length;t++)n=e[t].isNull,r=nt(e[t].rectPlotX,e[t].plotX),i=nt(e[t].yBottom,d),(!n||a)&&(a||m(t,t-1,"left"),n&&!s&&a||(u.push(e[t]),c.push({x:t,plotX:r,plotY:i})),a||m(t,t+1,"right"));return t=o.call(this,u,!0,!0),c.reversed=!0,n=o.call(this,c,!0,!0),n.length&&(n[0]=Fe),n=t.concat(n),o=o.call(this,u,!1,a),n.xMap=t.xMap,this.areaPath=n,o},drawGraph:function(){this.areaPath=[],kt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=[["area",this.color,n.fillColor]];He(this.zones,function(t,i){r.push(["zoneArea"+i,t.color||e.color,t.fillColor||n.fillColor])}),He(r,function(r){var i=r[0],o=e[i];o?(o.endX=t.xMap,o.animate({d:t})):(o={fill:r[2]||r[1],zIndex:0},r[2]||(o["fill-opacity"]=nt(n.fillOpacity,.75)),o=e[i]=e.chart.renderer.path(t).attr(o).add(e.group),o.isArea=!0),o.startX=t.xMap,o.shiftUnit=n.step?2:1})},drawLegendSymbol:lt.drawRectangle});ze.area=Tt,it.spline=r(ot),_t=d(kt,{type:"spline",getPointSpline:function(e,t,n){var r,i,o,a,s=t.plotX,l=t.plotY,c=e[n-1],n=e[n+1];if(c&&!c.isNull&&n&&!n.isNull){e=c.plotY,o=n.plotX;var n=n.plotY,u=0;r=(1.5*s+c.plotX)/2.5,i=(1.5*l+e)/2.5,o=(1.5*s+o)/2.5,a=(1.5*l+n)/2.5,o!==r&&(u=(a-i)*(o-s)/(o-r)+l-a),i+=u,a+=u,i>e&&i>l?(i=pe(e,l),a=2*l-i):i<e&&i<l&&(i=fe(e,l),a=2*l-i),a>n&&a>l?(a=pe(n,l),i=2*l-a):a<n&&a<l&&(a=fe(n,l),i=2*l-a),t.rightContX=o,t.rightContY=a}return t=["C",nt(c.rightContX,c.plotX),nt(c.rightContY,c.plotY),nt(r,s),nt(i,l),s,l],c.rightContX=c.rightContY=null,t}}),ze.spline=_t,it.areaspline=r(it.area),Tt=Tt.prototype,_t=d(_t,{type:"areaspline",getStackPoints:Tt.getStackPoints,getGraphPath:Tt.getGraphPath,setStackCliffs:Tt.setStackCliffs,drawGraph:Tt.drawGraph,drawLegendSymbol:lt.drawRectangle}),ze.areaspline=_t,it.column=r(ot,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),_t=d(kt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){kt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&He(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t=this,n=t.options,r=t.xAxis,i=t.yAxis,o=r.reversed,a={},s=0;!1===n.grouping?s=1:He(t.chart.series,function(n){var r,o=n.options,l=n.yAxis;n.type===t.type&&n.visible&&i.len===l.len&&i.pos===l.pos&&(o.stacking?(e=n.stackKey,a[e]===L&&(a[e]=s++),r=a[e]):!1!==o.grouping&&(r=s++),n.columnIndex=r)});var l=fe(de(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),c=l*n.groupPadding,u=(l-2*c)/s,n=fe(n.maxPointWidth||r.len,nt(n.pointWidth,u*(1-2*n.pointPadding)));return t.columnMetrics={width:n,offset:(u-n)/2+(c+((t.columnIndex||0)+(o?1:0))*u-l/2)*(o?-1:1)},t.columnMetrics},crispCol:function(e,t,n,r){var i=this.chart,o=this.borderWidth,a=-(o%2?.5:0),o=o%2?.5:1;return i.inverted&&i.renderer.isVML&&(o+=1),n=Math.round(e+n)+a,e=Math.round(e)+a,n-=e,r=Math.round(t+r)+o,a=de(t)<=.5&&r>.5,t=Math.round(t)+o,r-=t,a&&r&&(t-=1,r+=1),{x:e,y:t,width:n,height:r}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=nt(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),i=e.yAxis,o=e.translatedThreshold=i.getThreshold(n.threshold),a=nt(n.minPointLength,5),s=e.getColumnMetrics(),l=s.width,c=e.barW=pe(l,1+2*r),u=e.pointXOffset=s.offset;t.inverted&&(o-=.5),n.pointPadding&&(c=he(c)),kt.prototype.translate.apply(e),He(e.points,function(n){var r,s=fe(nt(n.yBottom,o),9e4),h=999+de(s),h=fe(pe(-h,n.plotY),i.len+h),p=n.plotX+u,f=c,d=fe(h,s),m=pe(h,s)-d;de(m)<a&&a&&(m=a,r=!i.reversed&&!n.negative||i.reversed&&n.negative,d=de(d-o)>a?s-a:o-(r?a:0)),n.barX=p,n.pointWidth=l,n.tooltipPos=t.inverted?[i.len+i.pos-t.plotLeft-h,e.xAxis.len-p-f/2,m]:[p+f/2,h+i.pos-t.plotTop,m],n.shapeType="rect",n.shapeArgs=e.crispCol(p,d,f,m)})},getSymbol:De,drawLegendSymbol:lt.drawRectangle,drawGraph:De,drawPoints:function(){var e,t,n=this,i=this.chart,o=n.options,a=i.renderer,s=o.animationLimit||250;He(n.points,function(c){var u,h=c.graphic;tt(c.plotY)&&null!==c.y?(e=c.shapeArgs,u=l(n.borderWidth)?{"stroke-width":n.borderWidth}:{},t=c.pointAttr[c.selected?"select":""]||n.pointAttr[""],h?($e(h),h.attr(u).attr(t)[i.pointCount<s?"animate":"attr"](r(e))):c.graphic=a[c.shapeType](e).attr(u).attr(t).add(c.group||n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):h&&(c.graphic=h.destroy())})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,o={};Ee&&(e?(o.scaleY=.001,e=fe(n.pos+n.len,pe(n.pos,n.toPixels(r.threshold))),i?o.translateX=e-n.len:o.translateY=e,t.group.attr(o)):(o[i?"translateX":"translateY"]=n.pos,t.group.animate(o,Je(E(t.options.animation),{step:function(e,n){t.group.attr({scaleY:pe(.001,n.pos)})}})),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&He(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),kt.prototype.remove.apply(e,arguments)}}),ze.column=_t,it.bar=r(it.column),Tt=d(_t,{type:"bar",inverted:!0}),ze.bar=Tt,it.scatter=r(ot,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Tt=d(kt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&kt.prototype.drawGraph.call(this)}}),ze.scatter=Tt,it.pie=r(ot,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),ot={type:"pie",isCartesian:!1,pointClass:d(xt,{init:function(){xt.prototype.init.apply(this,arguments);var e,t=this;return t.name=nt(t.name,"Slice"),e=function(e){t.slice("select"===e.type)},Ge(t,"select",e),Ge(t,"unselect",e),t},setVisible:function(e,t){var n=this,r=n.series,i=r.chart,o=r.options.ignoreHiddenPoint,t=nt(t,o);e!==n.visible&&(n.visible=n.options.visible=e=e===L?!n.visible:e,r.options.data[qe(n,r.data)]=n.options,He(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),!e&&"hover"===n.state&&n.setState(""),o&&(r.isDirty=!0),t&&i.redraw())},slice:function(e,t,n){var r=this.series;P(n,r.chart),nt(t,!0),this.sliced=this.options.sliced=e=l(e)?e:!this.sliced,r.options.data[qe(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(He(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,n=0,r=this.points,i=r.length,o=this.options.ignoreHiddenPoint;for(e=0;e<i;e++)t=r[e],t.y<0&&(t.y=null),n+=o&&!t.visible?0:t.y;for(this.total=n,e=0;e<i;e++)t=r[e],t.percentage=n>0&&(t.visible||!o)?t.y/n*100:0,t.total=n},generatePoints:function(){kt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,n,r,i,o,a=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,u=s.startAngle||0,h=this.startAngleRad=ge/180*(u-90),u=(this.endAngleRad=ge/180*(nt(s.endAngle,u+360)-90))-h,p=this.points,f=s.dataLabels.distance,s=s.ignoreHiddenPoint,d=p.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n){return r=le.asin(fe((t-e[1])/(e[2]/2+f),1)),e[0]+(n?-1:1)*me(r)*(e[2]/2+f)},i=0;i<d;i++)o=p[i],t=h+a*u,s&&!o.visible||(a+=o.percentage/100),n=h+a*u,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:ce(1e3*t)/1e3,end:ce(1e3*n)/1e3},r=(n+t)/2,r>1.5*ge?r-=2*ge:r<-ge/2&&(r+=2*ge),o.slicedTranslation={translateX:ce(me(r)*l),translateY:ce(ye(r)*l)},t=me(r)*e[2]/2,n=ye(r)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*n],o.half=r<-ge/2||r>ge/2?1:0,o.angle=r,c=fe(c,f/2),o.labelPos=[e[0]+t+me(r)*f,e[1]+n+ye(r)*f,e[0]+t+me(r)*c,e[1]+n+ye(r)*c,e[0]+t,e[1]+n,f<0?"center":o.half?"right":"left",r]},drawGraph:null,drawPoints:function(){var e,t,n,r,i,o,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g("shadow").add(a.group)),He(a.points,function(c){null!==c.y&&(t=c.graphic,i=c.shapeArgs,n=c.shadowGroup,r=c.pointAttr[c.selected?"select":""],r.stroke||(r.stroke=r.fill),l&&!n&&(n=c.shadowGroup=s.g("shadow").add(a.shadowGroup)),e=c.sliced?c.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),t?t.setRadialReference(a.center).attr(r).animate(Je(i,e)):(o={"stroke-linejoin":"round"},c.visible||(o.visibility="hidden"),c.graphic=t=s[c.shapeType](i).setRadialReference(a.center).attr(r).attr(o).attr(e).add(a.group).shadow(l,n)))})},searchPoint:De,sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:lt.drawRectangle,getCenter:wt.getCenter,getSymbol:De},ot=d(kt,ot),ze.pie=ot,kt.prototype.drawDataLabels=function(){var e,t,n,i,o=this,a=o.options,s=a.cursor,c=a.dataLabels,u=o.points,h=o.hasRendered||0,p=nt(c.defer,!0),f=o.chart.renderer;(c.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(c),i=o.plotGroup("dataLabelsGroup","data-labels",p&&!h?"hidden":"visible",c.zIndex||6),p&&(i.attr({opacity:+h}),h||Ge(o,"afterAnimate",function(){o.visible&&i.show(!0),i[a.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=c,He(u,function(u){var h,p,d,m,y=u.dataLabel,b=u.connector,v=!0,w={};if(e=u.dlOptions||u.options&&u.options.dataLabels,h=nt(e&&e.enabled,t.enabled)&&null!==u.y,y&&!h)u.dataLabel=y.destroy();else if(h){if(c=r(t,e),m=c.style,h=c.rotation,p=u.getLabelConfig(),n=c.format?g(c.format,p):c.formatter.call(p,c),m.color=nt(c.color,m.color,o.color,"black"),y)l(n)?(y.attr({text:n}),v=!1):(u.dataLabel=y=y.destroy(),b&&(u.connector=b.destroy()));else if(l(n)){y={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:h,padding:c.padding,zIndex:1},"contrast"===m.color&&(w.color=c.inside||c.distance<0||a.stacking?f.getContrast(u.color||o.color):"#000000"),s&&(w.cursor=s);for(d in y)y[d]===L&&delete y[d];y=u.dataLabel=f[h?"text":"label"](n,0,-9999,c.shape,null,null,c.useHTML).attr(y).css(Je(m,w)).add(i).shadow(c.shadow)}y&&o.alignDataLabel(u,y,c,null,v)}}))},kt.prototype.alignDataLabel=function(e,t,n,r,i){var o=this.chart,a=o.inverted,s=nt(e.plotX,-9999),l=nt(e.plotY,-9999),c=t.getBBox(),u=o.renderer.fontMetrics(n.style.fontSize).b,h=n.rotation,p=n.align,f=this.visible&&(e.series.forceDL||o.isInsidePlot(s,ce(l),a)||r&&o.isInsidePlot(s,a?r.x+1:r.y+r.height-1,a)),d="justify"===nt(n.overflow,"justify");f&&(r=Je({x:a?o.plotWidth-l:s,y:ce(a?o.plotHeight-s:l),width:0,height:0},r),Je(n,{width:c.width,height:c.height}),h?(d=!1,a=o.renderer.rotCorr(u,h),a={x:r.x+n.x+r.width/2+a.x,y:r.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*r.height},t[i?"attr":"animate"](a).attr({align:p}),s=(h+720)%360,s=s>180&&s<360,"left"===p?a.y-=s?c.height:0:"center"===p?(a.x-=c.width/2,a.y-=c.height/2):"right"===p&&(a.x-=c.width,a.y-=s?0:c.height)):(t.align(n,null,r),a=t.alignAttr),d?this.justifyDataLabel(t,n,a,c,r,i):nt(n.crop,!0)&&(f=o.isInsidePlot(a.x,a.y)&&o.isInsidePlot(a.x+c.width,a.y+c.height)),n.shape&&!h&&t.attr({anchorX:e.plotX,anchorY:e.plotY})),f||($e(t),t.attr({y:-9999}),t.placed=!1)},kt.prototype.justifyDataLabel=function(e,t,n,r,i,o){var a,s,l=this.chart,c=t.align,u=t.verticalAlign,h=e.box?0:e.padding||0;a=n.x+h,a<0&&("right"===c?t.align="left":t.x=-a,s=!0),a=n.x+r.width-h,a>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-a,s=!0),a=n.y+h,a<0&&("bottom"===u?t.verticalAlign="top":t.y=-a,s=!0),a=n.y+r.height-h,a>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!o,e.align(t,null,i))},ze.pie&&(ze.pie.prototype.drawDataLabels=function(){var e,t,n,r,i,o,a,s,l,c,u,h=this,p=h.data,f=h.chart,d=h.options.dataLabels,m=nt(d.connectorPadding,10),y=nt(d.connectorWidth,1),g=f.plotWidth,b=f.plotHeight,v=nt(d.softConnector,!0),w=d.distance,x=h.center,_=x[2]/2,T=x[1],S=w>0,P=[[],[]],E=[0,0,0,0],C=function(e,t){return t.y-e.y};if(h.visible&&(d.enabled||h._hasPointLabels)){for(kt.prototype.drawDataLabels.apply(h),He(p,function(e){e.dataLabel&&e.visible&&(P[e.half].push(e),e.dataLabel._pos=null)}),c=2;c--;){var O,A=[],M=[],D=P[c],N=D.length;if(N){for(h.sortByAngle(D,c-.5),u=p=0;!p&&D[u];)p=D[u]&&D[u].dataLabel&&(D[u].dataLabel.getBBox().height||21),u++;if(w>0){for(i=fe(T+_+w,f.plotHeight),u=pe(0,T-_-w);u<=i;u+=p)A.push(u);if(i=A.length,N>i){for(e=[].concat(D),e.sort(C),u=N;u--;)e[u].rank=u;for(u=N;u--;)D[u].rank>=i&&D.splice(u,1);N=D.length}for(u=0;u<N;u++){e=D[u],o=e.labelPos,e=9999;var R,j;for(j=0;j<i;j++)(R=de(A[j]-o[1]))<e&&(e=R,O=j);if(O<u&&null!==A[u])O=u;else for(i<N-u+O&&null!==A[u]&&(O=i-N+u);null===A[O];)O++;M.push({i:O,y:A[O]}),A[O]=null}M.sort(C)}for(u=0;u<N;u++)e=D[u],o=e.labelPos,r=e.dataLabel,l=!1===e.visible?"hidden":"inherit",e=o[1],w>0?(i=M.pop(),O=i.i,s=i.y,(e>s&&null!==A[O+1]||e<s&&null!==A[O-1])&&(s=fe(pe(0,e),f.plotHeight))):s=e,a=d.justify?x[0]+(c?-1:1)*(_+w):h.getX(s===T-_-w||s===T+_+w?e:s,c),r._attr={visibility:l,align:o[6]},r._pos={x:a+d.x+({left:m,right:-m}[o[6]]||0),y:s+d.y-10},r.connX=a,r.connY=s,null===this.options.size&&(i=r.width,a-i<m?E[3]=pe(ce(i-a+m),E[3]):a+i>g-m&&(E[1]=pe(ce(a+i-g+m),E[1])),s-p/2<0?E[0]=pe(ce(p/2-s),E[0]):s+p/2>b&&(E[2]=pe(ce(s+p/2-b),E[2])))}}(0===k(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),S&&y&&He(this.points,function(e){t=e.connector,o=e.labelPos,(r=e.dataLabel)&&r._pos&&e.visible?(l=r._attr.visibility,a=r.connX,s=r.connY,n=v?[Le,a+("left"===o[6]?5:-5),s,"C",a,s,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Fe,o[4],o[5]]:[Le,a+("left"===o[6]?5:-5),s,Fe,o[2],o[3],Fe,o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",l)):e.connector=t=h.chart.renderer.path(n).attr({"stroke-width":y,stroke:d.connectorColor||e.color||"#606060",visibility:l}).add(h.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},ze.pie.prototype.placeDataLabels=function(){He(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-9999}))})},ze.pie.prototype.alignDataLabel=De,ze.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,r=this.options,i=r.center,o=r.minSize||80,a=o;return null!==i[0]?a=pe(n[2]-pe(e[1],e[3]),o):(a=pe(n[2]-e[1]-e[3],o),n[0]+=(e[3]-e[1])/2),null!==i[1]?a=pe(fe(a,n[2]-pe(e[0],e[2])),o):(a=pe(fe(a,n[2]-e[0]-e[2]),o),n[1]+=(e[0]-e[2])/2),a<n[2]?(n[2]=a,n[3]=Math.min(/%$/.test(r.innerSize||0)?a*parseFloat(r.innerSize||0)/100:parseFloat(r.innerSize||0),a),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),ze.column&&(ze.column.prototype.alignDataLabel=function(e,t,n,i,o){var a=this.chart.inverted,s=e.series,l=e.dlBox||e.shapeArgs,c=nt(e.below,e.plotY>nt(this.translatedThreshold,s.yAxis.len)),u=nt(n.inside,!!this.options.stacking);l&&(i=r(l),i.y<0&&(i.height+=i.y,i.y=0),l=i.y+i.height-s.yAxis.len,l>0&&(i.height-=l),a&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),u||(a?(i.x+=c?0:i.width,i.width=0):(i.y+=c?i.height:0,i.height=0))),n.align=nt(n.align,!a||u?"center":c?"right":"left"),n.verticalAlign=nt(n.verticalAlign,a||u?"middle":c?"top":"bottom"),kt.prototype.alignDataLabel.call(this,e,t,n,i,o)}),function(e){var t=e.Chart,n=e.each,r=e.pick,i=e.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var i=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(o,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),i(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,r,i,o,a,s,l,c,u,h=e.length;for(r=0;r<h;r++)(t=e[r])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),r=0;r<h;r++)for(i=e[r],t=r+1;t<h;++t)o=e[t],i&&o&&i.placed&&o.placed&&0!==i.newOpacity&&0!==o.newOpacity&&(a=i.alignAttr,s=o.alignAttr,l=i.parentGroup,c=o.parentGroup,u=2*(i.box?0:i.padding),a=!(s.x+c.translateX>a.x+l.translateX+(i.width-u)||s.x+c.translateX+(o.width-u)<a.x+l.translateX||s.y+c.translateY>a.y+l.translateY+(i.height-u)||s.y+c.translateY+(o.height-u)<a.y+l.translateY))&&((i.labelrank<o.labelrank?i:o).newOpacity=0);n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(ae);var St=ae.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},o=function(e){for(var n,r=e.target;r&&!n;)n=r.point,r=r.parentNode;n!==L&&n!==t.hoverPoint&&n.onMouseOver(e)};He(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(He(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),I)&&e[t].on("touchstart",o)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,o=e.chart,a=o.pointer,s=o.renderer,l=o.options.tooltip.snap,c=e.tracker,u=t.cursor,h=u&&{cursor:u},p=function(){o.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(Ee?1e-4:.002)+")";if(i&&!n)for(u=i+1;u--;)r[u]===Le&&r.splice(u+1,0,r[u+1]-l,r[u+2],Fe),(u&&r[u]===Le||u===i)&&r.splice(u,0,Fe,r[u-2]+l,r[u-1]);c?c.attr({d:r}):(e.tracker=s.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:"none","stroke-width":t.lineWidth+(n?0:2*l),zIndex:2}).add(e.group),He([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){a.onTrackerMouseOut(e)}).css(h),I&&e.on("touchstart",p)}))}};ze.column&&(_t.prototype.drawTracker=St.drawTrackerPoint),ze.pie&&(ze.pie.prototype.drawTracker=St.drawTrackerPoint),ze.scatter&&(Tt.prototype.drawTracker=St.drawTrackerPoint),Je(bt.prototype,{setItemEvents:function(e,t,n,r,i){var o=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Ke(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=f("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Ge(e.checkbox,"click",function(t){Ke(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),z.legend.itemStyle.cursor="pointer",Je(vt.prototype,{showResetZoom:function(){var e=this,t=z.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;Ke(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,r=this.pointer,i=!1;!e||e.resetSelection?He(this.axes,function(e){t=e.zoom()}):He(e.xAxis.concat(e.yAxis),function(e){var n=e.axis,o=n.isXAxis;(r[o?"zoomX":"zoomY"]||r[o?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(i=!0))}),n=this.resetZoomButton,i&&!n?this.showResetZoom():!i&&et(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(nt(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n,r=this,i=r.hoverPoints;i&&He(i,function(e){e.setState()}),He("xy"===t?[1,0]:[1],function(t){var t=r[t?"xAxis":"yAxis"][0],i=t.horiz,o=e[i?"chartX":"chartY"],i=i?"mouseDownX":"mouseDownY",a=r[i],s=(t.pointRange||0)/2,l=t.getExtremes(),c=t.toValue(a-o,!0)+s,s=t.toValue(a+t.len-o,!0)-s,a=a>o;t.series.length&&(a||c>fe(l.dataMin,l.min))&&(!a||s<pe(l.dataMax,l.max))&&(t.setExtremes(c,s,!1,!1,{trigger:"pan"}),n=!0),r[i]=o}),n&&r.redraw(!1),p(r.container,{cursor:"move"})}}),Je(xt.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=nt(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[qe(n,r.data)]=n.options,n.setState(e&&"select"),t||He(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[qe(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,r=n.chart,i=r.tooltip,o=r.hoverPoint;r.hoverSeries!==n&&n.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),!t)&&(r.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==qe(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=r(this.series.options.point,this.options).events;this.events=t;for(e in t)Ge(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e,t){var n,i=ue(this.plotX),o=this.plotY,a=this.series,s=a.options.states,l=it[a.type].marker&&a.options.marker,c=l&&!l.enabled,u=l&&l.states[e],h=u&&!1===u.enabled,p=a.stateMarkerGraphic,f=this.marker||{},d=a.chart,m=a.halo,e=e||"";n=this.pointAttr[e]||a.pointAttr[e],e===this.state&&!t||this.selected&&"select"!==e||s[e]&&!1===s[e].enabled||e&&(h||c&&!1===u.enabled)||e&&f.states&&f.states[e]&&!1===f.states[e].enabled||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(r(n,l?{x:i-l,y:o-l,width:2*l,height:2*l}:{})),p&&p.hide()):(e&&u&&(l=u.radius,f=f.symbol||a.symbol,p&&p.currentSymbol!==f&&(p=p.destroy()),p?p[t?"animate":"attr"]({x:i-l,y:o-l}):f&&(a.stateMarkerGraphic=p=d.renderer.symbol(f,i-l,o-l,2*l,2*l).attr(n).add(a.markerGroup),p.currentSymbol=f)),p&&(p[e&&d.isInsidePlot(i,o,d.inverted)?"show":"hide"](),p.element.point=this)),(i=s[e]&&s[e].halo)&&i.size?(m||(a.halo=m=d.renderer.path().add(d.seriesGroup)),m.attr(Je({fill:this.color||a.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))[t?"animate":"attr"]({d:this.haloPath(i.size)})):m&&m.attr({d:[]}),this.state=e)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted,o=Math.floor(this.plotX);return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:o)-e,r.translateY+(i?t.xAxis.len-o:this.plotY)-e,2*e,2*e)}}),Je(kt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Ke(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&Ke(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,r=t.states,i=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(r[e]&&!1===r[e].enabled)&&(e&&(i=r[e].lineWidth||i+(r[e].lineWidthPlus||0)),n&&!n.dashstyle)))for(e={"stroke-width":i},n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var n,r=this,i=r.chart,o=r.legendItem,a=i.options.chart.ignoreHiddenSeries,s=r.visible;n=(r.visible=e=r.userOptions.visible=e===L?!s:e)?"show":"hide",He(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][n]()}),i.hoverSeries!==r&&(i.hoverPoint&&i.hoverPoint.series)!==r||r.onMouseOut(),o&&i.legend.colorizeItem(r,e),r.isDirty=!0,r.options.stacking&&He(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),He(r.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(i.isDirtyBox=!0),!1!==t&&i.redraw(),Ke(r,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===L?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Ke(this,e?"select":"unselect")},drawTracker:St.drawTrackerGraph}),rt(kt.prototype,"init",function(e){var t;e.apply(this,Array.prototype.slice.call(arguments,1)),(t=this.xAxis)&&t.options.ordinal&&Ge(this,"updatedData",function(){delete t.ordinalIndex})}),rt(ut.prototype,"getTimeTicks",function(e,t,n,r,i,o,a,s){var c,u,h,p,f,d=0,m={},y=[],g=-Number.MAX_VALUE,b=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!o||o.length<3||n===L)return e.call(this,t,n,r,i);for(p=o.length,c=0;c<p;c++){if(f=c&&o[c-1]>r,o[c]<n&&(d=c),c===p-1||o[c+1]-o[c]>5*a||f){if(o[c]>g){for(u=e.call(this,t,o[d],o[c],i);u.length&&u[0]<=g;)u.shift();u.length&&(g=u[u.length-1]),y=y.concat(u)}d=c+1}if(f)break}if(e=u.info,s&&e.unitRange<=q.hour){for(c=y.length-1,d=1;d<c;d++)W("%d",y[d])!==W("%d",y[d-1])&&(m[y[d]]="day",h=!0);h&&(m[y[0]]="day"),e.higherRanks=m}if(y.info=e,s&&l(b)){s=e=y.length,c=[];var v;for(h=[];s--;)d=this.translate(y[s]),v&&(h[s]=v-d),c[s]=v=d;for(h.sort(),h=h[ue(h.length/2)],h<.6*b&&(h=null),s=y[e-1]>r?e-1:e,v=void 0;s--;)d=c[s],r=v-d,v&&r<.8*b&&(null===h||r<.8*h)?(m[y[s]]&&!m[y[s+1]]?(r=s+1,v=d):r=s,y.splice(r,1)):v=d}return y}),Je(ut.prototype,{beforeSetTickPositions:function(){var e,t,n,r=[],i=!1,o=this.getExtremes(),a=o.min,s=o.max,l=this.isXAxis&&!!this.options.breaks;if((o=this.options.ordinal)||l){if(He(this.series,function(t,n){if(!1!==t.visible&&(!1!==t.takeOrdinalPosition||l)&&(r=r.concat(t.processedXData),e=r.length,r.sort(function(e,t){return e-t}),e))for(n=e-1;n--;)r[n]===r[n+1]&&r.splice(n,1)}),(e=r.length)>2){for(t=r[1]-r[0],n=e-1;n--&&!i;)r[n+1]-r[n]!==t&&(i=!0);!this.options.keepOrdinalPadding&&(r[0]-a>t||s-r[r.length-1]>t)&&(i=!0)}i?(this.ordinalPositions=r,t=this.val2lin(pe(a,r[0]),!0),n=pe(this.val2lin(fe(s,r[r.length-1]),!0),1),this.ordinalSlope=s=(s-a)/(n-t),this.ordinalOffset=a-t*s):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=L}this.isOrdinal=o&&i,this.groupIntervalFactor=null},val2lin:function(e,t){var n,r=this.ordinalPositions;if(r){var i,o=r.length;for(n=o;n--;)if(r[n]===e){i=n;break}for(n=o-1;n--;)if(e>r[n]||0===n){r=(e-r[n])/(r[n+1]-r[n]),i=n+r;break}n=t?i:this.ordinalSlope*(i||0)+this.ordinalOffset}else n=e;return n},lin2val:function(e,t){var n=this.ordinalPositions;if(n){var r,i,o=this.ordinalSlope,a=this.ordinalOffset,s=n.length-1;if(t)e<0?e=n[0]:e>s?e=n[s]:(s=ue(e),i=e-s);else for(;s--;)if(r=o*s+a,e>=r){o=o*(s+1)+a,i=(e-r)/(o-r);break}n=i!==L&&n[s]!==L?n[s]+(i?i*(n[s+1]-n[s]):0):e}else n=e;return n},getExtendedPositions:function(){var e,t,n=this.chart,r=this.series[0].currentDataGrouping,i=this.ordinalIndex,o=r?r.count+r.unitName:"raw",a=this.getExtremes();return i||(i=this.ordinalIndex={}),i[o]||(e={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:ut.prototype.val2lin},He(this.series,function(i){t={xAxis:e,xData:i.xData,chart:n,destroyGroupedData:De},t.options={dataGrouping:r?{enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},i.processData.apply(t),e.series.push(t)}),this.beforeSetTickPositions.apply(e),i[o]=e.ordinalPositions),i[o]},getGroupIntervalFactor:function(e,t,n){var r,n=n.processedXData,i=n.length,o=[];if(!(r=this.groupIntervalFactor)){for(r=0;r<i-1;r++)o[r]=n[r+1]-n[r];o.sort(function(e,t){return e-t}),o=o[ue(i/2)],e=pe(e,n[0]),t=fe(t,n[i-1]),this.groupIntervalFactor=r=i*o/(t-e)}return r},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange:e/(t/this.closestPointRange):e}}),rt(vt.prototype,"pan",function(e,t){var n=this.xAxis[0],r=t.chartX,i=!1;if(n.options.ordinal&&n.series.length){var o,a=this.mouseDownX,s=n.getExtremes(),l=s.dataMax,c=s.min,u=s.max,h=this.hoverPoints,f=n.closestPointRange,a=(a-r)/(n.translationSlope*(n.ordinalSlope||f)),d={ordinalPositions:n.getExtendedPositions()},f=n.lin2val,m=n.val2lin;d.ordinalPositions?de(a)>1&&(h&&He(h,function(e){e.setState()}),a<0?(h=d,o=n.ordinalPositions?n:d):(h=n.ordinalPositions?n:d,o=d),d=o.ordinalPositions,l>d[d.length-1]&&d.push(l),this.fixedRange=u-c,a=n.toFixedRange(null,null,f.apply(h,[m.apply(h,[c,!0])+a,!0]),f.apply(o,[m.apply(o,[u,!0])+a,!0])),a.min>=fe(s.dataMin,c)&&a.max<=pe(l,u)&&n.setExtremes(a.min,a.max,!0,!1,{trigger:"pan"}),this.mouseDownX=r,p(this.container,{cursor:"move"})):i=!0}else i=!0;i&&e.apply(this,Array.prototype.slice.call(arguments,1))}),kt.prototype.gappedPath=function(){var e=this.options.gapSize,t=this.points.slice(),n=t.length-1;if(e&&n>0)for(;n--;)t[n+1].x-t[n].x>this.closestPointRange*e&&t.splice(n+1,0,{isNull:!0});return this.getGraphPath(t)},function(e){!function(e){function t(){return Array.prototype.slice.call(arguments,1)}function n(e){e.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,r(this.pointArrayMap,["y"]))}var r=e.pick,i=e.wrap,o=e.each,a=e.extend,s=e.fireEvent,l=e.Axis,c=e.Series;a(l.prototype,{isInBreak:function(e,t){var n=e.repeat||1/0,r=e.from,i=e.to-e.from,n=t>=r?(t-r)%n:n-(r-t)%n;return e.inclusive?n<=i:n<i&&0!==n},isInAnyBreak:function(e,t){var n,i,o,a=this.options.breaks,s=a&&a.length;if(s){for(;s--;)this.isInBreak(a[s],e)&&(n=!0,i||(i=r(a[s].showPoints,!this.isXAxis)));o=n&&t?n&&!i:n}return o}}),i(l.prototype,"setTickPositions",function(e){if(e.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var t,n=this.tickPositions,r=this.tickPositions.info,i=[];for(t=0;t<n.length;t++)this.isInAnyBreak(n[t])||i.push(n[t]);this.tickPositions=i,this.tickPositions.info=r}}),i(l.prototype,"init",function(e,t,n){if(n.breaks&&n.breaks.length&&(n.ordinal=!1),e.call(this,t,n),this.options.breaks){var r=this;r.isBroken=!0,this.val2lin=function(e){var t,n,i=e;for(n=0;n<r.breakArray.length;n++)if(t=r.breakArray[n],t.to<=e)i-=t.len;else{if(t.from>=e)break;if(r.isInBreak(t,e)){i-=e-t.from;break}}return i},this.lin2val=function(e){var t,n;for(n=0;n<r.breakArray.length&&(t=r.breakArray[n],!(t.from>=e));n++)t.to<e?e+=t.len:r.isInBreak(t,e)&&(e+=t.len);return e},this.setExtremes=function(e,t,n,r,i){for(;this.isInAnyBreak(e);)e-=this.closestPointRange;for(;this.isInAnyBreak(t);)t-=this.closestPointRange;l.prototype.setExtremes.call(this,e,t,n,r,i)},this.setAxisTranslation=function(e){l.prototype.setAxisTranslation.call(this,e);var t,n,i,o,a=r.options.breaks,e=[],c=[],u=0,h=r.userMin||r.min,p=r.userMax||r.max;for(o in a)n=a[o],t=n.repeat||1/0,r.isInBreak(n,h)&&(h+=n.to%t-h%t),r.isInBreak(n,p)&&(p-=p%t-n.from%t);for(o in a){for(n=a[o],i=n.from,t=n.repeat||1/0;i-t>h;)i-=t;for(;i<h;)i+=t;for(;i<p;i+=t)e.push({value:i,move:"in"}),e.push({value:i+(n.to-n.from),move:"out",size:n.breakSize})}e.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),a=0,i=h;for(o in e)n=e[o],a+="in"===n.move?1:-1,1===a&&"in"===n.move&&(i=n.value),0===a&&(c.push({from:i,to:n.value,len:n.value-i-(n.size||0)}),u+=n.value-i-(n.size||0));r.breakArray=c,s(r,"afterBreaks"),r.transA*=(p-r.min)/(p-h-u),r.min=h,r.max=p}}}),i(c.prototype,"generatePoints",function(e){e.apply(this,t(arguments));var n,r=this.xAxis,i=this.yAxis,o=this.points,a=o.length,s=this.options.connectNulls;if(r&&i&&(r.options.breaks||i.options.breaks))for(;a--;)n=o[a],null===n.y&&!1===s||!r.isInAnyBreak(n.x,!0)&&!i.isInAnyBreak(n.y,!0)||(o.splice(a,1),this.data[a]&&this.data[a].destroyElements())}),e.Series.prototype.drawBreaks=function(e,t){var n,i,a,l,c=this,u=c.points;o(t,function(t){n=e.breakArray||[],i=e.isXAxis?e.min:r(c.options.threshold,e.min),o(u,function(c){l=r(c["stack"+t.toUpperCase()],c[t]),o(n,function(t){a=!1,i<t.from&&l>t.to||i>t.from&&l<t.from?a="pointBreak":(i<t.from&&l>t.from&&l<t.to||i>t.from&&l>t.to&&l<t.from)&&(a="pointInBreak"),a&&s(e,a,{point:c,brk:t})})})})},i(e.seriesTypes.column.prototype,"drawPoints",n),i(e.Series.prototype,"drawPoints",n)}(ae)}();var Pt=kt.prototype,Et=Pt.processData,Ct=Pt.generatePoints,Ot=Pt.destroy,At={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Mt={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Dt=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Nt={sum:function(e){var t,n=e.length;if(!n&&e.hasNulls)t=null;else if(n)for(t=0;n--;)t+=e[n];return t},average:function(e){var t=e.length,e=Nt.sum(e);return tt(e)&&t&&(e/=t),e},open:function(e){return e.length?e[0]:e.hasNulls?null:L},high:function(e){return e.length?k(e):e.hasNulls?null:L},low:function(e){return e.length?x(e):e.hasNulls?null:L},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:L},ohlc:function(e,t,n,r){if(e=Nt.open(e),t=Nt.high(t),n=Nt.low(n),r=Nt.close(r),tt(e)||tt(t)||tt(n)||tt(r))return[e,t,n,r]},range:function(e,t){if(e=Nt.low(e),t=Nt.high(t),tt(e)||tt(t))return[e,t]}};Pt.groupData=function(e,t,n,r){var i,o,a,s=this.data,l=this.options.data,c=[],u=[],h=[],p=e.length,f=!!t,d=[[],[],[],[]],r="function"==typeof r?r:Nt[r],m=this.pointArrayMap,y=m&&m.length,g=0,b=0;for(a=0;a<=p&&!(e[a]>=n[0]);a++);for(;a<=p;a++){for(;(void 0!==n[g+1]&&e[a]>=n[g+1]||a===p)&&(i=n[g],o=r.apply(0,d),o!==L&&(c.push(i),u.push(o),h.push({start:b,length:d[0].length})),b=a,d[0]=[],d[1]=[],d[2]=[],d[3]=[],g+=1,a!==p););if(a===p)break;if(m){i=this.cropStart+a,i=s&&s[i]||this.pointClass.prototype.applyOptions.apply({series:this},[l[i]]);var v;for(o=0;o<y;o++)v=i[m[o]],tt(v)?d[o].push(v):null===v&&(d[o].hasNulls=!0)}else i=f?t[a]:null,tt(i)?d[0].push(i):null===i&&(d[0].hasNulls=!0)}return[c,u,h]},Pt.processData=function(){var e,t=this.chart,n=this.options.dataGrouping,r=!1!==this.allowDG&&n&&nt(n.enabled,t.options._stock);if(this.forceCrop=r,this.groupPixelWidth=null,this.hasProcessed=!0,!1!==Et.apply(this,arguments)&&r){this.destroyGroupedData();var i=this.processedXData,o=this.processedYData,a=t.plotSizeX,t=this.xAxis,s=t.options.ordinal,c=this.groupPixelWidth=t.getGroupPixelWidth&&t.getGroupPixelWidth();if(c){e=!0,this.points=null;var u=t.getExtremes(),r=u.min,u=u.max,s=s&&t.getGroupIntervalFactor(r,u,this)||1,a=c*(u-r)/a*s,c=t.getTimeTicks(t.normalizeTimeTickInterval(a,n.units||Dt),Math.min(r,i[0]),Math.max(u,i[i.length-1]),t.options.startOfWeek,i,this.closestPointRange),i=Pt.groupData.apply(this,[i,o,c,n.approximation]),o=i[0],s=i[1];if(n.smoothed){for(n=o.length-1,o[n]=Math.min(o[n],u);n--&&n>0;)o[n]+=a/2;o[0]=Math.max(o[0],r)}this.currentDataGrouping=c.info,this.closestPointRange=c.info.totalRange,this.groupMap=i[2],l(o[0])&&o[0]<t.dataMin&&(t.min===t.dataMin&&(t.min=o[0]),t.dataMin=o[0]),this.processedXData=o,this.processedYData=s}else this.currentDataGrouping=this.groupMap=null;this.hasGroupedData=e}},Pt.destroyGroupedData=function(){var e=this.groupedData;He(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)}),this.groupedData=null},Pt.generatePoints=function(){Ct.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},rt(ht.prototype,"tooltipFooterHeaderFormatter",function(e,t,n){var r,i=t.series,o=i.tooltipOptions,a=i.options.dataGrouping,s=o.xDateFormat,l=i.xAxis;return l&&"datetime"===l.options.type&&a&&tt(t.key)?(e=i.currentDataGrouping,a=a.dateTimeLabelFormats,e?(l=a[e.unitName],1===e.count?s=l[0]:(s=l[1],r=l[2])):!s&&a&&(s=this.getXDateFormat(t,o,l)),s=W(s,t.key),r&&(s+=W(r,t.key+e.totalRange-1)),g(o[(n?"footer":"header")+"Format"],{point:Je(t.point,{key:s}),series:i})):e.call(this,t,n)}),Pt.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();Ot.apply(this)},rt(Pt,"setOptions",function(e,t){var n=e.call(this,t),i=this.type,o=this.chart.options.plotOptions,a=it[i].dataGrouping;return Mt[i]&&(a||(a=r(At,Mt[i])),n.dataGrouping=r(a,o.series&&o.series.dataGrouping,o[i].dataGrouping,t.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),rt(ut.prototype,"setScale",function(e){e.call(this),He(this.series,function(e){e.hasProcessed=!1})}),ut.prototype.getGroupPixelWidth=function(){var e,t,n=this.series,r=n.length,i=0,o=!1;for(e=r;e--;)(t=n[e].options.dataGrouping)&&(i=pe(i,t.groupPixelWidth));for(e=r;e--;)(t=n[e].options.dataGrouping)&&n[e].hasProcessed&&(r=(n[e].processedXData||n[e].data).length,(n[e].groupPixelWidth||r>this.chart.plotSizeX/i||r&&t.forced)&&(o=!0));return o?i:0},ut.prototype.setDataGrouping=function(e,t){var n,t=nt(t,!0);if(e||(e={forced:!1,units:null}),this instanceof ut)for(n=this.series.length;n--;)this.series[n].update({dataGrouping:e},!1);else He(this.chart.options.series,function(t){t.dataGrouping=e},!1);t&&this.chart.redraw()},it.ohlc=r(it.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),ot=d(ze.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){ze.column.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,e=e.upColor||this.color,n=r(this.pointAttr),i=this.upColorProp;n[""][i]=e,n.hover[i]=t.hover.upColor||e,n.select[i]=t.select.upColor||e,He(this.points,function(e){e.open<e.close&&!e.options.color&&(e.pointAttr=n)})},translate:function(){var e=this.yAxis;ze.column.prototype.translate.apply(this),He(this.points,function(t){null!==t.open&&(t.plotOpen=e.translate(t.open,0,1,0,1)),null!==t.close&&(t.plotClose=e.translate(t.close,0,1,0,1))})},drawPoints:function(){var e,t,n,r,i,o,a,s,l=this,c=l.chart;He(l.points,function(u){u.plotY!==L&&(a=u.graphic,e=u.pointAttr[u.selected?"selected":""]||l.pointAttr[""],r=e["stroke-width"]%2/2,s=ce(u.plotX)-r,i=ce(u.shapeArgs.width/2),o=["M",s,ce(u.yBottom),"L",s,ce(u.plotY)],null!==u.open&&(t=ce(u.plotOpen)+r,o.push("M",s,t,"L",s-i,t)),null!==u.close&&(n=ce(u.plotClose)+r,o.push("M",s,n,"L",s+i,n)),a?a.attr(e).animate({d:o}):u.graphic=c.renderer.path(o).attr(e).add(l.group))})},animate:null}),ze.ohlc=ot,it.candlestick=r(it.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:it.ohlc.tooltip,threshold:null,upColor:"white"}),ot=d(ot,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){ze.ohlc.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,n=e.upLineColor||e.lineColor,i=t.hover.upLineColor||n,o=t.select.upLineColor||n;He(this.points,function(e){e.open<e.close&&(e.lineColor&&(e.pointAttr=r(e.pointAttr),n=e.lineColor),e.pointAttr[""].stroke=n,e.pointAttr.hover.stroke=i,e.pointAttr.select.stroke=o)})},drawPoints:function(){var e,t,n,r,i,o,a,s,l,c,u,h,p=this,f=p.chart,d=p.pointAttr[""];He(p.points,function(m){c=m.graphic,m.plotY!==L&&(e=m.pointAttr[m.selected?"selected":""]||d,s=e["stroke-width"]%2/2,l=ce(m.plotX)-s,t=m.plotOpen,n=m.plotClose,r=le.min(t,n),i=le.max(t,n),h=ce(m.shapeArgs.width/2),o=ce(r)!==ce(m.plotY),a=i!==m.yBottom,r=ce(r)+s,i=ce(i)+s,u=[],u.push("M",l-h,i,"L",l-h,r,"L",l+h,r,"L",l+h,i,"Z","M",l,r,"L",l,o?ce(m.plotY):r,"M",l,i,"L",l,a?ce(m.yBottom):i),c?c.attr(e).animate({d:u}):m.graphic=f.renderer.path(u).attr(e).add(p.group).shadow(p.options.shadow))})}}),ze.candlestick=ot;var Rt=at.prototype.symbols;it.flags=r(it.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),ze.flags=d(ze.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:kt.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){ze.column.prototype.translate.apply(this);var e,t,n=this.options,r=this.chart,i=this.points,o=i.length-1,a=n.onSeries;e=a&&r.get(a);var s,l,c,n=n.onKey||"y",a=e&&e.options.step,u=e&&e.points,h=u&&u.length,p=this.xAxis,f=p.getExtremes();if(e&&e.visible&&h)for(e=e.currentDataGrouping,l=u[h-1].x+(e?e.totalRange:0),i.sort(function(e,t){return e.x-t.x}),n="plot"+n[0].toUpperCase()+n.substr(1);h--&&i[o]&&(e=i[o],s=u[h],!(s.x<=e.x&&void 0!==s[n]&&(e.x<=l&&(e.plotY=s[n],s.x<e.x&&!a&&(c=u[h+1])&&c[n]!==L&&(e.plotY+=(e.x-s.x)/(c.x-s.x)*(c[n]-s[n]))),o--,h++,o<0))););He(i,function(e,n){var o;e.plotY===L&&(e.x>=f.min&&e.x<=f.max?e.plotY=r.chartHeight-p.bottom-(p.opposite?p.height:0)+p.offset-r.plotTop:e.shapeArgs={}),(t=i[n-1])&&t.plotX===e.plotX&&(t.stackIndex===L&&(t.stackIndex=0),o=t.stackIndex+1),e.stackIndex=o})},drawPoints:function(){var e,t,n,i,o,a,s,l,c,u,h=this.pointAttr[""],p=this.points,f=this.chart,d=f.renderer,m=this.options,y=m.y,g=this.yAxis;for(o=p.length;o--;)a=p[o],e=a.plotX>this.xAxis.len,t=a.plotX,t>0&&(t-=nt(a.lineWidth,m.lineWidth)%2),s=a.stackIndex,i=a.options.shape||m.shape,n=a.plotY,n!==L&&(n=a.plotY+y-(s!==L&&s*m.stackDistance)),l=s?L:a.plotX,c=s?L:a.plotY,s=a.graphic,n!==L&&t>=0&&!e?(e=a.pointAttr[a.selected?"select":""]||h,u=nt(a.options.title,m.title,"A"),s?s.attr({text:u}).attr({x:t,y:n,r:e.r,anchorX:l,anchorY:c}):a.graphic=d.label(u,t,n,i,l,c,m.useHTML).css(r(m.style,a.style)).attr(e).attr({align:"flag"===i?"left":"center",width:m.width,height:m.height}).add(this.markerGroup).shadow(m.shadow),a.tooltipPos=f.inverted?[g.len+g.pos-f.plotLeft-n,this.xAxis.len-t]:[t,n]):s&&(a.graphic=s.destroy())},drawTracker:function(){var e=this.points;St.drawTrackerPoint.apply(this),He(e,function(t){var n=t.graphic;n&&Ge(n.element,"mouseover",function(){t.stackIndex>0&&!t.raised&&(t._y=n.y,n.attr({y:t._y-8}),t.raised=!0),He(e,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:De,buildKDTree:De,setClip:De}),Rt.flag=function(e,t,n,r,i){return["M",i&&i.anchorX||e,i&&i.anchorY||t,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"Z"]},He(["circle","square"],function(e){Rt[e+"pin"]=function(t,n,r,i,o){var a=o&&o.anchorX,o=o&&o.anchorY;return"circle"===e&&i>r&&(t-=ce((i-r)/2),r=i),t=Rt[e](t,n,r,i),a&&o&&t.push("M",a,n>o?n:n+i,"L",a,o),t}}),F===ae.VMLRenderer&&He(["flag","circlepin","squarepin"],function(e){st.prototype.symbols[e]=Rt[e]});var jt={height:Se?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,margin:10,minWidth:6,rifleColor:"#666",zIndex:3,step:.2,trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Ee&&!Se};z.scrollbar=r(!0,jt,z.scrollbar),N.prototype={render:function(){var e,t=this.renderer,n=this.options,r=n.trackBorderWidth,i=n.barBorderWidth,o=this.size;this.group=e=t.g("highcharts-scrollbar").attr({zIndex:n.zIndex,translateY:-99999}).add(),this.track=t.rect().attr({height:o,width:o,y:-r%2/2,x:-r%2/2,"stroke-width":r,fill:n.trackBackgroundColor,stroke:n.trackBorderColor,r:n.trackBorderRadius||0}).add(e),this.scrollbarGroup=t.g().add(e),this.scrollbar=t.rect().attr({height:o,width:o,y:-i%2/2,x:-i%2/2,"stroke-width":i,fill:n.barBackgroundColor,stroke:n.barBorderColor,r:n.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(this.swapXY([Le,-3,o/4,Fe,-3,2*o/3,Le,0,o/4,Fe,0,2*o/3,Le,3,o/4,Fe,3,2*o/3],n.vertical)).attr({stroke:n.rifleColor,"stroke-width":1}).add(this.scrollbarGroup),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(e,t,n,r){var i=this.options,o=i.vertical,a=0,s=this.rendered?"animate":"attr";this.x=e,this.y=t+i.trackBorderWidth,this.width=n,this.xOffset=this.height=r,this.yOffset=a,o?(this.width=this.yOffset=n=a=this.size,this.xOffset=t=0,this.barWidth=r-2*n,this.x=e+=this.options.margin):(this.height=this.xOffset=r=t=this.size,this.barWidth=n-2*r,this.y+=this.options.margin),this.group[s]({translateX:e,translateY:this.y}),this.track[s]({width:n,height:r}),this.scrollbarButtons[1].attr({translateX:o?0:n-t,translateY:o?r-a:0})},drawScrollbarButton:function(e){var t,n=this.renderer,r=this.scrollbarButtons,i=this.options,o=this.size;t=n.g().add(this.group),r.push(t),n.rect(-.5,-.5,o+1,o+1,i.buttonBorderRadius,i.buttonBorderWidth).attr({stroke:i.buttonBorderColor,"stroke-width":i.buttonBorderWidth,fill:i.buttonBackgroundColor}).add(t),n.path(this.swapXY(["M",o/2+(e?-1:1),o/2-3,"L",o/2+(e?-1:1),o/2+3,"L",o/2+(e?2:-2),o/2],i.vertical)).attr({fill:i.buttonArrowColor}).add(t)},swapXY:function(e,t){var n,r,i=e.length;if(t)for(n=0;n<i;n+=3)r=e[n+1],e[n+1]=e[n+2],e[n+2]=r;return e},setRange:function(e,t){var n,r,i,o=this.options,a=o.vertical,s=this.rendered&&!this.hasDragged?"animate":"attr";l(this.barWidth)&&(n=this.barWidth*Math.max(e,0),r=this.barWidth*Math.min(t,1),r=Math.max(S(r-n),o.minWidth),n=Math.floor(n+this.xOffset+this.yOffset),i=r/2-.5,this.from=e,this.to=t,a?(this.scrollbarGroup[s]({translateY:n}),this.scrollbar[s]({height:r}),this.scrollbarRifles[s]({translateY:i}),this.scrollbarTop=n,this.scrollbarLeft=0):(this.scrollbarGroup[s]({translateX:n}),this.scrollbar[s]({width:r}),this.scrollbarRifles[s]({translateX:i}),this.scrollbarLeft=n,this.scrollbarTop=0),r<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===o.showFull&&(e<=0&&t>=1?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var e=this;e.mouseMoveHandler=function(t){var n=e.chart.pointer.normalize(t),r=e.options.vertical?"chartY":"chartX",i=e.initPositions;!e.grabbedCenter||t.touches&&0===t.touches[0][r]||(n={chartX:(n.chartX-e.x-e.xOffset)/e.barWidth,chartY:(n.chartY-e.y-e.yOffset)/e.barWidth}[r],r=e[r],r=n-r,e.hasDragged=!0,e.updatePosition(i[0]+r,i[1]+r),e.hasDragged&&Ke(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},e.mouseUpHandler=function(t){e.hasDragged&&Ke(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),e.grabbedCenter=e.hasDragged=e.chartX=e.chartY=null},e.mouseDownHandler=function(t){t=e.chart.pointer.normalize(t),e.chartX=(t.chartX-e.x-e.xOffset)/e.barWidth,e.chartY=(t.chartY-e.y-e.yOffset)/e.barWidth,e.initPositions=[e.from,e.to],e.grabbedCenter=!0},e.buttonToMinClick=function(t){var n=S(e.to-e.from)*e.options.step;e.updatePosition(S(e.from-n),S(e.to-n)),Ke(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},e.buttonToMaxClick=function(t){var n=(e.to-e.from)*e.options.step;e.updatePosition(e.from+n,e.to+n),Ke(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})},e.trackClick=function(t){var n=e.chart.pointer.normalize(t),r=e.to-e.from,i=e.y+e.scrollbarTop,o=e.x+e.scrollbarLeft;e.options.vertical&&n.chartY>i||!e.options.vertical&&n.chartX>o?e.updatePosition(e.from+r,e.to+r):e.updatePosition(e.from-r,e.to-r),Ke(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})}},updatePosition:function(e,t){t>1&&(e=S(1-S(t-e)),t=1),e<0&&(t=S(t-e),e=0),this.from=e,this.to=t},addEvents:function(){var e=this.options.inverted?[1,0]:[0,1],t=this.scrollbarButtons,n=this.scrollbarGroup.element,r=this.mouseDownHandler,i=this.mouseMoveHandler,o=this.mouseUpHandler,e=[[t[e[0]].element,"click",this.buttonToMinClick],[t[e[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[n,"mousedown",r],[se,"mousemove",i],[se,"mouseup",o]];I&&e.push([n,"touchstart",r],[se,"touchmove",i],[se,"touchend",o]),He(e,function(e){Ge.apply(null,e)}),this._events=e},removeEvents:function(){He(this._events,function(e){Ue.apply(null,e)}),this._events=L},destroy:function(){this.removeEvents(),He([this.track,this.scrollbarRifles,this.scrollbar,this.scrollbarGroup,this.group],function(e){e&&e.destroy&&e.destroy()}),_(this.scrollbarButtons)}},rt(ut.prototype,"init",function(e){var t=this;e.apply(t,[].slice.call(arguments,1)),t.options.scrollbar&&t.options.scrollbar.enabled&&(t.options.scrollbar.vertical=!t.horiz,t.options.startOnTick=t.options.endOnTick=!1,t.scrollbar=new N(t.chart.renderer,t.options.scrollbar,t.chart),Ge(t.scrollbar,"changed",function(e){var n,r=Math.min(nt(t.options.min,t.min),t.min,t.dataMin),i=Math.max(nt(t.options.max,t.max),t.max,t.dataMax)-r;t.horiz&&!t.reversed||!t.horiz&&t.reversed?(n=r+i*this.to,r+=i*this.from):(n=r+i*(1-this.from),r+=i*(1-this.to)),t.setExtremes(r,n,!0,!1,e)}))}),rt(ut.prototype,"render",function(e){var t,n=Math.min(nt(this.options.min,this.min),this.min,this.dataMin),r=Math.max(nt(this.options.max,this.max),this.max,this.dataMax),i=this.scrollbar;e.apply(this,[].slice.call(arguments,1)),i&&(this.horiz?i.position(this.left,this.top+this.height+this.offset+2+(this.opposite?0:this.axisTitleMargin),this.width,this.height):i.position(this.left+this.width+2+this.offset+(this.opposite?this.axisTitleMargin:0),this.top,this.width,this.height),isNaN(n)||isNaN(r)||!l(this.min)||!l(this.max)?i.setRange(0,0):(t=(this.min-n)/(r-n),n=(this.max-n)/(r-n),this.horiz&&!this.reversed||!this.horiz&&this.reversed?i.setRange(t,n):i.setRange(1-n,1-t)))}),rt(ut.prototype,"getOffset",function(e){var t=this.horiz?2:1,n=this.scrollbar;e.apply(this,[].slice.call(arguments,1)),n&&(this.chart.axisOffset[t]+=n.size+n.options.margin)}),rt(ut.prototype,"destroy",function(e){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy()),e.apply(this,[].slice.call(arguments,1))}),ae.Scrollbar=N;var ot=[].concat(Dt),Lt=function(e){var t=Ye(arguments,tt);if(t.length)return Math[e].apply(0,t)};ot[4]=["day",[1,2,3,4]],ot[5]=["week",[1,2,3]],Je(z,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:ze.areaspline===L?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:ot},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:null,lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}}}),R.prototype={drawHandle:function(e,t){var n,r=this.chart.renderer,i=this.elementsToDestroy,o=this.handles,a=this.navigatorOptions.handles,a={fill:a.backgroundColor,stroke:a.borderColor,"stroke-width":1};this.rendered||(o[t]=r.g("navigator-handle-"+["left","right"][t]).css({cursor:"ew-resize"}).attr({zIndex:10-t}).add(),n=r.rect(-4.5,0,9,16,0,1).attr(a).add(o[t]),i.push(n),n=r.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(a).add(o[t]),i.push(n)),o[t][this.rendered&&!this.hasDragged?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),translateY:this.top+this.height/2-8})},render:function(e,t,n,r){var i,o,a,s,c=this.chart,u=c.renderer,h=this.navigatorGroup;s=this.scrollbarHeight;var h=this.xAxis,p=this.navigatorOptions,f=this.height,d=this.top,m=this.navigatorEnabled,y=p.outlineWidth,g=y/2,b=this.outlineHeight,v=d+g,w=this.rendered;tt(e)&&tt(t)&&(!this.hasDragged||l(n))&&(this.navigatorLeft=i=nt(h.left,c.plotLeft+s),this.navigatorWidth=o=nt(h.len,c.plotWidth-2*s),this.scrollerLeft=a=i-s,this.scrollerWidth=s=s=o+2*s,n=nt(n,h.translate(e)),r=nt(r,h.translate(t)),tt(n)&&de(n)!==1/0||(n=0,r=s),h.translate(r,!0)-h.translate(n,!0)<c.xAxis[0].minRange||(this.zoomedMax=fe(pe(n,r,0),o),this.zoomedMin=fe(pe(this.fixedWidth?this.zoomedMax-this.fixedWidth:fe(n,r),0),o),this.range=this.zoomedMax-this.zoomedMin,t=ce(this.zoomedMax),e=ce(this.zoomedMin),!w&&m&&(this.navigatorGroup=h=u.g("navigator").attr({zIndex:3}).add(),this.leftShade=u.rect().attr({fill:p.maskFill}).add(h),p.maskInside?this.leftShade.css({cursor:"ew-resize"}):this.rightShade=u.rect().attr({fill:p.maskFill}).add(h),this.outline=u.path().attr({"stroke-width":y,stroke:p.outlineColor}).add(h)),u=w&&!this.hasDragged?"animate":"attr",m&&(this.leftShade[u](p.maskInside?{x:i+e,y:d,width:t-e,height:f}:{x:i,y:d,width:e,height:f}),this.rightShade&&this.rightShade[u]({x:i+t,y:d,width:o-t,height:f}),this.outline[u]({d:[Le,a,v,Fe,i+e-g,v,i+e-g,v+b,Fe,i+t-g,v+b,Fe,i+t-g,v,a+s,v].concat(p.maskInside?[Le,i+e+g,v,Fe,i+t-g,v]:[])}),this.drawHandle(e+g,0),this.drawHandle(t+g,1)),this.scrollbar&&(this.scrollbar.hasDragged=this.hasDragged,this.scrollbar.position(this.scrollerLeft,this.top+(m?this.height:-this.scrollbarHeight),this.scrollerWidth,this.scrollbarHeight),this.scrollbar.setRange(e/o,t/o)),this.rendered=!0))},addEvents:function(){var e,t=this.chart,n=t.container,r=this.mouseDownHandler,i=this.mouseMoveHandler,o=this.mouseUpHandler;e=[[n,"mousedown",r],[n,"mousemove",i],[se,"mouseup",o]],I&&e.push([n,"touchstart",r],[n,"touchmove",i],[se,"touchend",o]),He(e,function(e){Ge.apply(null,e)}),this._events=e,this.series&&Ge(this.series.xAxis,"foundExtremes",function(){t.scroller.modifyNavigatorAxisExtremes()}),Ge(t,"redraw",function(){var e=this.scroller,t=e&&e.baseSeries&&e.baseSeries.xAxis;t&&e.render(t.min,t.max)})},removeEvents:function(){He(this._events,function(e){Ue.apply(null,e)}),this._events=L,this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){this.navigatorEnabled&&this.baseSeries&&this.baseSeries.xAxis&&!1!==this.navigatorOptions.adaptToUpdatedData&&(Ue(this.baseSeries,"updatedData",this.updatedDataHandler),Ue(this.baseSeries.xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(){var e,t,n,i=this,o=i.chart,a=i.scrollbarHeight,s=i.navigatorOptions,c=i.height,u=i.top,h=i.baseSeries;i.mouseDownHandler=function(t){var r,t=o.pointer.normalize(t),a=i.zoomedMin,s=i.zoomedMax,l=i.top,u=i.scrollerLeft,h=i.scrollerWidth,p=i.navigatorLeft,f=i.navigatorWidth,d=i.scrollbarPad||0,m=i.range,y=t.chartX,g=t.chartY,t=o.xAxis[0],b=Se?10:7;g>l&&g<l+c&&(le.abs(y-a-p)<b?(i.grabbedLeft=!0,i.otherHandlePos=s,i.fixedExtreme=t.max,o.fixedRange=null):le.abs(y-s-p)<b?(i.grabbedRight=!0,i.otherHandlePos=a,i.fixedExtreme=t.min,o.fixedRange=null):y>p+a-d&&y<p+s+d?(i.grabbedCenter=y,i.fixedWidth=m,n=y-a):y>u&&y<u+h&&(s=y-p-m/2,s<0?s=0:s+m>=f&&(s=f-m,r=i.getUnionExtremes().dataMax),s!==a&&(i.fixedWidth=m,a=e.toFixedRange(s,s+m,null,r),t.setExtremes(a.min,a.max,!0,null,{trigger:"navigator"}))))},i.mouseMoveHandler=function(e){var t,r=i.scrollbarHeight,a=i.navigatorLeft,s=i.navigatorWidth,l=i.scrollerLeft,c=i.scrollerWidth,u=i.range;e.touches&&0===e.touches[0].pageX||(e=o.pointer.normalize(e),t=e.chartX,t<a?t=a:t>l+c-r&&(t=l+c-r),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,t-a,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,t-a)):i.grabbedCenter&&(i.hasDragged=!0,t<n?t=n:t>s+n-u&&(t=s+n-u),i.render(0,0,t-n,t-n+u)),i.hasDragged&&i.scrollbar&&i.scrollbar.options.liveRedraw&&(e.DOMType=e.type,setTimeout(function(){i.mouseUpHandler(e)},0)))},i.mouseUpHandler=function(t){var r,a,s=t.DOMEvent||t;(i.hasDragged||"scrollbar"===t.trigger)&&(i.zoomedMin===i.otherHandlePos?r=i.fixedExtreme:i.zoomedMax===i.otherHandlePos&&(a=i.fixedExtreme),i.zoomedMax===i.navigatorWidth&&(a=i.getUnionExtremes().dataMax),r=e.toFixedRange(i.zoomedMin,i.zoomedMax,r,a),l(r.min)&&o.xAxis[0].setExtremes(r.min,r.max,!0,!i.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:s})),"mousemove"!==t.DOMType&&(i.grabbedLeft=i.grabbedRight=i.grabbedCenter=i.fixedWidth=i.fixedExtreme=i.otherHandlePos=i.hasDragged=n=null)};var p=o.xAxis.length,f=o.yAxis.length;o.extraBottomMargin=i.outlineHeight+s.margin,i.navigatorEnabled?(i.xAxis=e=new ut(o,r({breaks:h&&h.xAxis.options.breaks,ordinal:h&&h.xAxis.options.ordinal},s.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:p,height:c,offset:0,offsetLeft:a,offsetRight:-a,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),i.yAxis=t=new ut(o,r(s.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:c,offset:0,index:f,zoomEnabled:!1})),h||s.series.data?i.addBaseSeries():0===o.series.length&&rt(o,"redraw",function(e,t){o.series.length>0&&!i.series&&(i.setBaseSeries(),o.redraw=e),e.call(o,t)})):i.xAxis=e={translate:function(e,t){var n=o.xAxis[0],r=n.getExtremes(),i=o.plotWidth-2*a,s=Lt("min",n.options.min,r.dataMin),n=Lt("max",n.options.max,r.dataMax)-s;return t?e*n/i+s:i*(e-s)/n},toFixedRange:ut.prototype.toFixedRange},o.options.scrollbar.enabled&&(i.scrollbar=new N(o.renderer,r(o.options.scrollbar,{margin:i.navigatorEnabled?0:10}),o),Ge(i.scrollbar,"changed",function(e){var t=i.navigatorWidth,n=t*this.to;t*=this.from,i.hasDragged=i.scrollbar.hasDragged,i.render(0,0,t,n),(o.options.scrollbar.liveRedraw||"mousemove"!==e.DOMType)&&setTimeout(function(){i.mouseUpHandler(e)})})),i.addBaseSeriesEvents(),rt(o,"getMargins",function(n){var r=this.legend,o=r.options;n.apply(this,[].slice.call(arguments,1)),i.top=u=i.navigatorOptions.top||this.chartHeight-i.height-i.scrollbarHeight-this.spacing[2]-("bottom"===o.verticalAlign&&o.enabled&&!o.floating?r.legendHeight+nt(o.margin,10):0),e&&t&&(e.options.top=t.options.top=u,e.setAxisSize(),t.setAxisSize())}),i.addEvents()},getUnionExtremes:function(e){var t,n=this.chart.xAxis[0],r=this.xAxis,i=r.options,o=n.options;return e&&null===n.dataMin||(t={dataMin:nt(i&&i.min,Lt("min",o.min,n.dataMin,r.dataMin,r.min)),dataMax:nt(i&&i.max,Lt("max",o.max,n.dataMax,r.dataMax,r.max))}),t},setBaseSeries:function(e){var t=this.chart,e=e||t.options.navigator.baseSeries;this.series&&(this.removeBaseSeriesEvents(),this.series.remove()),this.baseSeries=t.series[e]||"string"==typeof e&&t.get(e)||t.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e,t=this.baseSeries,n=t?t.options:{},t=n.data,i=this.navigatorOptions.series;e=i.data,this.hasNavigatorData=!!e,n=r(n,i,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0}),n.data=e||t.slice(0),this.series=this.chart.initSeries(n),this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var e=this.baseSeries;e&&e.xAxis&&!1!==this.navigatorOptions.adaptToUpdatedData&&(Ge(e,"updatedData",this.updatedDataHandler),Ge(e.xAxis,"foundExtremes",this.modifyBaseAxisExtremes),e.userOptions.events=Je(e.userOptions.event,{updatedData:this.updatedDataHandler}))},modifyNavigatorAxisExtremes:function(){var e,t=this.xAxis;t.getExtremes&&(e=this.getUnionExtremes(!0))&&(e.dataMin!==t.min||e.dataMax!==t.max)&&(t.min=e.dataMin,t.max=e.dataMax)},modifyBaseAxisExtremes:function(){if(this.chart.scroller.baseSeries&&this.chart.scroller.baseSeries.xAxis){var e,t,n=this.chart.scroller,r=this.getExtremes(),i=r.dataMin,o=r.dataMax,r=r.max-r.min,a=n.stickToMin,s=n.stickToMax,l=n.series,c=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(a&&(t=i,e=t+r),s&&(e=o,a||(t=pe(e-r,l&&l.xData?l.xData[0]:-Number.MAX_VALUE))),!c||!a&&!s||!tt(t))||(this.min=this.userMin=t,this.max=this.userMax=e),n.stickToMin=n.stickToMax=null}},updatedDataHandler:function(){var e=this.chart.scroller,t=e.baseSeries,n=e.series;e.stickToMin=tt(t.xAxis.min)&&t.xAxis.min<=t.xData[0],e.stickToMax=Math.round(e.zoomedMax)>=Math.round(e.navigatorWidth),n&&!e.hasNavigatorData&&(n.options.pointStart=t.xData[0],n.setData(t.options.data,!1,null,!1))},destroy:function(){this.removeEvents(),He([this.scrollbar,this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline],function(e){e&&e.destroy&&e.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=null,He([this.handles,this.elementsToDestroy],function(e){_(e)})}},ae.Navigator=R,rt(ut.prototype,"zoom",function(e,t,n){var r,i=this.chart,o=i.options,a=o.chart.zoomType,s=o.navigator,o=o.rangeSelector;return this.isXAxis&&(s&&s.enabled||o&&o.enabled)&&("x"===a?i.resetZoomButton="blocked":"y"===a?r=!1:"xy"===a&&(i=this.previousZoom,l(t)?this.previousZoom=[this.min,this.max]:i&&(t=i[0],n=i[1],delete this.previousZoom))),r!==L?r:e.call(this,t,n)}),rt(vt.prototype,"init",function(e,t,n){Ge(this,"beforeRender",function(){var e=this.options;(e.navigator.enabled||e.scrollbar.enabled)&&(this.scroller=new R(this))}),e.call(this,t,n)}),rt(kt.prototype,"addPoint",function(e,n,r,i,o){var a=this.options.turboThreshold;a&&this.xData.length>a&&et(n,!0)&&this.chart.scroller&&t(20,!0),e.call(this,n,r,i,o)}),Je(z,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),z.lang=r(z.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),j.prototype={clickButton:function(e,t){var n,r,i,o,a,s=this,l=s.selected,c=s.chart,h=s.buttons,p=s.buttonOptions[e],f=c.xAxis[0],d=c.scroller&&c.scroller.getUnionExtremes()||f||{},m=d.dataMin,y=d.dataMax,g=f&&ce(fe(f.max,nt(y,f.max))),b=p.type,d=p._range,v=p.dataGrouping;if(null!==m&&null!==y&&e!==s.selected){if(c.fixedRange=d,v&&(this.forcedDataGrouping=!0,ut.prototype.setDataGrouping.call(f||{chart:this.chart},v,!1)),"month"===b||"year"===b)f?(b={range:p,max:g,dataMin:m,dataMax:y},n=f.minFromRange.call(b),tt(b.newMax)&&(g=b.newMax)):d=p;else if(d)n=pe(g-d,m),g=fe(n+d,y);else if("ytd"===b){if(!f)return void Ge(c,"beforeRender",function(){s.clickButton(e)});y===L&&(m=Number.MAX_VALUE,y=Number.MIN_VALUE,He(c.series,function(e){e=e.xData,m=fe(e[0],m),y=pe(e[e.length-1],y)}),t=!1),g=new H(y),n=g.getFullYear(),n=i=pe(m||0,H.UTC(n,0,1)),g=g.getTime(),g=fe(y||g,g)}else"all"===b&&f&&(n=m,g=y);h[l]&&h[l].setState(0),h[e]&&(h[e].setState(2),s.lastSelected=e),f?(f.setExtremes(n,g,nt(t,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:p}),s.setSelected(e)):(r=u(c.options.xAxis)[0],a=r.range,r.range=d,o=r.min,r.min=i,s.setSelected(e),Ge(c,"load",function(){r.range=a,r.min=o}))}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var t=this,n=e.options.rangeSelector,r=n.buttons||[].concat(t.defaultButtons),i=n.selected,o=t.blurInputs=function(){var e=t.minInput,n=t.maxInput;e&&e.blur&&Ke(e,"blur"),n&&n.blur&&Ke(n,"blur")};t.chart=e,t.options=n,t.buttons=[],e.extraTopMargin=n.height,t.buttonOptions=r,Ge(e.container,"mousedown",o),Ge(e,"resize",o),He(r,t.computeButtonRange),i!==L&&r[i]&&this.clickButton(i,!1),Ge(e,"load",function(){Ge(e.xAxis[0],"setExtremes",function(n){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==n.trigger&&"updatedData"!==n.trigger&&t.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),Ge(e.xAxis[0],"afterSetExtremes",function(){t.updateButtonStates(!0)})})},updateButtonStates:function(e){var t=this,n=this.chart,r=n.xAxis[0],i=n.scroller&&n.scroller.getUnionExtremes()||r,o=i.dataMin,a=i.dataMax,s=t.selected,l=t.options.allButtonsEnabled,c=t.buttons;e&&n.fixedRange!==ce(r.max-r.min)&&(c[s]&&c[s].setState(0),t.setSelected(null)),He(t.buttonOptions,function(e,i){var u=ce(r.max-r.min),h=e._range,p=e.type,f=e.count||1,d=h>a-o,m=h<r.minRange,y="all"===e.type&&r.max-r.min>=a-o&&2!==c[i].state,g="ytd"===e.type&&W("%Y",o)===W("%Y",a),b=n.renderer.forExport&&i===s,h=h===u,v=!r.hasVisibleSeries;("month"===p||"year"===p)&&u>=864e5*{month:28,year:365}[p]*f&&u<=864e5*{month:31,year:366}[p]*f&&(h=!0),b||h&&i!==s&&i===t.lastSelected?(t.setSelected(i),c[i].setState(2)):!l&&(d||m||y||g||v)?c[i].setState(3):3===c[i].state&&c[i].setState(0)})},computeButtonRange:function(e){var t=e.type,n=e.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};r[t]?e._range=r[t]*n:"month"!==t&&"year"!==t||(e._range=864e5*{month:30,year:365}[t]*n)},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;l(t)&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=W(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:W(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},showInput:function(e){var t=this.inputGroup,n=this[e+"DateBox"];p(this[e+"Input"],{left:t.translateX+n.x+"px",top:t.translateY+"px",width:n.width-2+"px",height:n.height-2+"px",border:"2px solid silver"})},hideInput:function(e){p(this[e+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(e)},drawInput:function(e){function t(){var e=n.value,t=(u.inputDateParser||H.parse)(e),r=s.xAxis[0],o=r.dataMin,l=r.dataMax;t!==n.previousValue&&(n.previousValue=t,tt(t)||(t=e.split("-"),t=H.UTC(i(t[0]),i(t[1])-1,i(t[2]))),tt(t)&&(z.global.useUTC||(t+=6e4*(new H).getTimezoneOffset()),p?t>a.maxInput.HCTime?t=L:t<o&&(t=o):t<a.minInput.HCTime?t=L:t>l&&(t=l),t!==L&&s.xAxis[0].setExtremes(p?t:r.min,p?r.max:t,L,L,{trigger:"rangeSelectorInput"})))}var n,o,a=this,s=a.chart,l=s.renderer.style,c=s.renderer,u=s.options.rangeSelector,h=a.div,p="min"===e,d=this.inputGroup;this[e+"Label"]=o=c.label(z.lang[p?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(r(l,u.labelStyle)).add(d),d.offset+=o.width+5,this[e+"DateBox"]=c=c.label("",d.offset).attr({padding:2,width:u.inputBoxWidth||90,height:u.inputBoxHeight||17,stroke:u.inputBoxBorderColor||"silver","stroke-width":1}).css(r({textAlign:"center",color:"#444"},l,u.inputStyle)).on("click",function(){a.showInput(e),a[e+"Input"].focus()}).add(d),d.offset+=c.width+(p?10:0),this[e+"Input"]=n=f("input",{name:e,className:"highcharts-range-selector",type:"text"},Je({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,left:"-9em",top:s.plotTop+"px"},u.inputStyle),h),n.onfocus=function(){a.showInput(e)},n.onblur=function(){a.hideInput(e)},n.onchange=t,n.onkeypress=function(e){13===e.keyCode&&t()}},getPosition:function(){var e=this.chart,t=e.options.rangeSelector,e=nt((t.buttonPosition||{}).y,e.plotTop-e.axisOffset[0]-t.height);return{buttonTop:e,inputTop:e-10}},render:function(e,t){var n,r=this,i=r.chart,o=i.renderer,a=i.container,s=i.options,c=s.exporting&&!1!==s.exporting.enabled&&s.navigation&&s.navigation.buttonOptions,u=s.rangeSelector,h=r.buttons,s=z.lang,p=r.div,p=r.inputGroup,d=u.buttonTheme,m=u.buttonPosition||{},y=u.inputEnabled,g=d&&d.states,b=i.plotLeft,v=this.getPosition(),w=r.group,x=r.rendered;x||(r.group=w=o.g("range-selector-buttons").add(),r.zoomText=o.text(s.rangeSelectorZoom,nt(m.x,b),15).css(u.labelStyle).add(w),n=nt(m.x,b)+r.zoomText.getBBox().width+5,He(r.buttonOptions,function(e,t){h[t]=o.button(e.text,n,0,function(){r.clickButton(t),r.isActive=!0},d,g&&g.hover,g&&g.select,g&&g.disabled).css({textAlign:"center"}).add(w),n+=h[t].width+nt(u.buttonSpacing,5),r.selected===t&&h[t].setState(2)}),r.updateButtonStates(),!1===y)||(r.div=p=f("div",null,{position:"relative",height:0,zIndex:1}),a.parentNode.insertBefore(p,a),r.inputGroup=p=o.g("input-group").add(),p.offset=0,r.drawInput("min"),r.drawInput("max")),w[x?"animate":"attr"]({translateY:v.buttonTop}),!1!==y&&(p.align(Je({y:v.inputTop,width:p.offset,x:c&&v.inputTop<(c.y||0)+c.height-i.spacing[0]?-40:0},u.inputPosition),!0,i.spacingBox),l(y)||(i=w.getBBox(),p[p.translateX<i.x+i.width+10?"hide":"show"]()),r.setInputValue("min",e),r.setInputValue("max",t)),r.rendered=!0},destroy:function(){var e,t=this.minInput,n=this.maxInput,r=this.chart,i=this.blurInputs;Ue(r.container,"mousedown",i),Ue(r,"resize",i),_(this.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null);for(e in this)this[e]&&"chart"!==e&&(this[e].destroy?this[e].destroy():this[e].nodeType&&T(this[e])),this[e]=null}},ut.prototype.toFixedRange=function(e,t,n,r){var i=this.chart&&this.chart.fixedRange,e=nt(n,this.translate(e,!0)),t=nt(r,this.translate(t,!0)),n=i&&(t-e)/i;return n>.7&&n<1.3&&(r?e=t-i:t=e+i),tt(e)||(e=t=void 0),{min:e,max:t}},ut.prototype.minFromRange=function(){var e,t,n,r=this.range,i={month:"Month",year:"FullYear"}[r.type],o=this.max,a=function(e,t){var n=new H(e);return n["set"+i](n["get"+i]()+t),n.getTime()-e};return tt(r)?(e=this.max-r,n=r):e=o+a(o,-r.count),t=nt(this.dataMin,Number.MIN_VALUE),tt(e)||(e=t),e<=t&&(e=t,void 0===n&&(n=a(e,r.count)),this.newMax=fe(e+n,this.dataMax)),tt(o)||(e=void 0),e},rt(vt.prototype,"init",function(e,t,n){Ge(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new j(this))}),e.call(this,t,n)}),ae.RangeSelector=j,vt.prototype.callbacks.push(function(e){function t(){r=e.xAxis[0].getExtremes(),tt(r.min)&&o.render(r.min,r.max)}function n(e){o.render(e.min,e.max)}var r,i=e.scroller,o=e.rangeSelector;i&&(r=e.xAxis[0].getExtremes(),i.render(r.min,r.max)),o&&(Ge(e.xAxis[0],"afterSetExtremes",n),Ge(e,"resize",t),t()),Ge(e,"destroy",function(){o&&(Ue(e,"resize",t),Ue(e.xAxis[0],"afterSetExtremes",n))})}),ae.StockChart=ae.stockChart=function(e,t,n){var i,a=o(e)||e.nodeName,s=arguments[a?1:0],l=s.series,c=nt(s.navigator&&s.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,h={marker:{enabled:!1,radius:2}},p={shadow:!1,borderWidth:0};return s.xAxis=Ve(u(s.xAxis||{}),function(e){return r({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},c)}),s.yAxis=Ve(u(s.yAxis||{}),function(e){return i=nt(e.opposite,!0),r({labels:{y:-2},opposite:i,showLastLabel:!1,title:{text:null}},e)}),s.series=null,s=r({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:h,spline:h,area:h,areaspline:h,arearange:h,areasplinerange:h,column:p,columnrange:p,candlestick:p,ohlc:p}},s,{_stock:!0,chart:{inverted:!1}}),s.series=l,a?new vt(e,s,n):new vt(s,t)},rt(ft.prototype,"init",function(e,t,n){var r=n.chart.pinchType||"";e.call(this,t,n),this.pinchX=this.pinchHor=-1!==r.indexOf("x"),this.pinchY=this.pinchVert=-1!==r.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),rt(ut.prototype,"autoLabelAlign",function(e){var t=this.chart,n=this.options,t=t._labelPanes=t._labelPanes||{},r=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(n=n.top+","+n.height,!t[n]&&r.enabled)?(15===r.x&&(r.x=0),void 0===r.align&&(r.align="right"),t[n]=1,"right"):e.call(this,[].slice.call(arguments,1))}),rt(ut.prototype,"getPlotLinePath",function(e,t,n,r,i,o){var a,s,c,u,h,p,f=this,d=this.isLinked&&!this.series?this.linkedParent.series:this.series,m=f.chart,y=m.renderer,g=f.left,b=f.top,v=[],w=[];return"colorAxis"===f.coll?e.apply(this,[].slice.call(arguments,1)):(w=f.isXAxis?l(f.options.yAxis)?[m.yAxis[f.options.yAxis]]:Ve(d,function(e){return e.yAxis}):l(f.options.xAxis)?[m.xAxis[f.options.xAxis]]:Ve(d,function(e){return e.xAxis}),He(f.isXAxis?m.yAxis:m.xAxis,function(e){if(l(e.options.id)?-1===e.options.id.indexOf("navigator"):1){var t=e.isXAxis?"yAxis":"xAxis",t=l(e.options[t])?m[t][e.options[t]]:m[t][0];f===t&&w.push(e)}}),h=w.length?[]:[f.isXAxis?m.yAxis[0]:m.xAxis[0]],He(w,function(e){-1===qe(e,h)&&h.push(e)}),p=nt(o,f.translate(t,null,null,r)),tt(p)&&(f.horiz?He(h,function(e){var t;s=e.pos,u=s+e.len,a=c=ce(p+f.transB),(a<g||a>g+f.width)&&(i?a=c=fe(pe(g,a),g+f.width):t=!0),t||v.push("M",a,s,"L",c,u)}):He(h,function(e){var t;a=e.pos,c=a+e.len,s=u=ce(b+f.height-p),(s<b||s>b+f.height)&&(i?s=u=fe(pe(b,s),f.top+f.height):t=!0),t||v.push("M",a,s,"L",c,u)})),v.length>0?y.crispPolyLine(v,n||1):null)}),ut.prototype.getPlotBandPath=function(e,t){var n,r=this.getPlotLinePath(t,null,null,!0),i=this.getPlotLinePath(e,null,null,!0),o=[];if(i&&r&&i.toString()!==r.toString())for(n=0;n<i.length;n+=6)o.push("M",i[n+1],i[n+2],"L",i[n+4],i[n+5],r[n+4],r[n+5],r[n+1],r[n+2]);else o=null;return o},at.prototype.crispPolyLine=function(e,t){var n;for(n=0;n<e.length;n+=6)e[n+1]===e[n+4]&&(e[n+1]=e[n+4]=ce(e[n+1])-t%2/2),e[n+2]===e[n+5]&&(e[n+2]=e[n+5]=ce(e[n+2])+t%2/2);return e},F===ae.VMLRenderer&&(st.prototype.crispPolyLine=at.prototype.crispPolyLine),rt(ut.prototype,"hideCrosshair",function(e,t){e.call(this,t),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),rt(ut.prototype,"drawCrosshair",function(e,t,n){var r,i;if(e.call(this,t,n),l(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var o,e=this.chart,a=this.options.crosshair.label,s=this.horiz,c=this.opposite,u=this.left,h=this.top,p=this.crossLabel,f=a.format,d="",m="inside"===this.options.tickPosition,y=!1!==this.crosshair.snap;t||(t=this.cross&&this.cross.e),o=s?"center":c?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",p||(p=this.crossLabel=e.renderer.label(null,null,null,a.shape||"callout").attr({align:a.align||o,zIndex:12,fill:a.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:nt(a.padding,8),stroke:a.borderColor||"","stroke-width":a.borderWidth||0,r:nt(a.borderRadius,3)}).css(Je({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},a.style)).add()),s?(o=y?n.plotX+u:t.chartX,h+=c?0:this.height):(o=c?this.width+u:0,h=y?n.plotY+h:t.chartY),!f&&!a.formatter&&(this.isDatetimeAxis&&(d="%b %d, %Y"),f="{value"+(d?":"+d:"")+"}"),t=y?n[this.isXAxis?"x":"y"]:this.toValue(s?t.chartX:t.chartY),p.attr({text:f?g(f,{value:t}):a.formatter.call(this,t),anchorX:s?o:this.opposite?0:e.chartWidth,anchorY:s?this.opposite?e.chartHeight:0:h,x:o,y:h,visibility:"visible"}),t=p.getBBox(),s?(m&&!c||!m&&c)&&(h=p.y-t.height):h=p.y-t.height/2,s?(r=u-t.x,i=u+this.width-t.x):(r="left"===this.labelAlign?u:0,i="right"===this.labelAlign?u+this.width:e.chartWidth),p.translateX<r&&(o+=r-p.translateX),p.translateX+t.width>=i&&(o-=p.translateX+t.width-i),p.attr({x:o,y:h,visibility:"visible"})}});var Ft=Pt.init,It=Pt.processData,Bt=xt.prototype.tooltipFormatter;return Pt.init=function(){Ft.apply(this,arguments),this.setCompare(this.options.compare)},Pt.setCompare=function(e){this.modifyValue="value"===e||"percent"===e?function(t,n){var r=this.compareValue;return t!==L&&(t="value"===e?t-r:t=t/r*100-100,n)&&(n.change=t),t}:null,this.userOptions.compare=e,this.chart.hasRendered&&(this.isDirty=!0)},Pt.processData=function(){var e,t,n,r,i,o=-1;if(It.apply(this,arguments),this.xAxis&&this.processedYData)for(t=this.processedXData,n=this.processedYData,r=n.length,this.pointArrayMap&&(o=qe(this.pointValKey||"y",this.pointArrayMap)),e=0;e<r-1;e++)if(i=o>-1?n[e][o]:n[e],tt(i)&&t[e+1]>=this.xAxis.min&&0!==i){this.compareValue=i;break}},rt(Pt,"getExtremes",function(e){var t;e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(t=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=x(t),this.dataMax=k(t))}),ut.prototype.setCompare=function(e,t){this.isXAxis||(He(this.series,function(t){t.setCompare(e)}),nt(t,!0)&&this.chart.redraw())},xt.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(this.change>0?"+":"")+ae.numberFormat(this.change,nt(this.series.tooltipOptions.changeDecimals,2))),Bt.apply(this,[e])},rt(kt.prototype,"render",function(e){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=r(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&($e(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),e.call(this)}),Je(ae,{Color:O,Point:xt,Tick:M,Renderer:F,SVGElement:A,SVGRenderer:at,arrayMin:x,arrayMax:k,charts:Ne,correctFloat:S,dateFormat:W,error:t,format:g,pathAnim:void 0,getOptions:function(){return z},hasBidiBug:Ce,isTouchDevice:Se,setOptions:function(e){return z=r(!0,z,e),C(),z},addEvent:Ge,removeEvent:Ue,createElement:f,discardElement:T,css:p,each:He,map:Ve,merge:r,splat:u,stableSort:w,extendClass:d,pInt:i,svg:Ee,canvas:Oe,vml:!Ee&&!Oe,product:"Highstock",version:"4.2.6"}),ae})},1214:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(125),c=(n.n(l),n(35)),u=n.n(c),h=n(127),p=n(109),f=n.n(p),d=n(22),m=n.n(d),y=n(40),g=n(41),b=n(107),v=n(19),w=n(48),x=n.n(w),k=n(1163),_=n(1160),T=n(252),S=n(34),P=n(172),E=n(23),C=n.n(E),O=n(382),A=n(27),M=n.n(A),D=n(7),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=new T.a,j=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n}return o(t,e),N(t,[{key:"_initialState",value:function(e){var t=e?this._getCurrentPosition(e):{};if(t.collateral){var n=v.a.get_asset_amount(t.debt,e.quote_asset),r=v.a.get_asset_amount(t.collateral,e.backing_asset);return{short_amount:n?n.toString():null,collateral:r?r.toString():null,collateral_ratio:this._getCollateralRatio(n,r),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:n,collateral:r}}}return{short_amount:0,collateral:0,collateral_ratio:this._getInitialCollateralRatio(e),errors:this._getInitialErrors(),isValid:!1,original_position:{debt:0,collateral:0}}}},{key:"componentDidMount",value:function(){var e=this._initialState(this.props);this.setState(e),this._setUpdatedPosition(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(v.a.are_equal_shallow(t,this.state)&&M.a.is(e.quote_asset,this.props.quote_asset)&&!e.backing_asset.get("symbol")!==this.props.backing_asset.get("symbol")&&M.a.is(e.account,this.props.account)&&M.a.is(e.call_orders,this.props.call_orders))}},{key:"componentWillReceiveProps",value:function(e){e.account===this.props.account&&e.hasCallOrders===this.props.hasCallOrders&&e.quote_asset.get("id")===this.props.quote_asset.get("id")||this.setState(this._initialState(e))}},{key:"_getInitialErrors",value:function(){return{collateral_balance:null,ratio_too_high:null}}},{key:"confirmClicked",value:function(e){e.preventDefault(),u.a.publish(this.props.modalId,"close")}},{key:"_onBorrowChange",value:function(e){var t=this._getFeedPrice(),n=e.amount.replace(/,/g,""),r={short_amount:n,collateral:(this.state.collateral_ratio*(n/t)).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:this.state.collateral_ratio};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_onCollateralChange",value:function(e){var t=e.amount.replace(/,/g,""),n=this._getFeedPrice(),r=t/(this.state.short_amount/n),i=this._isPredictionMarket(this.props)?{short_amount:t,collateral:t,collateral_ratio:1}:{short_amount:this.state.short_amount,collateral:t,collateral_ratio:Object(l.isFinite)(r)?r:this._getInitialCollateralRatio(this.props)};this.setState(i),this._validateFields(i),this._setUpdatedPosition(i)}},{key:"_onRatioChange",value:function(e){var t=this._getFeedPrice(),n=e.target.value,r={short_amount:this.state.short_amount,collateral:(this.state.short_amount/t*n).toFixed(this.props.backing_asset.get("precision")),collateral_ratio:n};this.setState(r),this._validateFields(r),this._setUpdatedPosition(r)}},{key:"_setUpdatedPosition",value:function(e){this.setState({newPosition:parseFloat(e.short_amount)/parseFloat(e.collateral)})}},{key:"_validateFields",value:function(e){var t=this._getInitialErrors(),n=this.state.original_position,r=this.props.backing_balance?this.props.backing_balance.toJS():{balance:0};parseFloat(e.collateral)-n.collateral>v.a.get_asset_amount(r.balance,this.props.backing_asset.toJS())&&(t.collateral_balance=C.a.translate("borrow.errors.collateral"));var i=e.short_amount>=0&&e.collateral>=0&&(e.short_amount!=n.debt||e.collateral!=n.collateral),o=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3;parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o)?(t.below_maintenance=C.a.translate("borrow.errors.below",{mr:o}),i=!1):parseFloat(e.collateral_ratio)<(this._isPredictionMarket(this.props)?1:o+.5)&&(t.close_maintenance=C.a.translate("borrow.errors.close",{mr:o}),i=!0),this.setState({errors:t,isValid:i})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=v.a.get_asset_precision(this.props.quote_asset.get("precision")),n=v.a.get_asset_precision(this.props.backing_asset.get("precision")),r=this._getCurrentPosition(this.props),i=R.new_transaction();i.add_type_operation("call_order_update",{fee:{amount:0,asset_id:0},funding_account:this.props.account.get("id"),delta_collateral:{amount:parseInt(this.state.collateral*n-r.collateral,10),asset_id:this.props.backing_asset.get("id")},delta_debt:{amount:parseInt(this.state.short_amount*t-r.debt,10),asset_id:this.props.quote_asset.get("id")}}),S.a.process_transaction(i,null,!0).catch(function(e){}),u.a.publish(this.props.modalId,"close")}},{key:"_getCurrentPosition",value:function(e){var t={collateral:null,debt:null};if(e&&e.hasCallOrders&&e.call_orders)for(var n in e.call_orders)e.call_orders.hasOwnProperty(n)&&e.call_orders[n]&&e.quote_asset.get("id")===e.call_orders[n].getIn(["call_price","quote","asset_id"])&&(t=e.call_orders[n].toJS());return t}},{key:"_getFeedPrice",value:function(){return this.props?this._isPredictionMarket(this.props)?1:1/v.a.get_asset_price(this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","quote","amount"]),this.props.backing_asset,this.props.quote_asset.getIn(["bitasset","current_feed","settlement_price","base","amount"]),this.props.quote_asset):1}},{key:"_getInitialCollateralRatio",value:function(e){return this._isPredictionMarket(e)?1:0}},{key:"_getCollateralRatio",value:function(e,t){return t/(e/this._getFeedPrice())}},{key:"_isPredictionMarket",value:function(e){return e.quote_asset.getIn(["bitasset","is_prediction_market"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote_asset,r=t.bitasset_balance,i=t.backing_asset,o=t.backing_balance,a=this.state,l=a.short_amount,c=a.collateral,u=a.collateral_ratio,h=a.errors,p=a.isValid,d=v.a.get_asset_precision(this.props.quote_asset.get("precision")),y=v.a.get_asset_precision(this.props.backing_asset.get("precision"));u&&!isNaN(u)&&u>0&&u<1e3||(u=0),r=r?r.toJS():{balance:0,id:null},o=o?o.toJS():{balance:0,id:null};var g=x()("form-group",{"has-error":h.collateral_balance}),w=x()("form-group",{"has-error":h.below_maintenance},{"has-warning":h.close_maintenance}),T=x()("button",{disabled:h.collateral_balance||!p},{success:p}),S=this._getCurrentPosition(this.props),E=o.id?D.b.getObject(o.id):null,C=E?E.get("balance"):0,A=parseInt(this.state.collateral*y-S.collateral,10),M=C-A,N=s.a.createElement("span",null,s.a.createElement(m.a,{component:"span",content:"transfer.available"}),": ",r.id?s.a.createElement(_.a,{balance:r.id}):s.a.createElement(b.a,{amount:0,asset:n.get("id")})),R=s.a.createElement("span",null,s.a.createElement(m.a,{component:"span",content:"transfer.available"}),": ",o.id?s.a.createElement(b.a,{amount:M,asset:i.get("id")}):s.a.createElement(b.a,{amount:0,asset:i.get("id")})),j=this._getFeedPrice(),L=this.props.quote_asset.getIn(["bitasset","current_feed","maintenance_collateral_ratio"])/1e3,F=(this.props.quote_asset.getIn(["bitasset","current_feed","maximum_short_squeeze_ratio"]),this._isPredictionMarket(this.props));return!F&&isNaN(j)?s.a.createElement("div",null,s.a.createElement("form",{className:"grid-container text-center no-overflow",noValidate:!0},s.a.createElement(m.a,{component:"h3",content:"borrow.no_valid",asset_symbol:n.get("symbol")})),s.a.createElement("div",{className:"grid-content button-group text-center no-overflow"},s.a.createElement(f.a,{close:this.props.modalId},s.a.createElement("div",{className:" button warning"},s.a.createElement(m.a,{content:"account.perm.cancel"}))))):s.a.createElement("div",null,s.a.createElement("form",{className:"grid-container small-10 small-offset-1 no-overflow",noValidate:!0},s.a.createElement(m.a,{component:"h3",content:"borrow.title",asset_symbol:n.get("symbol")}),s.a.createElement("div",{style:{textAlign:"left"}},this.props.hide_help?null:s.a.createElement(O.a,{path:"components/"+(F?"BorrowModalPrediction":"BorrowModal"),debt:n.get("symbol"),collateral:i.get("symbol"),borrower:this.props.account.get("name"),mr:L}),F?null:s.a.createElement("div",{style:{paddingBottom:"1rem"}},s.a.createElement("div",{className:"borrow-price-feeds"},s.a.createElement("span",{className:"borrow-price-label"},s.a.createElement(m.a,{content:"transaction.feed_price"}),": "),s.a.createElement(P.a,{decimals:2,noPopOver:!0,quote_amount:n.getIn(["bitasset","current_feed","settlement_price","base","amount"]),quote_asset:n.getIn(["bitasset","current_feed","settlement_price","base","asset_id"]),base_asset:n.getIn(["bitasset","current_feed","settlement_price","quote","asset_id"]),base_amount:n.getIn(["bitasset","current_feed","settlement_price","quote","amount"])})),s.a.createElement("b",null),s.a.createElement("div",{className:"borrow-price-final "+(h.below_maintenance?"has-error":h.close_maintenance?"has-warning":"")},s.a.createElement("span",{className:"borrow-price-label"},s.a.createElement(m.a,{content:"exchange.your_price"}),": "),this.state.newPosition?s.a.createElement(P.a,{decimals:2,noPopOver:!0,quote_amount:L*this.state.short_amount*d,quote_asset:n.get("id"),base_asset:i.get("id"),base_amount:this.state.collateral*y}):null)),s.a.createElement("div",{className:"form-group"},s.a.createElement(k.a,{label:"transaction.borrow_amount",amount:l.toString(),onChange:this._onBorrowChange.bind(this),asset:n.get("id"),assets:[n.get("id")],display_balance:N,placeholder:"0.0",tabIndex:1})),s.a.createElement("div",{className:g},s.a.createElement(k.a,{label:"transaction.collateral",amount:c.toString(),onChange:this._onCollateralChange.bind(this),asset:i.get("id"),assets:[i.get("id")],display_balance:R,placeholder:"0.0",tabIndex:1}),h.collateral_balance?s.a.createElement("div",{style:{paddingTop:"0.5rem"}},h.collateral_balance):null),F?null:s.a.createElement("div",{className:w},s.a.createElement(m.a,{component:"label",content:"borrow.coll_ratio"}),s.a.createElement("input",{min:"0",max:"6",step:"0.05",onChange:this._onRatioChange.bind(this),value:u,type:"range",disabled:!l}),s.a.createElement("div",{className:"inline-block"},v.a.format_number(u,2)),h.below_maintenance||h.close_maintenance?s.a.createElement("div",{style:{maxWidth:"calc(100% - 50px)"},className:"float-right"},h.below_maintenance,h.close_maintenance):null),s.a.createElement("div",{className:"no-padding grid-content button-group no-overflow"},s.a.createElement("div",{onClick:this._onSubmit.bind(this),href:!0,className:T},s.a.createElement(m.a,{content:"borrow.adjust"})),s.a.createElement("div",{onClick:function(t){t.preventDefault(),e.setState(e._initialState(e.props))},href:!0,className:"button info"},s.a.createElement(m.a,{content:"wallet.reset"}))))))}}]),t}(s.a.Component);j.propTypes={quote_asset:y.a.ChainAsset.isRequired,bitasset_balance:y.a.ChainObject,backing_asset:y.a.ChainAsset.isRequired,backing_balance:y.a.ChainObject,call_orders:y.a.ChainObjectsList,hasCallOrders:a.PropTypes.bool},j=Object(g.a)(j,{keep_updating:!0});var L=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={smallScreen:!1},e}return o(t,e),N(t,[{key:"show",value:function(){var e="borrow_modal_"+this.props.quote_asset;u.a.publish(e,"open")}},{key:"componentWillMount",value:function(){this.setState({smallScreen:window.innerHeight<=800})}},{key:"render",value:function(){var e=this.props,t=e.quote_asset,n=e.backing_asset,r=e.account,i="borrow_modal_"+t,o=r.get("balances").toJS(),a=void 0,l=void 0;if(o)for(var c in o)c===n&&(a=o[c]),c===t&&(l=o[c]);return s.a.createElement(h.a,{id:i,overlay:!0,ref:i},s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement(j,{quote_asset:t,call_orders:r.get("call_orders"),hasCallOrders:r.get("call_orders")&&r.get("call_orders").size>0,modalId:i,bitasset_balance:l,backing_balance:a,backing_asset:n,hide_help:this.state.smallScreen,account:r})))}}]),t}(s.a.Component);t.a=L},1221:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(1),f=n.n(p),d=n(27),m=n.n(d),y=n(1159),g=n.n(y),b=n(19),v=n(22),w=n.n(v),x=n(74),k=n(107),_=n(40),T=n(41),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),S(t,[{key:"render",value:function(){return this.props.account?f.a.createElement("span",null,this.props.account.get("name")):null}}]),t}(f.a.Component);P.propTypes={account:_.a.ChainObject.isRequired},P.defaultProps={autosubscribe:!1};var E=Object(T.a)(P),C=n(75),O=n(253),A=n(49),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e}return l(t,e),M(t,[{key:"_onClick",value:function(e){"/market/"+e!==this.context.router.location.pathname&&(O.a.switchMarket(),this.context.router.push("/market/"+e))}},{key:"componentDidMount",value:function(){O.a.getMarketStats.defer(this.props.base,this.props.quote),this.statsChecked=new Date,this.statsInterval=setInterval(O.a.getMarketStats.bind(this,this.props.base,this.props.quote),35e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"shouldComponentUpdate",value:function(e){return!b.a.are_equal_shallow(e,this.props)}},{key:"_onStar",value:function(e,t,n){n.preventDefault(),this.props.starred?A.a.removeStarMarket(e,t):A.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.quote,r=t.base,i=(t.noSymbols,t.stats),o=t.starred;if(!n||!r)return null;var a=n.get("symbol")+"_"+r.get("symbol"),s=n.get("symbol")+":"+r.get("symbol"),l=n.get("dynamic"),c=r.get("dynamic"),u=b.a.convertPrice(n,r),h={};this.props.leftAlign&&(h.textAlign="left");var p="button outline",d=null;this.props.compact&&(p+=" no-margin",d={marginBottom:0,fontSize:"0.75rem",padding:"4px 10px",borderRadius:"0px",letterSpacing:"0.05rem"});var m=this.props.columns.map(function(t){switch(t.name){case"star":var h=o?"gold-star":"grey-star";return f.a.createElement("td",{onClick:e._onStar.bind(e,n.get("symbol"),r.get("symbol")),key:t.index},f.a.createElement(C.a,{className:h,name:"fi-star"}));case"vol":var m=i?i.volumeBase:0;return f.a.createElement("td",{onClick:e._onClick.bind(e,a),className:"text-right",key:t.index},b.a.format_volume(m));case"change":var y=b.a.format_number(i&&i.change?i.change:0,2),g="0.00"===y?"":y>0?"change-up":"change-down";return f.a.createElement("td",{onClick:e._onClick.bind(e,a),className:"text-right "+g,key:t.index},y+"%");case"marketName":return f.a.createElement("td",{onClick:e._onClick.bind(e,a),key:t.index},f.a.createElement("div",{className:p,style:d},s));case"market":return f.a.createElement("td",{onClick:e._onClick.bind(e,a),key:t.index},e.props.name);case"price":var v=i&&i.latestPrice?i.latestPrice:i&&i.close&&i.close.quote.amount&&i.close.base.amount?b.a.get_asset_price(i.close.quote.amount,n,i.close.base.amount,r,!0):b.a.get_asset_price(u.base.amount,r,u.quote.amount,n),w=["BTC","GOLD","SILVER"],x=6;return-1!==w.indexOf(r.get("symbol"))&&(x=8),f.a.createElement("td",{onClick:e._onClick.bind(e,a),className:"text-right",key:t.index},b.a.format_number(v,v>1e3?0:v>10?2:x));case"quoteSupply":return f.a.createElement("td",{onClick:e._onClick.bind(e,a),key:t.index},l?f.a.createElement(k.a,{style:{fontWeight:"bold"},amount:parseInt(l.get("current_supply"),10),asset:n.get("id")}):null);case"baseSupply":return f.a.createElement("td",{onClick:e._onClick.bind(e,a),key:t.index},c?f.a.createElement(k.a,{style:{fontWeight:"bold"},amount:parseInt(c.get("current_supply"),10),asset:r.get("id")}):null);case"issuer":return f.a.createElement("td",{onClick:e._onClick.bind(e,a),key:t.index},f.a.createElement(E,{account:n.get("issuer")}));case"add":return f.a.createElement("td",{style:{textAlign:"right"},key:t.index,onClick:e.props.onCheckMarket.bind(e,a)},f.a.createElement("input",{type:"checkbox",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault,"data-tip":e.props.isDefault?"This market is a default market and cannot be removed":null}));case"remove":return f.a.createElement("td",{key:t.index,className:"clickable",onClick:e.props.removeMarket},f.a.createElement("span",{style:{marginBottom:"6px",marginRight:"6px",zIndex:999},className:"text float-right remove"},"–"))}}).sort(function(e,t){return e.key>t.key}),y="clickable";return this.props.current&&(y+=" activeMarket"),f.a.createElement("tr",{className:y,style:h},m)}}]),t}(f.a.Component);D.propTypes={quote:_.a.ChainAsset.isRequired,base:_.a.ChainAsset.isRequired},D.defaultProps={noSymbols:!1,tempComponent:"tr"},D.contextTypes={router:f.a.PropTypes.object.isRequired};var N=Object(T.a)(D),R=n(50),j=n(386),L=n(1195),F=n(250),I=n(1161),B=n(48),z=n.n(B),W=n(125),q=n(1200),H=n(23),Y=n.n(H),X=n(167),V=n(7),G=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),K=new Date,Z=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._getInitialState(e),n}return h(t,e),U(t,[{key:"_getInitialState",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get("myMarketsBase_"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),inputValue:""}}},{key:"componentWillReceiveProps",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.markets||!this.props.markets||(!b.a.are_equal_shallow(t,this.state)||!b.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:"_inverseSort",value:function(){A.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(A.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_onToggle",value:function(e){if(!this.props.findMarketTab){var t=!this.state.open;this.setState({open:t});var n={};n["myMarketsBase_"+this.props.index]=t,A.a.changeViewSetting(n)}}},{key:"_onToggleUserMarket",value:function(e){var t=e.split("_"),n=G(t,2),r=n[0],i=n[1],o=!this.props.userMarkets.get(e);A.a.setUserMarket(r,i,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.markets,i=t.base,o=t.marketStats,a=t.starredMarkets,s=t.current,l=(t.findMarketTab,this.state),c=l.sortBy,u=l.inverseSort,h=l.open;if(!r||!r.length)return null;var p=n.map(function(t){switch(t.name){case"market":return f.a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"name")},f.a.createElement(w.a,{content:"exchange.market"}));case"vol":return f.a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"volume"),style:{textAlign:"right"}},f.a.createElement(w.a,{content:"exchange.vol_short"}));case"price":return f.a.createElement("th",{key:t.name,style:{textAlign:"right"}},f.a.createElement(w.a,{content:"exchange.price"}));case"quoteSupply":return f.a.createElement("th",{key:t.name},f.a.createElement(w.a,{content:"exchange.quote_supply"}));case"baseSupply":return f.a.createElement("th",{key:t.name},f.a.createElement(w.a,{content:"exchange.base_supply"}));case"change":return f.a.createElement("th",{key:t.name,className:"clickable",onClick:e._changeSort.bind(e,"change"),style:{textAlign:"right"}},f.a.createElement(w.a,{content:"exchange.change"}));case"issuer":return f.a.createElement("th",{key:t.name},f.a.createElement(w.a,{content:"explorer.assets.issuer"}));case"add":default:return f.a.createElement("th",{key:t.name})}}),d=r.map(function(t){return f.a.createElement(N,{key:t.id,name:"others"===i?f.a.createElement("span",null,f.a.createElement(F.a,{name:t.quote}),":",f.a.createElement(F.a,{name:t.base})):f.a.createElement(F.a,{dataPlace:"left",name:t.quote}),quote:t.quote,base:t.base,columns:n,leftAlign:!0,compact:!0,noSymbols:!0,stats:o.get(t.id),starred:a.has(t.id),current:s===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e)})}).filter(function(e){return null!==e}).sort(function(e,t){var n=e.key.split("_"),r=t.key.split("_"),i=o.get(n[0]+"_"+n[1]),a=o.get(r[0]+"_"+r[1]);switch(c){case"name":return n[0]>r[0]?u?-1:1:n[0]<r[0]?u?1:-1:n[1]>r[1]?u?-1:1:n[1]<r[1]?u?1:-1:0;case"volume":return i&&a?u?a.volumeBase-i.volumeBase:i.volumeBase-a.volumeBase:0;case"change":return i&&a?u?a.change-i.change:i.change-a.change:0}});h?f.a.createElement("span",null,"▼"):f.a.createElement("span",null,"▲");return f.a.createElement("div",{style:{paddingRight:10}},h?f.a.createElement("table",{className:"table table-hover text-right"},f.a.createElement("thead",null,f.a.createElement("tr",null,p)),d&&d.length?f.a.createElement("tbody",null,d):null):null)}}]),t}(f.a.Component);Z.defaultProps={maxRows:20};var $=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={inverseSort:e.viewSettings.get("myMarketsInvert",!0),sortBy:e.viewSettings.get("myMarketsSort","volume"),activeTab:e.viewSettings.get("favMarketTab","my-market"),activeMarketTab:e.viewSettings.get("activeMarketTab",0),lookupQuote:null,lookupBase:null,inputValue:"",minWidth:"100%",findBaseInput:"USD",activeFindBase:"USD"},n._setMinWidth=n._setMinWidth.bind(n),n.getAssetList=Object(W.debounce)(I.a.getAssetList.defer,150),n}return h(t,e),U(t,[{key:"shouldComponentUpdate",value:function(e,t){return"find-market"===this.state.activeTab||"find-market"!==t.activeTab||e.searchAssets.size||this._lookupAssets("OPEN.",!0),!(m.a.is(e.searchAssets,this.props.searchAssets)&&m.a.is(e.markets,this.props.markets)&&m.a.is(e.starredMarkets,this.props.starredMarkets)&&m.a.is(e.defaultMarkets,this.props.defaultMarkets)&&m.a.is(e.marketStats,this.props.marketStats)&&b.a.are_equal_shallow(t,this.state)&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.listHeight===this.props.listHeight&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:"componentDidMount",value:function(){var e=this.refs.favorites;g.a.initialize(e),this._setMinWidth(),"find-market"===this.state.activeTab&&this._lookupAssets("OPEN.",!0)}},{key:"componentWillMount",value:function(){this.props.setMinWidth&&window.addEventListener("resize",this._setMinWidth,{capture:!1,passive:!0})}},{key:"componetWillUnmount",value:function(){this.props.setMinWidth&&window.removeEventListener("resize",this._setMinWidth)}},{key:"_setMinWidth",value:function(){this.props.setMinWidth&&this.refs.favorites&&"my-market"===this.props.activeTab&&this.state.minWidth!==this.refs.favorites.offsetWidth&&this.setState({minWidth:this.refs.favorites.offsetWidth})}},{key:"componentDidUpdate",value:function(){if(this.refs.favorites){var e=this.refs.favorites;g.a.update(e)}}},{key:"_inverseSort",value:function(){A.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:"_changeSort",value:function(e){e!==this.state.sortBy?(A.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:"_goMarkets",value:function(){this.context.router.push("/markets")}},{key:"_changeTab",value:function(e){A.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e}),this._setMinWidth()}},{key:"_onInputName",value:function(e){var t=e.target.value.trim().toUpperCase(),n=!V.d.is_valid_symbol_error(t,!0);if(this.setState({inputValue:t}),t&&t.length>=3&&!n)return this.setState({assetNameError:!0});this.setState({assetNameError:!1}),this._lookupAssets(t)}},{key:"_lookupAssets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||""===e){var n=new Date,r=e.toUpperCase().split(":"),i=r[0],o=2===r.length?r[1]:null;if(this.setState({lookupQuote:i,lookupBase:o}),A.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.state.lookupQuote!==i||t){if(i.length<1||n-K<=250)return!1;this.getAssetList(i,50)}else if(o&&this.state.lookupBase!==o){if(o.length<1||n-K<=250)return!1;this.getAssetList(o,50)}}}},{key:"toggleActiveMarketTab",value:function(e){A.a.changeViewSetting({activeMarketTab:e}),this.setState({activeMarketTab:e})}},{key:"_onInputBaseAsset",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:"_onFoundBaseAsset",value:function(e){e&&this.setState({activeFindBase:e.get("symbol")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.starredMarkets,r=t.defaultMarkets,i=t.marketStats,o=t.columns,a=t.searchAssets,s=t.assetsLoading,l=t.preferredBases,c=(t.core,t.current),u=t.viewSettings,h=t.listHeight,p=t.onlyStars,d=t.userMarkets,y=this.state,g=y.activeMarketTab,b=y.activeTab,v=y.lookupQuote,x=y.lookupBase,k=f.a.createElement("tr",null),_="my-market"===b,T=l.map(function(e){return e});_||(l=l.clear(),l=l.push(this.state.activeFindBase));var S={},P=[];v||(v="OPEN."),_||(g=0),a.filter(function(e){return x&&x.length?0===e.symbol.indexOf(x):-1!==e.symbol.indexOf(v)}).forEach(function(e){x&&x.length?0===e.symbol.indexOf(x)&&P.push(e.symbol):l.includes(e.symbol)&&e.symbol.length>=v.length&&e.symbol.length<v.length+3&&P.push(e.symbol)}),P=P.concat(l.filter(function(e){return!x||!x.length||0===e.indexOf(x)}).toArray()),P=P.filter(function(e){return!(x&&x.length>1)||0===e.indexOf(x)});var E=[];a.size&&a.filter(function(e){return-1!==e.symbol.indexOf(v)&&e.symbol.length>=v.length}).forEach(function(e){P.forEach(function(t){var n=e.symbol+"_"+t;t!==e.symbol&&E.push([n,{quote:e.symbol,base:t}])})}),E=E.filter(function(e){return!x||e[1].quote===v}),E=m.a.Map(E);var A=_?r:E;_&&d.size&&d.forEach(function(e,t){A=A.set(t,e)}),A.size>0&&(k=A.filter(function(t){if(_){var r=t.quote+"_"+t.base;return e.state.myMarketFilter?-1!==r.indexOf(e.state.myMarketFilter):!(p&&!n.has(r))}return!(v.length<1)&&-1!==t.quote.indexOf(v)}).map(function(e){var t=e.quote+"_"+e.base;return l.includes(e.base)?(S[e.base]||(S[e.base]=[]),S[e.base].push({id:t,quote:e.quote,base:e.base}),null):{id:t,quote:e.quote,base:e.base}}).filter(function(e){return null!==e}).take(_?100:20).toArray());var M=k&&k.length,D="mymarkets-header clickable",N=z()(D,{inactive:!_}),R=z()(D,{inactive:_}),j={minWidth:this.state.minWidth,minHeight:"6rem"};return h&&(j.height=h),f.a.createElement("div",{className:this.props.className,style:this.props.style},f.a.createElement("div",{style:this.props.headerStyle,className:"grid-block shrink left-orderbook-header bottom-header"},f.a.createElement("div",{ref:"myMarkets",className:N,onClick:this._changeTab.bind(this,"my-market")},f.a.createElement(w.a,{content:"exchange.market_name"})),f.a.createElement("div",{className:R,onClick:this._changeTab.bind(this,"find-market")},f.a.createElement(w.a,{content:"exchange.more"}))),this.props.controls?f.a.createElement("div",{className:"small-12 medium-6",style:{padding:"1rem 0"}},this.props.controls?f.a.createElement("div",{style:{paddingBottom:"0.5rem"}},this.props.controls):null):null,_?f.a.createElement("div",{className:"grid-block shrink",style:{width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},f.a.createElement("label",{className:"no-margin"},f.a.createElement("input",{style:{position:"relative",top:3},className:"no-margin",type:"checkbox",checked:this.props.onlyStars,onChange:function(){O.a.toggleStars()}}),f.a.createElement("span",null," ",f.a.createElement(w.a,{content:"exchange.show_star_1"}),f.a.createElement(C.a,{className:"gold-star",name:"fi-star"})," ",f.a.createElement(w.a,{content:"exchange.show_star_2"}))),f.a.createElement("div",{className:"float-right",style:{paddingLeft:20}},f.a.createElement("input",{style:{fontSize:"0.9rem",height:"inherit",position:"relative",top:1,padding:2},className:"no-margin",type:"text",placeholder:"Filter",maxLength:"16",value:this.state.myMarketFilter,onChange:function(t){e.setState({myMarketFilter:t.target.value&&t.target.value.toUpperCase()})}}))):f.a.createElement("div",{style:{width:"100%",textAlign:"left",padding:"0.75rem 0.5rem"}},f.a.createElement("table",null,f.a.createElement("tbody",null,f.a.createElement("tr",{style:{width:"100%"}},f.a.createElement("td",null,f.a.createElement(q.a,{onAssetSelect:this._onFoundBaseAsset.bind(this),assets:T,onChange:this._onInputBaseAsset.bind(this),asset:this.state.findBaseInput,assetInput:this.state.findBaseInput,tabIndex:1,style:{width:"100%",paddingBottom:"1.5rem"},onFound:this._onFoundBaseAsset.bind(this),label:"exchange.base",noLabel:!0,inputStyle:{fontSize:"0.9rem"}}))),f.a.createElement("tr",{style:{width:"100%"}},f.a.createElement("td",null,f.a.createElement("label",null,f.a.createElement(w.a,{content:"account.user_issued_assets.name"}),":"),f.a.createElement("input",{style:{fontSize:"0.9rem",position:"relative",top:1},type:"text",value:this.state.inputValue,onChange:this._onInputName.bind(this),placeholder:Y.a.translate("exchange.search"),maxLength:"16"}),this.state.assetNameError?f.a.createElement("div",{className:"error-area",style:{paddingTop:10}},f.a.createElement("span",{style:{wordBreak:"break-all"}},f.a.createElement(w.a,{content:"explorer.asset.invalid",name:this.state.inputValue}))):null))))),f.a.createElement("ul",{className:"mymarkets-tabs"},l.map(function(t,n){return t?f.a.createElement("li",{key:t,onClick:e.toggleActiveMarketTab.bind(e,n),className:z()("mymarkets-tab",{active:g===n})},f.a.createElement(F.a,{name:t,dataPlace:"left"})):null}),_&&M?f.a.createElement("li",{key:"others",style:{textTransform:"uppercase"},onClick:this.toggleActiveMarketTab.bind(this,l.size+1),className:z()("mymarkets-tab",{active:g===l.size+1})},f.a.createElement(w.a,{content:"exchange.others"})):null),f.a.createElement("div",{style:j,className:"table-container grid-block vertical mymarkets-list",ref:"favorites"},s?f.a.createElement("div",{style:{position:"absolute",paddingTop:"3rem",textAlign:"center",width:"100%"}},f.a.createElement(X.a,{type:"three-bounce"})):null,l.filter(function(e){return e===l.get(g)}).map(function(t,r){return f.a.createElement(Z,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,index:r,allowChange:!1,key:t,current:c,starredMarkets:n,marketStats:i,viewSettings:u,columns:_?o:e.props.findColumns||o,markets:S[t],base:t,maxRows:_?20:10,findMarketTab:!_})}),g===l.size+1&&_&&M?f.a.createElement(Z,{userMarkets:this.props.userMarkets,index:l.size,current:c,starredMarkets:n,marketStats:i,viewSettings:u,columns:o,markets:k,base:"others",maxRows:_?20:10,findMarketTab:!_}):null))}}]),t}(f.a.Component);$.propTypes={core:_.a.ChainAsset.isRequired},$.defaultProps={activeTab:"my-market",core:"1.3.0",setMinWidth:!1},$.contextTypes={router:f.a.PropTypes.object.isRequired},$=Object(T.a)($);var Q=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),U(t,[{key:"render",value:function(){return f.a.createElement($,this.props)}}]),t}(f.a.Component);t.a=Object(x.connect)(Q,{listenTo:function(){return[R.a,j.a,L.a]},getProps:function(){return{starredMarkets:R.a.getState().starredMarkets,defaultMarkets:R.a.getState().defaultMarkets,viewSettings:R.a.getState().viewSettings,preferredBases:R.a.getState().preferredBases,marketStats:j.a.getState().allMarketStats,userMarkets:R.a.getState().userMarkets,searchAssets:L.a.getState().assets,onlyStars:j.a.getState().onlyStars,assetsLoading:L.a.getState().assetsLoading}}})},1222:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return _}),n.d(t,"c",function(){return k}),n.d(t,"a",function(){return T});var a=n(1),s=n.n(a),l=n(48),c=n.n(l),u=n(130),h=n(93),p=n(1159),f=n.n(p),d=n(19),m=n(22),y=n.n(m),g=n(1208),b=n(1164),v=n(250),w=n(75),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),x(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{width:"18%",textAlign:"center"}},s.a.createElement(y.a,{className:"header-sub-title",content:"exchange.price"})),s.a.createElement("th",{style:{width:"18%",textAlign:"center"}},t?s.a.createElement("span",{className:"header-sub-title"},s.a.createElement(v.a,{dataPlace:"top",name:n})):null),s.a.createElement("th",{style:{width:"18%",textAlign:"center"}},t?s.a.createElement("span",{className:"header-sub-title"},s.a.createElement(v.a,{dataPlace:"top",name:t})):null),s.a.createElement("th",{style:{width:"28%",textAlign:"center"}},s.a.createElement(y.a,{className:"header-sub-title",content:"transaction.expiration"})),s.a.createElement("th",{style:{width:"18%"}})))}}]),t}(s.a.Component);k.defaultProps={quoteSymbol:null,baseSymbol:null};var _=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),x(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.for_sale!==this.props.order.for_sale||e.order.id!==this.props.order.id||e.quote!==this.props.quote||e.base!==this.props.base}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,r=e.order,i=e.showSymbols,o=r.isBid(),a=c()({orderHistoryBid:o,orderHistoryAsk:!o}),l=i?s.a.createElement("span",null," "+t.get("symbol")+"/"+n.get("symbol")):null,u=i?" "+t.get("symbol"):null,p=i?" "+n.get("symbol"):null;return s.a.createElement("tr",{key:r.id},s.a.createElement("td",{style:{width:"18%"},className:a},s.a.createElement(g.a,{price:r.getPrice(),base:t,quote:n}),l),s.a.createElement("td",{style:{width:"18%"}},d.a.format_number(r[o?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))," ",p),s.a.createElement("td",{style:{width:"18%"}},d.a.format_number(r[o?"amountForSale":"amountToReceive"]().getAmount({real:!0}),t.get("precision"))," ",u),s.a.createElement("td",{style:{width:"28%"}},s.a.createElement(h.a,{value:r.expiration,format:"short"})),s.a.createElement("td",{className:"text-center",style:{width:"18%",padding:"2px 5px"}},s.a.createElement("a",{style:{marginRight:0},className:"order-cancel",onClick:this.props.onCancel},s.a.createElement(w.a,{name:"cross-circle",className:"icon-14px"}))))}}]),t}(s.a.Component);_.defaultProps={showSymbols:!1};var T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),x(t,[{key:"componentDidMount",value:function(){var e=this.refs.asks;f.a.initialize(e)}},{key:"componentDidUpdate",value:function(){var e=this.refs.asks;f.a.update(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.orders,r=t.currentAccount,i=t.base,o=t.quote,a=t.quoteSymbol,l=t.baseSymbol,c=null,h=null,p=s.a.createElement("tr",null,s.a.createElement("td",{style:{textAlign:"center"},colSpan:"5"},s.a.createElement(y.a,{content:"account.no_orders"})));if(!(n.size>0&&i&&o))return s.a.createElement("div",{key:"open_orders",className:"grid-content text-center ps-container"},s.a.createElement("table",{className:"table order-table my-orders text-right table-hover"},s.a.createElement("tbody",null,p)),s.a.createElement("table",{className:"table order-table my-orders text-right table-hover"},s.a.createElement("tbody",null,p)));c=n.filter(function(e){return e.seller===r&&e.sell_price.quote.asset_id!==i.get("id")}).sort(function(e,t){var n=u.a.parseOrder(e,i,o),r=n.price;return u.a.parseOrder(t,i,o).price.full-r.full}).map(function(t){var n=u.a.parseOrder(t,i,o),r=n.price;return s.a.createElement(_,{price:r.full,key:t.id,order:t,base:i,quote:o,onCancel:e.props.onCancel.bind(e,t.id)})}).toArray(),h=n.filter(function(e){return e.seller===r&&e.sell_price.quote.asset_id===i.get("id")}).sort(function(e,t){var n=u.a.parseOrder(e,i,o),r=n.price,a=u.a.parseOrder(t,i,o),s=a.price;return r.full-s.full}).map(function(t){var n=u.a.parseOrder(t,i,o),r=n.price;return s.a.createElement(_,{price:r.full,key:t.id,order:t,base:i,quote:o,onCancel:e.props.onCancel.bind(e,t.id)})}).toArray();var f=[];return h.length&&(f=f.concat(h)),c.length&&(f=f.concat(c)),f.sort(function(e,t){return e.props.price-t.props.price}),s.a.createElement("div",{style:{marginBottom:"15px"},key:"open_orders",className:this.props.className},s.a.createElement("div",{className:"exchange-bordered small-12",style:{height:266}},s.a.createElement("div",{className:"exchange-content-header"},s.a.createElement(y.a,{content:"exchange.my_orders"})),s.a.createElement("table",{className:"table order-table text-right table-hover"},s.a.createElement(k,{type:"sell",baseSymbol:l,quoteSymbol:a})),s.a.createElement("div",{className:"grid-block no-padding market-right-padding",ref:"asks",style:{overflow:"hidden",maxHeight:200}},s.a.createElement("table",{style:{paddingBottom:5},className:"table order-table text-right table-hover"},s.a.createElement(b.a,{component:"tbody",transitionName:"newrow"},f.length?f:p)))))}}]),t}(s.a.Component);T.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},T.propTypes={base:a.PropTypes.object.isRequired,quote:a.PropTypes.object.isRequired,orders:a.PropTypes.object.isRequired,quoteSymbol:a.PropTypes.string.isRequired,baseSymbol:a.PropTypes.string.isRequired}},1223:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),l=n(35),c=n.n(l),u=n(127),h=n(22),p=n.n(h),f=n(254),d=n(19),m=n(41),y=n(40),g=n(124),b=n(128),v=n.n(b),w=n(23),x=n.n(w),k=n(1193),_=n(1201),T=n(1211),S=n(75),P=n(167),E=n(385),C=n(250),O=n(7),A=n(125),M=(n.n(A),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(t){function n(e){r(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.state={toAddress:k.a.getLast(e.walletType),withdrawValue:"",amountError:null,symbol:e.asset.get("symbol"),intermediateAccount:e.asset.get("intermediateAccount"),gateFee:e.asset.get("gateFee"),to_withdraw:new f.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),fee_asset_id:"1.3.0",feeStatus:{}},t._validateAddress(t.state.toAddress,e),t.deposit_address_cache=new _.a,t.addDepositAddress=t.addDepositAddress.bind(t),t._checkFeeStatus=t._checkFeeStatus.bind(t),t._checkBalance=t._checkBalance.bind(t),t._getCurrentBalance=t._getCurrentBalance.bind(t),t._getFee=t._getFee.bind(t),t._updateFee=Object(A.debounce)(t._updateFee.bind(t),250),t}return o(n,t),D(n,[{key:"componentWillMount",value:function(){this._getDepositAddress(),this._updateFee(),this._checkFeeStatus()}},{key:"componentWillReceiveProps",value:function(e){e.asset&&e.asset!==this.props.asset&&this.setState({to_withdraw:new f.a({asset_id:e.asset.get("id"),precision:e.asset.get("precision")}),gateFee:e.asset.get("gateFee"),intermediateAccount:e.asset.get("intermediateAccount"),symbol:e.asset.get("symbol"),memo:"",withdrawValue:"",receive_address:null,toAddress:k.a.getLast(e.walletType)},this._getDepositAddress)}},{key:"_getDepositAddress",value:function(){if(this.props.backingCoinType){var e=this.props.sender.get("name"),t=this.deposit_address_cache.getCachedInputAddress("openledger",e,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase());t?this.setState({receive_address:t}):Object(k.e)(this._getDepositObject())}}},{key:"_getDepositObject",value:function(){return{inputCoinType:this.props.backingCoinType.toLowerCase(),outputCoinType:this.props.symbol.toLowerCase(),outputAddress:this.props.sender.get("name"),stateCallback:this.addDepositAddress}}},{key:"addDepositAddress",value:function(e){var t=this.props.sender.get("name");this.deposit_address_cache.cacheInputAddress("openledger",t,this.props.backingCoinType.toLowerCase(),this.props.symbol.toLowerCase(),e.address,e.memo),this.setState({receive_address:e})}},{key:"componentDidUpdate",value:function(){v.a.rebuild()}},{key:"onSubmit",value:function(t){if(t.preventDefault(),0===this.state.to_withdraw.getAmount())return this.setState({amountError:"transfer.errors.pos"});if(this.props.intermediateAccount){var n=this._getFee();g.a.transfer(this.props.sender.get("id"),this.props.intermediateAccount,this.state.to_withdraw.getAmount(),this.state.to_withdraw.asset_id,this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,n.asset_id)}}},{key:"_updateAmount",value:function(){var e=this._getFee(),t=this._getCurrentBalance(),n=new f.a({amount:t?t.get("balance"):0,asset_id:this.props.asset.get("id"),precision:this.props.asset.get("precision")});n.asset_id===e.asset_id&&n.minus(e),this.state.to_withdraw.setAmount({sats:n.getAmount()}),this.setState({withdrawValue:n.getAmount({real:!0}),amountError:null},this._checkBalance)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.sender;if(t){var n=["1.3.0",this.state.to_withdraw.asset_id],r={},i=[];n.forEach(function(n){i.push(Object(E.b)({accountID:t.get("id"),feeID:n,options:["price_per_kbyte"],data:{type:"memo",content:e.props.backingCoinType.toLowerCase()+":"+e.state.toAddress+(e.state.memo?":"+e.state.memo:"")}}))}),Promise.all(i).then(function(t){n.forEach(function(e,n){r[e]=t[n]}),d.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"_updateFee",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.fee_asset_id;if(!this.props.sender)return null;Object(E.b)({accountID:this.props.sender.get("id"),feeID:t,options:["price_per_kbyte"],data:{type:"memo",content:this.props.backingCoinType.toLowerCase()+":"+this.state.toAddress+(this.state.memo?":"+this.state.memo:"")}}).then(function(t){var n=t.fee,r=t.hasBalance,i=t.hasPoolBalance;e.setState({feeAmount:n,hasBalance:r,hasPoolBalance:i,error:!r||!i},e._checkFeeStatus)})}},{key:"_getCurrentBalance",value:function(){var e=this;return this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")})}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,n=e.to_withdraw,r=this.props.asset,i=this._getCurrentBalance(),o=Object(E.a)(n.getAmount({real:!0}),r,t,i);if(null!==o)return this.setState({balanceError:!o}),o}},{key:"_getFee",value:function(){var e={getAmount:function(){return 0},asset_id:this.state.fee_asset_id};if(!this.state.feeStatus||!this.state.feeAmount)return e;var t=this.state.feeStatus["1.3.0"],n=this.state.feeStatus[this.state.to_withdraw.asset_id];return t&&t.hasBalance?t.fee:t&&!t.hasBalance&&n&&n.hasBalance?n.fee:t?t.fee:e}},{key:"_onInputAmount",value:function(e){try{this.state.to_withdraw.setAmount({real:parseFloat(e.target.value||0)}),this.setState({withdrawValue:e.target.value,amountError:null},this._checkBalance)}catch(e){console.error("err:",e)}}},{key:"_onInputTo",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address_check_in_progress:!0,withdraw_address_selected:t,validAddress:null,toAddress:t}),this._validateAddress(t)}},{key:"_onMemoChanged",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(k.f)({walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(SettingsStore.site_registr,"_blank").opener=null}},{key:"_renderWithdraw",value:function(){var e=d.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n=1,r=this.props.supportsMemos,i=this._getFee(),o=this.state.feeStatus[i.asset_id],a=O.b.getAsset(i.asset_id);return s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(p.a,{content:"gateway.withdraw_funds",asset:t})),this._renderCurrentBalance(),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",{className:"left-label"},x.a.translate("modal.withdraw.amount")),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{tabIndex:n++,type:"text",value:this.state.withdrawValue,onChange:this._onInputAmount.bind(this)}),s.a.createElement("div",{className:"form-label select floating-dropdown"},s.a.createElement("div",{className:"dropdown-wrapper inactive"},s.a.createElement("div",null,t)))),this.state.balanceError?s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(p.a,{content:"transfer.errors.insufficient"})):null),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",{className:"left-label"},x.a.translate("transfer.fee")),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{type:"text",value:i.getAmount({real:!0})}),s.a.createElement("div",{className:"form-label select floating-dropdown"},s.a.createElement("div",{className:"dropdown-wrapper inactive"},s.a.createElement("div",null,a?s.a.createElement(C.a,{name:a.get("symbol")}):null)))),o&&!o.hasBalance?s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(p.a,{content:"transfer.errors.insufficient"})):null),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",{className:"left-label"},x.a.translate("modal.withdraw.address")),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{placeholder:x.a.translate("gateway.withdraw_placeholder",{asset:t}),tabIndex:n++,type:"text",value:this.state.toAddress,onChange:this._onInputTo.bind(this)}),s.a.createElement("div",{className:"form-label select floating-dropdown"},s.a.createElement("div",{className:"dropdown-wrapper inactive"},s.a.createElement("div",{"data-place":"right","data-tip":x.a.translate("tooltip.withdraw_address",{asset:t})},"?")))),!this.state.validAddress&&this.state.toAddress?s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},s.a.createElement(p.a,{content:"gateway.valid_address",coin_type:t})):null),r?s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("label",{className:"left-label"},x.a.translate("transfer.memo")),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("textarea",{rows:"1",value:this.state.memo,tabIndex:n++,onChange:this._onMemoChanged.bind(this)})),!this.state.validAddress&&this.state.toAddress?s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},s.a.createElement(p.a,{content:"gateway.valid_address",coin_type:t})):null):null,s.a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},s.a.createElement("button",{tabIndex:n++,className:"button"+(o&&!o.hasBalance||this.state.balanceError?" disabled":""),onClick:this.onSubmit.bind(this),type:"submit"},s.a.createElement(p.a,{content:"gateway.withdraw_now"}))))}},{key:"_renderDeposit",value:function(){var e=this.state.receive_address,t=d.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),n=t.name,r=e&&"memo"in e&&e.memo,i=e&&e.address||"",o=1;return s.a.createElement("div",{className:i?"":"no-overflow"},s.a.createElement("p",null,s.a.createElement(p.a,{unsafe:!0,content:"gateway.add_funds",account:this.props.sender.get("name")})),this._renderCurrentBalance(),s.a.createElement("div",{className:"SimpleTrade__withdraw-row"},s.a.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":x.a.translate("tooltip.deposit_tip",{asset:n})},s.a.createElement(p.a,{className:"help-tooltip",content:"gateway.deposit_to",asset:n}),":"),i?s.a.createElement("label",null,s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{readOnly:!0,type:"text",value:i}),s.a.createElement(T.a,{text:i}))):s.a.createElement(P.a,{type:"three-bounce"}),r?s.a.createElement("label",null,s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{readOnly:!0,type:"text",value:x.a.translate("transfer.memo")+": "+e.memo}),s.a.createElement(T.a,{text:e.memo}))):null,e&&e.error?s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},e.error.message):null),s.a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},s.a.createElement("button",{tabIndex:o++,className:"button",onClick:k.e.bind(null,this._getDepositObject()),type:"submit"},s.a.createElement(p.a,{content:"gateway.generate_new"}))))}},{key:"_renderCurrentBalance",value:function(){var e=d.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n="deposit"===this.props.action,r=this._getCurrentBalance(),i=r?new f.a({asset_id:r.get("asset_type"),precision:this.props.asset.get("precision"),amount:r.get("balance")}):null,o=n?s.a.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},t):s.a.createElement("button",{"data-place":"right","data-tip":x.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,r?parseInt(r.get("balance"),10):0)},s.a.createElement(S.a,{name:"clippy"}));return s.a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},s.a.createElement("label",{style:{fontSize:"1rem"}},x.a.translate("gateway.balance_asset",{asset:t}),":",s.a.createElement("span",{className:"inline-label"},s.a.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:i?i.getAmount({real:!0}):0}),o)))}},{key:"render",value:function(){var e=this.props,t=e.asset,n=e.action,r="deposit"===n;if(!t)return null;var i=d.a.replaceName(t.get("symbol"),!0),o=i.name;return s.a.createElement("div",{className:"SimpleTrade__modal"},s.a.createElement("div",{className:"Modal__header"},s.a.createElement("h3",null,s.a.createElement(p.a,{content:r?"gateway.deposit":"modal.withdraw.submit"})," ",o)),s.a.createElement("div",{className:"Modal__divider"}),s.a.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem"}},r?this._renderDeposit():this._renderWithdraw()))}}]),n}(s.a.Component);N.propTypes={sender:y.a.ChainAccount.isRequired,asset:y.a.ChainAsset.isRequired,coreAsset:y.a.ChainAsset.isRequired,globalObject:y.a.ChainAsset.isRequired},N.defaultProps={coreAsset:"1.3.0",globalObject:"2.0.0"},N=Object(m.a)(N);var R=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return o(t,e),D(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){c.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return s.a.createElement(u.a,{className:"test",onClose:this.onClose.bind(this),overlay:!0,id:this.props.modalId},this.state.open?s.a.createElement(N,M({},this.props,{open:this.state.open})):null)}}]),t}(s.a.Component);t.a=R}).call(t,n(3).Buffer)},1224:function(e,t,n){!function(t,r){e.exports=r(n(1),n(24),n(1225))}(0,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1).default,i=n(17).default,o=n(26).default,a=n(29).default,s=n(30).default,l=n(36).default,c=n(39).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(40),h=c(u),p=n(41),f=c(p),d=function(e){function t(){a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),o(t,[{key:"propsWith",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n={};return l(this.props).forEach(function(r){if(-1!==r.search(e)){var i=t?r.replace(e,""):r;n[i]=this.props[r]}},this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=h.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.refs.element,r=n(42);this.clipboard=new r(t,e);var i=this.propsWith(/^on/,!0);l(i).forEach(function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])},this)}},{key:"render",value:function(){var e=s({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:"element",onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return h.default.createElement(this.getComponent(),e,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}],[{key:"propTypes",value:{options:f.default.object,type:f.default.string,className:f.default.string,style:f.default.object,component:f.default.string,children:f.default.oneOfType([f.default.element,f.default.string,f.default.number,f.default.object])},enumerable:!0},{key:"defaultProps",value:{onClick:function(){}},enumerable:!0}]),t}(h.default.Component);t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r=n(2).default;t.default=function(e,t,n){for(var i=!0;i;){var o=e,a=t,s=n;i=!1,null===o&&(o=Function.prototype);var l=r(o,a);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(s)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=s,i=!0,l=u=void 0}},t.__esModule=!0},function(e,t,n){e.exports={default:n(3),__esModule:!0}},function(e,t,n){var r=n(4);n(5),e.exports=function(e,t){return r.getDesc(e,t)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var r=n(6);n(10)("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}})},function(e,t,n){var r=n(7),i=n(9);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(11),i=n(13),o=n(16);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(12),i=n(13),o=n(14),a=function(e,t,n){var s,l,c,u=e&a.F,h=e&a.G,p=e&a.S,f=e&a.P,d=e&a.B,m=e&a.W,y=h?i:i[t]||(i[t]={}),g=h?r:p?r[t]:(r[t]||{}).prototype;h&&(n=t);for(s in n)(l=!u&&g&&s in g)&&s in y||(c=l?g[s]:n[s],y[s]=h&&"function"!=typeof g[s]?n[s]:d&&l?o(c,r):m&&g[s]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):f&&"function"==typeof c?o(Function.call,c):c,f&&((y.prototype||(y.prototype={}))[s]=c))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(15);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(18).default,i=n(20).default;t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=r(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){e.exports={default:n(19),__esModule:!0}},function(e,t,n){var r=n(4);e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){e.exports={default:n(21),__esModule:!0}},function(e,t,n){n(22),e.exports=n(13).Object.setPrototypeOf},function(e,t,n){var r=n(11);r(r.S,"Object",{setPrototypeOf:n(23).set})},function(e,t,n){var r=n(4).getDesc,i=n(24),o=n(25),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(14)(Function.call,r(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:a}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=n(27).default;t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.__esModule=!0},function(e,t,n){e.exports={default:n(28),__esModule:!0}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return r.setDesc(e,t,n)}},function(e,t){"use strict";t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,n){"use strict";var r=n(31).default;t.default=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.__esModule=!0},function(e,t,n){e.exports={default:n(32),__esModule:!0}},function(e,t,n){n(33),e.exports=n(13).Object.assign},function(e,t,n){var r=n(11);r(r.S+r.F,"Object",{assign:n(34)})},function(e,t,n){var r=n(4),i=n(35),o=n(7);e.exports=n(16)(function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i})?function(e,t){for(var n=i(e),a=arguments,s=a.length,l=1,c=r.getKeys,u=r.getSymbols,h=r.isEnum;s>l;)for(var p,f=o(a[l++]),d=u?c(f).concat(u(f)):c(f),m=d.length,y=0;m>y;)h.call(f,p=d[y++])&&(n[p]=f[p]);return n}:Object.assign},function(e,t,n){var r=n(9);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(37),__esModule:!0}},function(e,t,n){n(38),e.exports=n(13).Object.keys},function(e,t,n){var r=n(35);n(10)("keys",function(e){return function(t){return e(r(t))}})},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n}])})},1225:function(e,t,n){var r,i,o;!function(a,s){i=[e,n(1226),n(1228),n(1229)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=i(t),u=i(n),h=i(r),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return s(t,e),f(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,h.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(u.default);e.exports=d})},1226:function(e,t,n){var r,i,o;!function(a,s){i=[e,n(1227)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},1227:function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=n},1228:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},1229:function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return i(e,t,n);if(s.nodeList(e))return o(e,t,n);if(s.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var s=n(1230),l=n(1231);e.exports=r},1230:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},1231:function(e,t,n){function r(e,t,n,r,o){var a=i.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}function i(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}var o=n(1232);e.exports=r},1232:function(e,t){function n(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=n},1233:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),l=n.n(s),c=n(35),u=n.n(c),h=n(127),p=n(109),f=(n.n(p),n(22)),d=n.n(f),m=n(254),y=n(19),g=n(41),b=n(40),v=n(128),w=n.n(v),x=n(23),k=n.n(x),_=n(1193),T=n(1201),S=n(1211),P=n(75),E=n(167),C=n(380),O=n(381),A=n(74),M=(n.n(A),n(50)),D=n(49),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={toAddress:_.a.getLast(e.walletType),withdrawValue:"",amountError:null,inputAmount:1,receiveLoading:!0,limitLoading:!0},n._validateAddress(n.state.toAddress,e),n.deposit_address_cache=new T.a,n}return a(t,e),R(t,[{key:"componentWillMount",value:function(){this._getDepositAddress()}},{key:"componentDidMount",value:function(){this._getDepositLimit(),this._estimateOutput()}},{key:"componentWillReceiveProps",value:function(e){e.inputCoinType===this.props.inputCoinType&&e.outputCoinType===this.props.outputCoinType||(this._getDepositLimit(e),this._estimateOutput(e),this._getDepositAddress(e))}},{key:"shouldComponentUpdate",value:function(e,t){return e.inputCoinType!==this.props.inputCoinType||e.outputCoinType!==this.props.outputCoinType||e.sender!==this.props.sender||e.asset!==this.props.asset||!y.a.are_equal_shallow(t,this.state)}},{key:"_getDepositLimit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({limitLoading:!0}),Object(_.d)(t.inputCoinType,t.outputCoinType).then(function(t){e.setState({depositLimit:t.depositLimit,limitLoading:!1})}).catch(function(t){console.log("deposit limit error:",t),e.setState({depositLimit:null,limitLoading:!1})})}},{key:"_estimateOutput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({receiveLoading:!0}),Object(_.b)(this.state.inputAmount,t.inputCoinType,t.outputCoinType).then(function(t){e.setState({receiveAmount:parseFloat(t.outputAmount),receiveLoading:!1})}).catch(function(t){console.log("receive amount err:",t),e.setState({receiveLoading:!1,receiveAmount:null})})}},{key:"_getDepositAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.inputCoinType){var t=e.sender.get("name"),n=this.deposit_address_cache.getCachedInputAddress("blocktrades",t,e.inputCoinType.toLowerCase(),e.outputCoinType.toLowerCase());n?this.setState({receive_address:n}):(this.setState({receive_address:null}),Object(_.e)(this._getDepositObject(e)))}}},{key:"_getDepositObject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{inputCoinType:t.inputCoinType.toLowerCase(),outputCoinType:t.outputCoinType.toLowerCase(),outputAddress:t.sender.get("name"),url:C.a.BASE,stateCallback:function(n){e.addDepositAddress(t.inputCoinType.toLowerCase(),t.outputCoinType.toLowerCase(),t.sender.get("name"),n)}}}},{key:"addDepositAddress",value:function(e,t,n,r){this.deposit_address_cache.cacheInputAddress("blocktrades",n,e,t,r.address,r.memo),this.setState({receive_address:r})}},{key:"componentDidUpdate",value:function(){w.a.rebuild()}},{key:"_validateAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(_.f)({walletType:n.walletType,newAddress:e}).then(function(n){t.state.toAddress===e&&t.setState({withdraw_address_check_in_progress:!1,validAddress:n})}).catch(function(e){console.error("Error when validating address:",e)})}},{key:"_openRegistrarSite",value:function(e){e.preventDefault(),window.open(M.a.site_registr,"_blank").opener=null}},{key:"_onInputAmount",value:function(e){this.setState({inputAmount:parseFloat(e.target.value)},this._estimateOutput.bind(this))}},{key:"_onDropDownSelect",value:function(e){D.a.changeViewSetting({preferredBridge:e})}},{key:"_renderDeposit",value:function(){var e=y.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),t=e.name,n=e.prefix,r=this.state.receive_address,i=r&&"memo"in r&&r.memo,o=r&&r.address||"",a=1,s=Object.keys(this.props.bridges.toJS()),c=this.props.inputCoinType.toUpperCase(),u=(n||"")+t,h="BTS"===u&&"BTC"===c?(this.state.inputAmount/this.state.receiveAmount).toFixed(8):(this.state.receiveAmount/this.state.inputAmount).toFixed(4),p="BTS"===u&&"BTC"===c?c+"/"+u:u+"/"+c,f=this.state.inputAmount>parseFloat(this.state.depositLimit);return l.a.createElement("div",{className:o?"":"no-overflow"},l.a.createElement("p",null,l.a.createElement(d.a,{unsafe:!0,content:"gateway.purchase_1",inputAsset:c,outputAsset:u}),"."),this._renderCurrentBalance(),l.a.createElement("div",{className:"SimpleTrade__withdraw-row"},l.a.createElement("div",{className:"no-margin no-padding"},l.a.createElement("div",{className:"small-6",style:{paddingRight:10}},l.a.createElement("label",{className:"left-label"},l.a.createElement(d.a,{content:"transfer.send"})),l.a.createElement("div",{className:"inline-label input-wrapper"},l.a.createElement("input",{type:"number",defaultValue:1,onChange:this._onInputAmount.bind(this)}),l.a.createElement("div",{className:"form-label select floating-dropdown"},l.a.createElement(O.a,{entries:s,values:s.reduce(function(e,t){return t&&(e[t]=t),e},{}),singleEntry:s[0],value:this.props.preferredBridge||s[0],onChange:this._onDropDownSelect,upperCase:!0})))),l.a.createElement("div",{className:"small-6",style:{paddingLeft:10}},l.a.createElement("label",{className:"left-label"},l.a.createElement(d.a,{content:"exchange.receive"})),l.a.createElement("div",{className:"inline-label input-wrapper"},l.a.createElement("input",{disabled:!0,type:"number",value:this.state.receiveAmount||0}),l.a.createElement("div",{className:"input-right-symbol"},u))))),l.a.createElement("div",{className:"SimpleDepositBridge__info-row"},l.a.createElement("div",null,l.a.createElement(d.a,{content:"exchange.price"}),": ",l.a.createElement("div",{className:"float-right"},this.state.receiveLoading?l.a.createElement(d.a,{content:"footer.loading"}):l.a.createElement("span",null,h," ",p))),l.a.createElement("div",null,l.a.createElement(d.a,{content:"gateway.deposit_limit"}),":",l.a.createElement("div",{className:"float-right"+(f?" above-limit":"")},this.state.limitLoading?l.a.createElement(d.a,{content:"footer.loading"}):l.a.createElement("span",null,this.state.depositLimit&&parseFloat(this.state.depositLimit).toFixed(4)," ",c)))),l.a.createElement("div",{className:"SimpleTrade__withdraw-row"},l.a.createElement("p",{style:{marginBottom:10},"data-place":"right","data-tip":k.a.translate("tooltip.deposit_tip",{asset:c})},l.a.createElement(d.a,{className:"help-tooltip",content:"gateway.deposit_to",asset:c}),":"),o?l.a.createElement("label",null,l.a.createElement("span",{className:"inline-label"},l.a.createElement("input",{readOnly:!0,type:"text",value:o}),l.a.createElement(S.a,{text:o}))):l.a.createElement(E.a,{type:"three-bounce"}),i?l.a.createElement("label",null,l.a.createElement("span",{className:"inline-label"},l.a.createElement("input",{readOnly:!0,type:"text",value:k.a.translate("transfer.memo")+": "+r.memo}),l.a.createElement(S.a,{text:r.memo}))):null,r&&r.error?l.a.createElement("div",{className:"has-error",style:{paddingTop:10}},r.error.message):null),l.a.createElement("div",{className:"button-group SimpleTrade__withdraw-row"},l.a.createElement("button",{tabIndex:a++,className:"button",onClick:_.e.bind(null,this._getDepositObject()),type:"submit"},l.a.createElement(d.a,{content:"gateway.generate_new"}))))}},{key:"_renderCurrentBalance",value:function(){var e=this,t=y.a.replaceName(this.props.asset.get("symbol"),!!this.props.asset.get("bitasset")),n=t.name,r="deposit"===this.props.action,i=this.props.balances.find(function(t){return t&&t.get("asset_type")===e.props.asset.get("id")}),o=i?new m.a({asset_id:i.get("asset_type"),precision:this.props.asset.get("precision"),amount:i.get("balance")}):null,a=r?l.a.createElement("span",{style:{border:"2px solid black",borderLeft:"none"},className:"form-label"},n):l.a.createElement("button",{"data-place":"right","data-tip":k.a.translate("tooltip.withdraw_full"),className:"button",style:{border:"2px solid black",borderLeft:"none"},onClick:this._updateAmount.bind(this,i?parseInt(i.get("balance"),10):0)},l.a.createElement(P.a,{name:"clippy"}));return l.a.createElement("div",{className:"SimpleTrade__withdraw-row",style:{fontSize:"1rem"}},l.a.createElement("label",{style:{fontSize:"1rem"}},k.a.translate("gateway.balance_asset",{asset:n}),":",l.a.createElement("span",{className:"inline-label"},l.a.createElement("input",{disabled:!0,style:{color:"black",border:"2px solid black",padding:10,width:"100%"},value:o?o.getAmount({real:!0}):0}),a)))}},{key:"render",value:function(){var e=this.props.asset;if(!e)return null;var t=y.a.replaceName(e.get("symbol"),!!e.get("bitasset")),n=t.name,r=t.prefix;return l.a.createElement("div",{className:"SimpleTrade__modal"},l.a.createElement("div",{className:"Modal__header"},l.a.createElement("h3",null,l.a.createElement(d.a,{content:"gateway.purchase",asset:(r||"")+n}))),l.a.createElement("div",{className:"Modal__divider"}),l.a.createElement("div",{className:"grid-block vertical no-overflow",style:{zIndex:1002,paddingLeft:"2rem",paddingRight:"2rem",paddingTop:"1rem"}},this._renderDeposit()))}}]),t}(l.a.Component);j.propTypes={sender:b.a.ChainAccount.isRequired,asset:b.a.ChainAsset.isRequired},j=Object(g.a)(j);var L=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),R(t,[{key:"render",value:function(){var e=this.props,t=e.preferredBridge,n=r(e,["preferredBridge"]),i=this.props.bridges.get(this.props.preferredBridge);return i||(i=this.props.bridges.first(),t=i.inputCoinType),l.a.createElement(j,N({},n,{preferredBridge:t},i.toJS()))}}]),t}(l.a.Component);L=Object(A.connect)(L,{listenTo:function(){return[M.a]},getProps:function(){return{preferredBridge:M.a.getState().viewSettings.get("preferredBridge","btc")}}});var F=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={open:!1},e}return a(t,e),R(t,[{key:"show",value:function(){var e=this;this.setState({open:!0},function(){u.a.publish(e.props.modalId,"open")})}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return this.props.bridges?l.a.createElement(h.a,{className:"test",onClose:this.onClose.bind(this),id:this.props.modalId,overlay:!0},this.state.open?l.a.createElement(L,N({},this.props,{open:this.state.open})):null):null}}]),t}(l.a.Component);t.a=F},1235:function(e,t){e.exports={olDarkTheme:{bidColor:"#50D2C2",bidFillColor:"rgba(80, 210, 194, 0.5)",askColor:"#E3745B",askFillColor:"rgba(227, 116, 91, 0.5)",callColor:"#BBBF2B",settleColor:"rgba(125, 134, 214, 1)",settleFillColor:"rgba(125, 134, 214, 0.5)",positiveColor:"#6BA583",negativeColor:"#DB0000",primaryText:"#e0e0e0",volumeColor:"#848484",tooltipBackgroundColor:"rgba(0, 0, 0, 0.4)",tooltipColor:"#fff",tooltipFillColor:"#fff",axisLabelsColor:"#fff",axisLineColor:"#AAAAAA",indicatorLineColor:"#FFFFFF"},darkTheme:{bidColor:"#6BA583",bidFillColor:"rgba(80, 210, 194, 0.5)",askColor:"#E3745B",askFillColor:"rgba(227, 116, 91, 0.5)",callColor:"#BBBF2B",settleColor:"rgba(125, 134, 214, 1)",settleFillColor:"rgba(125, 134, 214, 0.5)",positiveColor:"#258A14",negativeColor:"#DB0000",primaryText:"#e0e0e0",volumeColor:"#848484",tooltipBackgroundColor:"rgba(0, 0, 0, 0.4)",tooltipColor:"#fff",tooltipFillColor:"#fff",axisLabelsColor:"#fff",axisLineColor:"#AAAAAA",indicatorLineColor:"#FFFFFF"},lightTheme:{bidColor:"#258A14",bidFillColor:"rgba(80, 210, 194, 0.5)",askColor:"#EA340B",askFillColor:"rgba(227, 116, 91, 0.5)",callColor:"#BBBF2B",settleColor:"rgba(125, 134, 214, 1)",settleFillColor:"rgba(125, 134, 214, 0.5)",positiveColor:"#528c0a",negativeColor:"rgba(225, 66, 74, 1)",primaryText:"#242424",volumeColor:"#848484",tooltipBackgroundColor:"rgba(255,255,255, 0.9)",tooltipColor:"#000",tooltipFillColor:"#000",axisLabelsColor:"#000",axisLineColor:"#000",indicatorLineColor:"#848484"}}},1236:function(e,t,n){var r=n(1),i=r.createClass({displayName:"Notification",getDefaultProps:function(){return{position:"top-right",color:"success",title:null,image:null,content:null,wrapperElement:"p"}},render:function(){var e="notification "+this.props.position+" "+this.props.color;e+=" "+(this.props.className||"");var t=null;return this.props.image&&(t=r.createElement("div",{className:"notification-icon"},r.createElement("img",{src:"{{ image }}"}))),r.createElement("div",{id:this.props.id,"data-closable":!0,className:e},r.createElement("a",{href:"#",className:"close-button",onClick:this.props.closeHandler},"×"),t,r.createElement("div",{className:"notification-content"},r.createElement("h1",null,this.props.title),r.createElement(this.props.wrapperElement,null,this.props.children)))}});e.exports=i},1241:function(e,t,n){(function(t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function r(e,t,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];t>0&&o(u)?t>1?r(u,t-1,o,a,s):n(s,u):a||(s[s.length]=u)}return s}function i(e){return E(e)||a(e)||!!(P&&e&&e[P])}function o(e){return(e?e.length:0)?r(e,f):[]}function a(e){return l(e)&&k.call(e,"callee")&&(!S.call(e,"callee")||_.call(e)==m)}function s(e){return null!=e&&u(e.length)&&!c(e)}function l(e){return p(e)&&s(e)}function c(e){var t=h(e)?_.call(e):"";return t==y||t==g}function u(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){return!!e&&"object"==typeof e}var f=1/0,d=9007199254740991,m="[object Arguments]",y="[object Function]",g="[object GeneratorFunction]",b="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,w=b||v||Function("return this")(),x=Object.prototype,k=x.hasOwnProperty,_=x.toString,T=w.Symbol,S=x.propertyIsEnumerable,P=T?T.isConcatSpreadable:void 0,E=Array.isArray;e.exports=o}).call(t,n(43))},1242:function(e,t,n){var r;!function(){function i(e){return e instanceof HTMLElement||e instanceof SVGElement}function o(e){if(!i(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)}function a(e){return e&&0==e.lastIndexOf("http",0)&&-1==e.lastIndexOf(window.location.host)}function s(e,t){o(e);var n=e.querySelectorAll("image"),r=n.length,i=function(){0===r&&t()};i();for(var s=0;s<n.length;s++)!function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");if(t&&a(t.value))return void console.warn("Cannot render embedded images linking to external hosts: "+t.value);var n=document.createElement("canvas"),o=n.getContext("2d"),s=new Image;s.crossOrigin="anonymous",t=t||e.getAttribute("href"),t?(s.src=t,s.onload=function(){n.width=s.width,n.height=s.height,o.drawImage(s,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",n.toDataURL("image/png")),r--,i()},s.onerror=function(){console.log("Could not load "+t),r--,i()}):(r--,i())}(n[s])}function l(e,t,n){function r(e){if(e.length>0){var t=e.pop();!function(t){function n(){var e=l.response,n=i(e);a(t,n)}function o(e){console.warn("Failed to load font from: "+t.url),console.warn(e),s+=t.text+"\n",r()}function a(t,n){var i='url("data:'+t.format+";base64,"+n+'")';s+=t.text.replace(t.fontUrlRegexp,i)+"\n",setTimeout(function(){r(e)},0)}var l=new XMLHttpRequest;l.addEventListener("load",n),l.addEventListener("error",o),l.addEventListener("abort",o),l.open("GET",t.url),l.responseType="arraybuffer",l.send()}(t)}else n(s)}function i(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}for(var o=t.selectorRemap,a=t.modifyStyle,s="",l=[],c=document.styleSheets,u=0;u<c.length;u++){try{var h=c[u].cssRules}catch(e){console.warn("Stylesheet could not be loaded: "+c[u].href);continue}if(null!=h)for(var p,f=0;f<h.length;f++,p=null){var d=h[f];if(void 0!==d.style){var m;try{m=d.selectorText}catch(e){console.warn('The following CSS rule has an invalid selector: "'+d+'"',e)}try{m&&(p=e.querySelector(m)||e.parentNode.querySelector(m))}catch(e){console.warn('Invalid CSS selector "'+m+'"',e)}if(p){var y=o?o(d.selectorText):d.selectorText,g=a?a(d.style.cssText):d.style.cssText;s+=y+" { "+g+" }\n"}else if(d.cssText.match(/^@font-face/)){var b=/url\(["']?(.+?)["']?\)/,v=d.cssText.match(b),w=v&&v[1]||"",x=w.match(/^data:/);x&&(w=""),w?(w.startsWith("../")?w=c[u].href+"/../"+w:w.startsWith("./")&&(w=c[u].href+"/."+w),l.push({text:d.cssText,fontUrlRegexp:b,format:function(e){for(var t={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];if(e.indexOf("."+i)>0)return t[i]}return console.error("Unknown font format for "+e+"; Fonts may not be working correctly"),"application/octet-stream"}(w),url:w})):s+=d.cssText+"\n"}}}}r(l)}function c(e,t,n){var r=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[n]||null!==t.getAttribute(n)&&!t.getAttribute(n).match(/%$/)&&parseInt(t.getAttribute(n))||e.getBoundingClientRect()[n]||parseInt(t.style[n])||parseInt(window.getComputedStyle(e).getPropertyValue(n));return void 0===r||null===r||isNaN(parseFloat(r))?0:r}function u(e){return e=encodeURIComponent(e),e=e.replace(/%([0-9A-F]{2})/g,function(e,t){var n=String.fromCharCode("0x"+t);return"%"===n?"%25":n}),decodeURIComponent(e)}function h(e){for(var t=window.atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})}var p=void 0!==t&&t||{}||this;p.prepareSvg=function(e,t,n){o(e),t=t||{},t.scale=t.scale||1,t.responsive=t.responsive||!1;var r="http://www.w3.org/2000/xmlns/";s(e,function(){function i(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="<![CDATA[\n"+e+"\n]]>";var r=document.createElement("defs");if(r.appendChild(t),u.insertBefore(r,u.firstChild),n){var i=s.innerHTML;i=i.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),n(i,o,a)}}var o,a,s=document.createElement("div"),u=e.cloneNode(!0);if("svg"==e.tagName)o=t.width||c(e,u,"width"),a=t.height||c(e,u,"height");else{if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);var h=e.getBBox();o=h.x+h.width,a=h.y+h.height,u.setAttribute("transform",u.getAttribute("transform").replace(/translate\(.*?\)/,""));var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(u),u=p}u.setAttribute("version","1.1"),u.getAttribute("xmlns")||u.setAttributeNS(r,"xmlns","http://www.w3.org/2000/svg"),u.getAttribute("xmlns:xlink")||u.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink"),t.responsive?(u.removeAttribute("width"),u.removeAttribute("height"),u.setAttribute("preserveAspectRatio","xMinYMin meet")):(u.setAttribute("width",o*t.scale),u.setAttribute("height",a*t.scale)),u.setAttribute("viewBox",[t.left||0,t.top||0,o,a].join(" "));for(var f=u.querySelectorAll("foreignObject > *"),d=0;d<f.length;d++)f[d].getAttribute("xmlns")||f[d].setAttributeNS(r,"xmlns","http://www.w3.org/1999/xhtml");s.appendChild(u),l(e,t,i)})},p.svgAsDataUri=function(e,t,n){p.prepareSvg(e,t,function(e){var t="data:image/svg+xml;base64,"+window.btoa(u('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+e));n&&n(t)})},p.svgAsPngUri=function(e,t,n){o(e),t=t||{},t.encoderType=t.encoderType||"image/png",t.encoderOptions=t.encoderOptions||.8;var r=function(e,r,i){var o=document.createElement("canvas"),a=o.getContext("2d");o.width=r,o.height=i,t.canvg?t.canvg(o,e):a.drawImage(e,0,0),t.backgroundColor&&(a.globalCompositeOperation="destination-over",a.fillStyle=t.backgroundColor,a.fillRect(0,0,o.width,o.height));var s;try{s=o.toDataURL(t.encoderType,t.encoderOptions)}catch(e){if("undefined"!=typeof SecurityError&&e instanceof SecurityError||"SecurityError"==e.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw e}n(s)};t.canvg?p.prepareSvg(e,t,r):p.svgAsDataUri(e,t,function(e){var t=new Image;t.onload=function(){r(t,t.width,t.height)},t.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(e.slice(26)),"\n","Open the following link to see browser's diagnosis\n",e)},t.src=e})},p.download=function(e,t){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(h(t),e);else{var n=document.createElement("a");if("download"in n){n.download=e,n.style.display="none",document.body.appendChild(n);try{var r=h(t),i=URL.createObjectURL(r);n.href=i,n.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(i)})}}catch(e){console.warn("This browser does not support object URLs. Falling back to string URL."),n.href=t}n.click(),document.body.removeChild(n)}else window.open(t,"_temp","menubar=no,toolbar=no,status=no")}},p.saveSvg=function(e,t,n){o(e),n=n||{},p.svgAsDataUri(e,n,function(e){p.download(t,e)})},p.saveSvgAsPng=function(e,t,n){o(e),n=n||{},p.svgAsPngUri(e,n,function(e){p.download(t,e)})},void 0!==(r=function(){return p}.call(t,n,t,e))&&(e.exports=r)}()},1243:function(e,t,n){e.exports={Set:n(1244),Static:n(1245)}},1244:function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=n(35),a=n(1236),s=(n(259),i.createClass({displayName:"NotificationSet",getInitialState:function(){return{notifications:[]}},componentDidMount:function(){o.subscribe(this.props.id,function(e,t){"clearall"===t?this.clearAll():this.addNotification(t)}.bind(this))},addNotification:function(e){e.id=o.generateUuid();var t=this.state.notifications.concat(e);this.setState({notifications:t})},removeNotifcation:function(e){return function(t){var n=[];this.state.notifications.forEach(function(t){t.id!==e&&n.push(t)}),this.setState({notifications:n}),t.preventDefault()}.bind(this)},clearAll:function(){this.setState({notifications:[]})},render:function(){var e=this.state.notifications.map(function(e){return i.createElement(a,r({key:e.id},e,{closeHandler:this.removeNotifcation(e.id),className:"is-active"}),e.content)}.bind(this));return i.createElement("div",null,e)}}));e.exports=s},1245:function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=(n(48),n(35)),a=n(259),s=n(1236),l=i.createClass({displayName:"NotificationStatic",getInitialState:function(){return{open:!1}},componentDidMount:function(){o.subscribe(this.props.id,function(e,t){"open"===t?this.setState({open:!0}):"close"===t&&this.setState({open:!1})}.bind(this))},componentWillUnmount:function(){o.unsubscribe(this.props.id)},closeHandler:function(e){this.setState({open:!1}),e.preventDefault(),e.stopPropagation()},render:function(){return i.createElement(a,{active:this.state.open,animationIn:"fadeIn",animationOut:"fadeOut"},i.createElement(s,r({},this.props,{closeHandler:this.closeHandler}),this.props.children))}});e.exports=l},1264:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e){return new y(e)}function y(e){if(!(t=Ah.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],l=!!t[7],c=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(l=!0,u="g"):Oh[u]||(u=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=l,this.precision=c,this.type=u}function g(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do{a.push(new Date(+n))}while(t(n,o),e(n),n<r);return a},i.filter=function(n){return g(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return zh.setTime(+t),Wh.setTime(+r),e(zh),e(Wh),Math.floor(n(zh,Wh))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}function b(e){return g(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hh)/Yh})}function v(e){return g(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Yh})}function w(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function x(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function k(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function _(e){function t(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Sp[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function n(e,t){return function(n){var i=k(1900);if(r(i,e,n+="",0)!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?x(k(i.y)).getUTCDay():t(k(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,x(i)):t(i)}}function r(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Le[i in Sp?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(e,t,n){var r=Te.exec(t.slice(n));return r?(e.p=Se[r[0].toLowerCase()],n+r[0].length):-1}function o(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.w=Oe[r[0].toLowerCase()],n+r[0].length):-1}function a(e,t,n){var r=Pe.exec(t.slice(n));return r?(e.w=Ee[r[0].toLowerCase()],n+r[0].length):-1}function s(e,t,n){var r=De.exec(t.slice(n));return r?(e.m=Ne[r[0].toLowerCase()],n+r[0].length):-1}function l(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Me[r[0].toLowerCase()],n+r[0].length):-1}function c(e,t,n){return r(e,S,t,n)}function u(e,t,n){return r(e,ge,t,n)}function h(e,t,n){return r(e,be,t,n)}function p(e){return xe[e.getDay()]}function f(e){return we[e.getDay()]}function d(e){return _e[e.getMonth()]}function m(e){return ke[e.getMonth()]}function y(e){return ve[+(e.getHours()>=12)]}function g(e){return xe[e.getUTCDay()]}function b(e){return we[e.getUTCDay()]}function v(e){return _e[e.getUTCMonth()]}function _(e){return ke[e.getUTCMonth()]}function T(e){return ve[+(e.getUTCHours()>=12)]}var S=e.dateTime,ge=e.date,be=e.time,ve=e.periods,we=e.days,xe=e.shortDays,ke=e.months,_e=e.shortMonths,Te=P(ve),Se=E(ve),Pe=P(we),Ee=E(we),Ce=P(xe),Oe=E(xe),Ae=P(ke),Me=E(ke),De=P(_e),Ne=E(_e),Re={a:p,A:f,b:d,B:m,c:null,d:q,e:q,H:H,I:Y,j:X,L:V,m:G,M:U,p:y,S:K,U:Z,w:$,W:Q,x:null,X:null,y:J,Y:ee,Z:te,"%":ye},je={a:g,A:b,b:v,B:_,c:null,d:ne,e:ne,H:re,I:ie,j:oe,L:ae,m:se,M:le,p:T,S:ce,U:ue,w:he,W:pe,x:null,X:null,y:fe,Y:de,Z:me,"%":ye},Le={a:o,A:a,b:s,B:l,c:c,d:j,e:j,H:F,I:F,j:L,L:z,m:R,M:I,p:i,S:B,U:O,w:C,W:A,x:u,X:h,y:D,Y:M,Z:N,"%":W};return Re.x=t(ge,Re),Re.X=t(be,Re),Re.c=t(S,Re),je.x=t(ge,je),je.X=t(be,je),je.c=t(S,je),{format:function(e){var n=t(e+="",Re);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",w);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",je);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,x);return t.toString=function(){return e},t}}}function T(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function S(e){return e.replace(Cp,"\\$&")}function P(e){return new RegExp("^(?:"+e.map(S).join("|")+")","i")}function E(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function C(e,t,n){var r=Pp.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function O(e,t,n){var r=Pp.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function A(e,t,n){var r=Pp.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function M(e,t,n){var r=Pp.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function D(e,t,n){var r=Pp.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function N(e,t,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function R(e,t,n){var r=Pp.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function j(e,t,n){var r=Pp.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function L(e,t,n){var r=Pp.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function F(e,t,n){var r=Pp.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function I(e,t,n){var r=Pp.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function B(e,t,n){var r=Pp.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function z(e,t,n){var r=Pp.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function W(e,t,n){var r=Ep.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function q(e,t){return T(e.getDate(),t,2)}function H(e,t){return T(e.getHours(),t,2)}function Y(e,t){return T(e.getHours()%12||12,t,2)}function X(e,t){return T(1+Kh.count(op(e),e),t,3)}function V(e,t){return T(e.getMilliseconds(),t,3)}function G(e,t){return T(e.getMonth()+1,t,2)}function U(e,t){return T(e.getMinutes(),t,2)}function K(e,t){return T(e.getSeconds(),t,2)}function Z(e,t){return T(Zh.count(op(e),e),t,2)}function $(e){return e.getDay()}function Q(e,t){return T($h.count(op(e),e),t,2)}function J(e,t){return T(e.getFullYear()%100,t,2)}function ee(e,t){return T(e.getFullYear()%1e4,t,4)}function te(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+T(t/60|0,"0",2)+T(t%60,"0",2)}function ne(e,t){return T(e.getUTCDate(),t,2)}function re(e,t){return T(e.getUTCHours(),t,2)}function ie(e,t){return T(e.getUTCHours()%12||12,t,2)}function oe(e,t){return T(1+cp.count(Tp(e),e),t,3)}function ae(e,t){return T(e.getUTCMilliseconds(),t,3)}function se(e,t){return T(e.getUTCMonth()+1,t,2)}function le(e,t){return T(e.getUTCMinutes(),t,2)}function ce(e,t){return T(e.getUTCSeconds(),t,2)}function ue(e,t){return T(up.count(Tp(e),e),t,2)}function he(e){return e.getUTCDay()}function pe(e,t){return T(hp.count(Tp(e),e),t,2)}function fe(e,t){return T(e.getUTCFullYear()%100,t,2)}function de(e,t){return T(e.getUTCFullYear()%1e4,t,4)}function me(){return"+0000"}function ye(){return"%"}function ge(e){return e.toISOString()}function be(e){var t=new Date(e);return isNaN(t)?null:t}function ve(e){return function(t,n){return Op(e(t),n)}}function we(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Yp?10:o>=Xp?5:o>=Vp?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Yp?10:o>=Xp?5:o>=Vp?2:1)}function xe(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Yp?i*=10:o>=Xp?i*=5:o>=Vp&&(i*=2),t<e?-i:i}function ke(e){return e.length}function _e(){}function Te(e,t){var n=new _e;if(e instanceof _e)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function Se(){return{}}function Pe(e,t,n){e[t]=n}function Ee(){return rf()}function Ce(e,t,n){e.set(t,n)}function Oe(){}function Ae(e,t){var n=new Oe;if(e instanceof Oe)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}function Me(e){function t(t){var o=t+"",a=n.get(o);if(!a){if(i!==hf)return i;n.set(o,a=r.push(t))}return e[(a-1)%e.length]}var n=rf(),r=[],i=hf;return e=null==e?[]:uf.call(e),t.domain=function(e){if(!arguments.length)return r.slice();r=[],n=rf();for(var i,o,a=-1,s=e.length;++a<s;)n.has(o=(i=e[a])+"")||n.set(o,r.push(i));return t},t.range=function(n){return arguments.length?(e=uf.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(i=e,t):i},t.copy=function(){return Me().domain(r).range(e).unknown(i)},t}function De(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ne(){}function Re(e){var t;return e=(e+"").trim().toLowerCase(),(t=yf.exec(e))?(t=parseInt(t[1],16),new Be(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=gf.exec(e))?je(parseInt(t[1],16)):(t=bf.exec(e))?new Be(t[1],t[2],t[3],1):(t=vf.exec(e))?new Be(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=wf.exec(e))?Le(t[1],t[2],t[3],t[4]):(t=xf.exec(e))?Le(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kf.exec(e))?ze(t[1],t[2]/100,t[3]/100,1):(t=_f.exec(e))?ze(t[1],t[2]/100,t[3]/100,t[4]):Tf.hasOwnProperty(e)?je(Tf[e]):"transparent"===e?new Be(NaN,NaN,NaN,0):null}function je(e){return new Be(e>>16&255,e>>8&255,255&e,1)}function Le(e,t,n,r){return r<=0&&(e=t=n=NaN),new Be(e,t,n,r)}function Fe(e){return e instanceof Ne||(e=Re(e)),e?(e=e.rgb(),new Be(e.r,e.g,e.b,e.opacity)):new Be}function Ie(e,t,n,r){return 1===arguments.length?Fe(e):new Be(e,t,n,null==r?1:r)}function Be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ze(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new He(e,t,n,r)}function We(e){if(e instanceof He)return new He(e.h,e.s,e.l,e.opacity);if(e instanceof Ne||(e=Re(e)),!e)return new He;if(e instanceof He)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new He(a,s,l,e.opacity)}function qe(e,t,n,r){return 1===arguments.length?We(e):new He(e,t,n,null==r?1:r)}function He(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ye(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Xe(e){if(e instanceof Ge)return new Ge(e.l,e.a,e.b,e.opacity);if(e instanceof et){var t=e.h*Sf;return new Ge(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Be||(e=Fe(e));var n=$e(e.r),r=$e(e.g),i=$e(e.b),o=Ue((.4124564*n+.3575761*r+.1804375*i)/Ef),a=Ue((.2126729*n+.7151522*r+.072175*i)/Cf);return new Ge(116*a-16,500*(o-a),200*(a-Ue((.0193339*n+.119192*r+.9503041*i)/Of)),e.opacity)}function Ve(e,t,n,r){return 1===arguments.length?Xe(e):new Ge(e,t,n,null==r?1:r)}function Ge(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Ue(e){return e>Nf?Math.pow(e,1/3):e/Df+Af}function Ke(e){return e>Mf?e*e*e:Df*(e-Af)}function Ze(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function $e(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qe(e){if(e instanceof et)return new et(e.h,e.c,e.l,e.opacity);e instanceof Ge||(e=Xe(e));var t=Math.atan2(e.b,e.a)*Pf;return new et(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Je(e,t,n,r){return 1===arguments.length?Qe(e):new et(e,t,n,null==r?1:r)}function et(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function tt(e){if(e instanceof rt)return new rt(e.h,e.s,e.l,e.opacity);e instanceof Be||(e=Fe(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Wf*r+Bf*t-zf*n)/(Wf+Bf-zf),o=r-i,a=(If*(n-i)-Lf*o)/Ff,s=Math.sqrt(a*a+o*o)/(If*i*(1-i)),l=s?Math.atan2(a,o)*Pf-120:NaN;return new rt(l<0?l+360:l,s,i,e.opacity)}function nt(e,t,n,r){return 1===arguments.length?tt(e):new rt(e,t,n,null==r?1:r)}function rt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function it(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function ot(e,t){return function(n){return e+n*t}}function at(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function st(e,t){var n=t-e;return n?ot(e,n>180||n<-180?n-360*Math.round(n/360):n):Uf(isNaN(e)?t:e)}function lt(e){return 1==(e=+e)?ct:function(t,n){return n-t?at(t,n,e):Uf(isNaN(t)?n:t)}}function ct(e,t){var n=t-e;return n?ot(e,n):Uf(isNaN(e)?t:e)}function ut(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ie(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}function ht(e){return function(){return e}}function pt(e){return function(t){return e(t)+""}}function ft(e){return"none"===e?ad:(qf||(qf=document.createElement("DIV"),Hf=document.documentElement,Yf=document.defaultView),qf.style.transform=e,e=Yf.getComputedStyle(Hf.appendChild(qf),null).getPropertyValue("transform"),Hf.removeChild(qf),e=e.slice(7,-1).split(","),sd(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function dt(e){return null==e?ad:(Xf||(Xf=document.createElementNS("http://www.w3.org/2000/svg","g")),Xf.setAttribute("transform",e),(e=Xf.transform.baseVal.consolidate())?(e=e.matrix,sd(e.a,e.b,e.c,e.d,e.e,e.f)):ad)}function mt(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}function o(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Qf(e,i)},{i:l-2,x:Qf(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}function a(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qf(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}function s(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qf(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}function l(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Qf(e,n)},{i:s-2,x:Qf(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),o(t.translateX,t.translateY,n.translateX,n.translateY,r,i),a(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}function yt(e){return function(t,n){var r=e((t=qe(t)).h,(n=qe(n)).h),i=ct(t.s,n.s),o=ct(t.l,n.l),a=ct(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}function gt(e){return function(t,n){var r=e((t=Je(t)).h,(n=Je(n)).h),i=ct(t.c,n.c),o=ct(t.l,n.l),a=ct(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}function bt(e){return function t(n){function r(t,r){var i=e((t=nt(t)).h,(r=nt(r)).h),o=ct(t.s,r.s),a=ct(t.l,r.l),s=ct(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}function vt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cd(t)}function wt(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function xt(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function kt(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function _t(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=Np(e,t,1,i)-1;return a[n](o[n](t))}}function Tt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function St(e,t){function n(){return i=Math.min(s.length,l.length)>2?_t:kt,o=a=null,r}function r(t){return(o||(o=i(s,l,u?wt(e):e,c)))(+t)}var i,o,a,s=hd,l=hd,c=rd,u=!1;return r.invert=function(e){return(a||(a=i(l,s,vt,u?xt(t):t)))(+e)},r.domain=function(e){return arguments.length?(s=cf.call(e,ud),n()):s.slice()},r.range=function(e){return arguments.length?(l=uf.call(e),n()):l.slice()},r.rangeRound=function(e){return l=uf.call(e),c=id,n()},r.clamp=function(e){return arguments.length?(u=!!e,n()):u},r.interpolate=function(e){return arguments.length?(c=e,n()):c},n()}function Pt(e){var t=e.domain;return e.ticks=function(e){var n=t();return Gp(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return pd(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),r=we(s,l,n),r>0?(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,r=we(s,l,n)):r<0&&(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,r=we(s,l,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,t(i)),e},e}function Et(){var e=St(vt,Qf);return e.copy=function(){return Tt(e,Et())},Pt(e)}function Ct(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:cd(t)}function Ot(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function At(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mt(e){return 10===e?At:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Dt(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Nt(e){return function(t){return-e(-t)}}function Rt(){function e(){return i=Dt(r),o=Mt(r),n()[0]<0&&(i=Nt(i),o=Nt(o)),t}var t=St(Ct,Ot).domain([1,10]),n=t.domain,r=10,i=Dt(10),o=Mt(10);return t.base=function(t){return arguments.length?(r=+t,e()):r},t.domain=function(t){return arguments.length?(n(t),e()):n()},t.ticks=function(e){var t,a=n(),s=a[0],l=a[a.length-1];(t=l<s)&&(p=s,s=l,l=p);var c,u,h,p=i(s),f=i(l),d=null==e?10:+e,m=[];if(!(r%1)&&f-p<d){if(p=Math.round(p)-1,f=Math.round(f)+1,s>0){for(;p<f;++p)for(u=1,c=o(p);u<r;++u)if(!((h=c*u)<s)){if(h>l)break;m.push(h)}}else for(;p<f;++p)for(u=r-1,c=o(p);u>=1;--u)if(!((h=c*u)<s)){if(h>l)break;m.push(h)}}else m=Gp(p,f,Math.min(f-p,d)).map(o);return t?m.reverse():m},t.tickFormat=function(e,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=Dh(n)),e===1/0)return n;null==e&&(e=10);var a=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=a?n(e):""}},t.nice=function(){return n(fd(n(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},t.copy=function(){return Tt(t,Rt().base(r))},t}function jt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Lt(){function e(){var e=arguments.length;if(!e)return[];var r,i=Jp(arguments,t),o=new Array(i);for(r=-1;++r<i;){for(var a=-1,s=o[r]=new Array(e);++a<e;)s[a]=arguments[a][r];o[r]=n.apply(this,o[r])}return o}function t(e){return e.length}var n=yd;return e.combine=function(t){return arguments.length?(n=t,e):n},e}function Ft(e){return"[object Date]"===Object.prototype.toString.call(e)}function It(e,t){return Ft(e)&&Ft(t)?e.getTime()===t.getTime():e===t}function Bt(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n,r=0,i=0;for(n in t)if(i++,!e.hasOwnProperty(n)||!It(e[n],t[n]))return!1;for(n in e)r++;return r===i}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ht(e){return gd}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e],n=t.length;return function(e,r){if(0===n)return Qt(e)?e:r;for(var i=0;null!=e&&i<n;)e=e[t[i++]];return i===n?e:r}}function Xt(e){return"function"==typeof e?e:function(){return e}}function Vt(e,t){var n=e.map(function(e){return e-t}).reduce(function(e,t){return Math.abs(e)<Math.abs(t)?e:t});return t+n}function Gt(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function Ut(e,t,n,r){for(var i=0,o=e.length-1;o-i>1;){var a=Math.round((i+o)/2);n(e[a])<=t?i=a:o=a}return n(e[i])>=t&&n(e[i])<=t&&(o=i),n(e[o])>=t&&n(e[o])<=t&&(i=o),n(e[i])<t&&n(e[o])<t&&(i=o),n(e[i])>t&&n(e[o])>t&&(o=i),{left:i,right:o}}function Kt(e,t,n,r){var i=Ut(e,t,n,r),o=i.left,a=i.right;if(o===a)return e[o];var s=Math.abs(n(e[o])-t)<Math.abs(n(e[a])-t)?e[o]:e[a];return r&&console.log(e[o],e[a],s,o,a),s}function Zt(e,t){if(!t||!e)return e?e[0]:void 0;for(var n,r=0;r<e.length;r++)if(n=e[r],Qt(t(n)))return n}function $t(e,t){if(!t||!e){var n=e?e.length:0;return n?e[n-1]:void 0}for(var r,i=e.length-1;i>=0;i--)if(r=e[i],Qt(t(r)))return r}function Qt(e){return null!==e&&void 0!==e}function Jt(e){return!Qt(e)}function en(e){return Qt(e)&&"object"===(void 0===e?"undefined":Ed(e))&&!Array.isArray(e)}function tn(e,t){var n=t.target,r=n.getBoundingClientRect(),i=e.clientX-r.left-n.clientLeft,o=e.clientY-r.top-n.clientTop;return[Math.round(i),Math.round(o)]}function nn(e,t){var n=e.currentTarget,r=t||n.getBoundingClientRect(),i=e.clientX-r.left-n.clientLeft,o=e.clientY-r.top-n.clientTop;return[Math.round(i),Math.round(o)]}function rn(e,t){e.forEach(function(e){e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(t,t)})}function on(e,t){var n=e.replace("#","");if(e.indexOf("#")>-1&&(3===n.length||6===n.length)){var r=3===n.length?1:2;return"rgba("+parseInt(n.substring(0,1*r),16)+", "+parseInt(n.substring(1*r,2*r),16)+", "+parseInt(n.substring(2*r,3*r),16)+", "+t+")"}return e}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function cn(e,t){var n=e.width,r=e.height;return{availableWidth:n,availableHeight:r,width:t.width||n,height:t.height||r}}function un(e){return function(t){var n=e(t);return en(n)?Object.keys(n).map(function(e){return n[e]}):n}}function hn(e,t){return Tu.a.Children.map(t,function(t){if(t.type===Fd){var n=t.props,r=n.id,i=n.origin,o=n.padding,a=n.yExtents,s=n.yScale,l=n.flipYScale,c=n.yExtentsCalculator,u=cn(e,t.props),h=u.width,p=u.height,f=u.availableWidth,d=u.availableHeight,m=t.props.yPan,y=Qt(a)?(Array.isArray(a)?a:[a]).map(Xt):void 0;return{id:r,origin:Xt(i)(f,d),padding:o,yExtents:y,yExtentsCalculator:c,flipYScale:l,yScale:s,yPan:m,width:h,height:p}}}).filter(function(e){return Qt(e)})}function pn(e,t){return e.filter(function(e){var n=e.origin[1],r=n+e.height;return t[1]>n&&t[1]<r}).map(function(e){return e.id})}function fn(e,t,n,r){if(e.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints(r?[0,t]:[t,0],n)}else{var i=isNaN(n)?n:{top:n,bottom:n},o=i.top,a=i.bottom;e.range(r?[o,t-a]:[t-a,o])}return e}function dn(e,t,n){var r=e.map(function(e){return n.map(un(e))}),i=Nd()(r);return t.invert?Ip(i):sf(i).values()}function mn(e,t,n,r,i){var o=e.map(function(e){var i=e.yExtentsCalculator,o=e.yExtents,a=e.yScale;return{realYDomain:Qt(i)?i(t,n):dn(o,a,t),yDomainDY:Qt(r)?a.range().map(function(e){return e-r}).map(a.invert):a.domain(),prevYDomain:a.domain()}});return Lt().combine(function(e,t){var n=t.realYDomain,r=t.yDomainDY,o=t.prevYDomain,a=e.id,s=e.padding,l=e.height,c=e.yScale,u=e.yPan,h=e.flipYScale,p=e.yPanEnabled,f=void 0!==p&&p,d=!Qt(i)||i.indexOf(a)>-1,m=u&&f?d?r:o:n;return Id({},e,{yScale:fn(c.copy().domain(m),l,s,h),realYDomain:n})})(e,o)}function yn(e,t,n,r){var i,o;if(e.invert)i=e.invert(n[0]),o=Kt(r,i,t);else{var a=e.range().map(function(e,t){return{x:Math.abs(e-n[0]),idx:t}}).reduce(function(e,t){return e.x<t.x?e:t});o=Qt(a)?r[a.idx]:r[0]}return o}function gn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bd&&t.documentElement.namespaceURI===Bd?t.createElement(e):t.createElementNS(n,e)}}function bn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vn(){return new wn}function wn(){this._="@"+(++Hd).toString(36)}function xn(e,t,n){return e=kn(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function kn(e,t,n){return function(r){var i=Kd;Kd=r;try{e.call(this,this.__data__,t,n)}finally{Kd=i}}}function _n(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function Tn(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function Sn(e,t,n){var r=Ud.hasOwnProperty(e.type)?xn:kn;return function(i,o,a){var s,l=this.__on,c=r(t,o,a);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function Pn(){}function En(){return[]}function Cn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function On(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Cn(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function An(e,t,n,r,i,o,a){var s,l,c,u={},h=t.length,p=o.length,f=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(f[s]=c=om+a.call(l,l.__data__,s,t),c in u?i[s]=l:u[c]=l);for(s=0;s<p;++s)c=om+a.call(e,o[s],s,o),(l=u[c])?(r[s]=l,l.__data__=o[s],u[c]=null):n[s]=new Cn(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&u[f[s]]===l&&(i[s]=l)}function Mn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dn(e){return function(){this.removeAttribute(e)}}function Nn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rn(e,t){return function(){this.setAttribute(e,t)}}function jn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ln(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Fn(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function In(e){return function(){this.style.removeProperty(e)}}function Bn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function zn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Wn(e,t){return e.style.getPropertyValue(t)||bm(e).getComputedStyle(e,null).getPropertyValue(t)}function qn(e){return function(){delete this[e]}}function Hn(e,t){return function(){this[e]=t}}function Yn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Xn(e){return e.trim().split(/^|\s+/)}function Vn(e){return e.classList||new Gn(e)}function Gn(e){this._node=e,this._names=Xn(e.getAttribute("class")||"")}function Un(e,t){for(var n=Vn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Kn(e,t){for(var n=Vn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Zn(e){return function(){Un(this,e)}}function $n(e){return function(){Kn(this,e)}}function Qn(e,t){return function(){(t.apply(this,arguments)?Un:Kn)(this,e)}}function Jn(){this.textContent=""}function er(e){return function(){this.textContent=e}}function tr(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function nr(){this.innerHTML=""}function rr(e){return function(){this.innerHTML=e}}function ir(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function or(){this.nextSibling&&this.parentNode.appendChild(this)}function ar(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sr(){return null}function lr(){var e=this.parentNode;e&&e.removeChild(this)}function cr(e,t,n){var r=bm(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ur(e,t){return function(){return cr(this,e,t)}}function hr(e,t){return function(){return cr(this,e,t.apply(this,arguments))}}function pr(e,t){this._groups=e,this._parents=t}function fr(){return new pr([[document.documentElement]],Mm)}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function gr(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function wr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xr(e){return Array.isArray(e)?e:Array.from(e)}function kr(e,t,n,r,i){function o(e,o,a,s,l,c){if(n)return{plotData:e,domain:o};var u,h,p=Md(o),f=$t(o),d=Pr(e,p,f,a),m=[Math.max(p,t(Md(e))),Math.min(f,t($t(e)))],y=t===a?r?m:o:[t(Md(d)),t($t(d))],g=s.copy().domain(y),b=Math.floor(g(t($t(d)))-g(t(Md(d)))),v=$t(g.range())-Md(g.range());if(zm("Trying to show "+d.length+" in "+b+"px, I can show up to "+Sr(b,i)+" in that width. Also FYI the entire chart width is "+v+"px and pointsPerPxThreshold is "+i),_r(b,d.length,i))u=d,h=y,zm("AND IT WORKED");else{u=l||d.slice(d.length-Sr(b,i)),h=c||[t(Md(u)),t($t(u))];var w=g.copy().domain(h),x=Math.floor(w(t($t(u)))-w(t(Md(u))));zm("and ouch, that is too much, so instead showing "+u.length+" in "+x+"px")}return{plotData:u,domain:h}}return o}function _r(e,t,n){return t>1&&t<Tr(e,n)}function Tr(e,t){return Math.floor(e*t)}function Sr(e,t){return Math.floor(.97*Tr(e,t))}function Pr(e,t,n,r){var i=Ut(e,t,r).right,o=Ut(e,n,r).left;return e.slice(i,o+1)}function Er(e){if(0===e.length)return yd;if(1===e.length)return e[0];var t=xr(e),n=t[0],r=t.slice(1);return function(e){return r.reduce(function(e,t){return t(e)},n(e))}}function Cr(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Dr(e,t){return!Xm.every(function(n){return Bt(e[n],t[n])})}function Nr(e){var t="\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-toottip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}";return Tu.a.createElement("style",{type:"text/css"},e?"\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -webkit-grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-toottip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}"+t:t)}function Rr(e){return{height:e.height-e.margin.top-e.margin.bottom,width:e.width-e.margin.left-e.margin.right}}function jr(e){return e?-1:1}function Lr(e){var t=e.data,n=e.calculator,r=e.plotFull,i=e.xScale,o=e.clamp,a=e.pointsPerPxThreshold,s=e.map,l=e.xScaleProvider,c=e.indexAccessor,u=e.indexMutator,h=e.xAccessor,p=e.displayXAccessor,f=Qt(r)?r:h===yd,d=Rr(e),m=Wm().xAccessor(h).pointsPerPxThreshold(a).indexAccessor(c).indexMutator(u).map(s).useWholeData(f).width(d.width).scaleProvider(l).xScale(i).clamp(o).calculator(n),y=m(t),g=y.xAccessor,b=y.displayXAccessor,v=y.xScale,w=y.fullData,x=y.filterData;return{xAccessor:g,displayXAccessor:p||b,xScale:v,fullData:w,filterData:x}}function Fr(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],Br(e)),n=t.plotData,r=t.xScale,i=e.postCalculator,o=e.children,a=i(n),s=Rr(e),l=mn(hn(s,o),a,r.domain());return Ym({},t,{xScale:r,plotData:a,chartConfig:l})}function Ir(e,t,n,r){var i,o=e.fullData,a=e.xScale,s=e.xAccessor,l=e.filterData,c=$t(o),u=t.domain(),h=Hm(u,2),p=h[0],f=h[1],d=n.postCalculator,m=n.children,y=n.padding,g=n.flipXScale,b=jr(g),v=Rr(n),w=zr(a,v,y,b);if(!r||f>=s(c))i=l(o,[p,f],s,w).plotData,w.domain([p,f]);else if(r&&f<s(c)){var x=t(s(c))-t.range()[1],k=t.range().map(function(e){return e+x}).map(t.invert),_=Hm(k,2),T=_[0],S=_[1];i=l(o,[T,S],s,w).plotData,w.domain([T,S])}var P=d(i);return{xScale:w,xAccessor:s,chartConfig:mn(hn(v,m),P,w.domain()),plotData:P,fullData:o,filterData:l}}function Br(e){var t=e.xAccessor,n=e.xExtents,r=e.data,i=e.padding,o=e.flipXScale,a=jr(o),s=Rr(e),l="function"==typeof n?n(r):Ip(n.map(function(e){return Xt(e)}).map(function(e){return e(r,t)})),c=Lr(e),u=c.xAccessor,h=c.displayXAccessor,p=c.xScale,f=c.fullData,d=c.filterData,m=zr(p,s,i,a),y=d(f,l,t,m),g=y.plotData,b=y.domain;return{plotData:g,xScale:m.domain(b),xAccessor:u,displayXAccessor:h,fullData:f,filterData:d}}function zr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e.rangeRoundPoints){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.rangeRoundPoints([0,t.width],n)}else if(e.padding){if(isNaN(n))throw new Error("padding has to be a number for ordinal scale");e.range([0,t.width]),e.padding(n/2)}else{var i=isNaN(n)?n:{left:n,right:n},o=i.left,a=i.right;r>0?e.range([o,t.width-a]):e.range([t.width-a,o])}return e}function Wr(e,t,n){return!isNaN(e(t(Md(n))))&&Qt(e.invert)}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Yr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ur(e,t){return t.hoverEnabled?e.hover:e.axes}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Qr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Jr(){return new Qr}function ei(e){this._context=e}function ti(e){return e[0]}function ni(e){return e[1]}function ri(e){this._curve=e}function ii(e){function t(t){return new ri(e(t))}return t._curve=e,t}function oi(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ai(e){this._context=e}function si(e){this._context=e}function li(e){this._context=e}function ci(e,t){this._basis=new ai(e),this._beta=t}function ui(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function hi(e,t){this._context=e,this._k=(1-t)/6}function pi(e,t){this._context=e,this._k=(1-t)/6}function fi(e,t){this._context=e,this._k=(1-t)/6}function di(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>uy){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>uy){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function mi(e,t){this._context=e,this._alpha=t}function yi(e,t){this._context=e,this._alpha=t}function gi(e,t){this._context=e,this._alpha=t}function bi(e){this._context=e}function vi(e){return e<0?-1:1}function wi(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(vi(o)+vi(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xi(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ki(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function _i(e){this._context=e}function Ti(e){this._context=new Si(e)}function Si(e){this._context=e}function Pi(e){this._context=e}function Ei(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Ci(e,t){this._context=e,this._t=t}function Oi(e){return new Ci(e,0)}function Ai(e,t){return e[t]}function Mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Di(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ni(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ri(e,t){t.beginPath();var n=Md(e),r=_y(n,2),i=r[0],o=r[1];t.moveTo(i,o);for(var a=1;a<e.length;a++){var s=_y(e[a],2),l=s[0],c=s[1];t.lineTo(l,c)}t.stroke()}function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Fi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ii(e,t,n){n.beginPath();var r=Md(e),i=Ey(r,2),o=i[0],a=i[1];n.moveTo(o,a);var s;for(s=0;s<t.length;s++){var l=Ey(t[s],2),c=l[0],u=l[1];n.lineTo(c,u)}for(s=e.length-1;s>=0;s--){var h=Ey(e[s],2),p=h[0],f=h[1];n.lineTo(p,f)}n.closePath(),n.fill()}function Bi(e){var t=e.yAccessor,n=e.baseAt,r=e.className,i=e.opacity,o=e.stroke,a=e.strokeWidth,s=e.fill;return Tu.a.createElement("g",{className:r},Tu.a.createElement(Py,{yAccessor:t,stroke:o,fill:"none",strokeWidth:a,hoverHighlight:!1}),Tu.a.createElement(Ay,{yAccessor:t,base:n,stroke:"none",fill:s,opacity:i}))}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Hi(e,t,n){var r=e.yAccessor,i=e.marker,o=e.markerProvider,a=e.markerProps,s=t.xScale,l=t.chartConfig.yScale,c=t.plotData;if(!o&&!i)throw new Error("required prop, either marker or markerProvider missing");return c.map(function(e){o&&(i=o(e));var t=Dy({},i.defaultProps,a),c=Xt(t.fill),u=Xt(t.stroke);return{x:s(n(e)),y:l(r(e)),fill:on(c(e),t.opacity),stroke:u(e),datum:e,marker:i}})}function Yi(e,t,n){var r=t.markerProps;of().key(function(e){return e.fill}).key(function(e){return e.stroke}).entries(n).forEach(function(t){var n=t.key,i=t.values;"none"!==n&&(e.fillStyle=n),i.forEach(function(t){t.values.forEach(function(t){var i=t.marker;i.drawOnCanvas(Dy({},i.defaultProps,r,{fill:n}),t,e)})})})}function Xi(e){var t=e.className,n=e.stroke,r=e.strokeWidth,i=e.opacity,o=e.fill,a=e.point,s=e.r,l=Xt(s)(a.datum);return Tu.a.createElement("circle",{className:t,cx:a.x,cy:a.y,stroke:n,strokeWidth:r,fillOpacity:i,fill:o,r:l})}function Vi(e){var t=e.className,n=e.stroke,r=e.strokeWidth,i=e.opacity,o=e.fill,a=e.point,s=e.width,l=Xt(s)(a.datum),c=a.x,u=a.y,h=Gi(l),p=h.innerOpposite,f=h.innerHypotenuse,d="\n\t\t"+c+" "+(u-f)+",\n\t\t"+(c+l/2)+" "+(u+p)+",\n\t\t"+(c-l/2)+" "+(u+p)+"\n\t";return Tu.a.createElement("polygon",{className:t,points:d,stroke:n,strokeWidth:r,fillOpacity:i,fill:o})}function Gi(e){var t=e/2*(1/Math.cos(30*Math.PI/180));return{innerOpposite:e/2*(1/Math.tan(60*Math.PI/180)),innerHypotenuse:t}}function Ui(e){var t=e.className,n=e.stroke,r=e.strokeWidth,i=e.opacity,o=e.fill,a=e.point,s=e.width,l=Xt(s)(a.datum),c=a.x-l/2,u=a.y-l/2;return Tu.a.createElement("rect",{className:t,x:c,y:u,stroke:n,strokeWidth:r,fillOpacity:i,fill:o,width:l,height:l})}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Qi(e,t){var n=t.xScale,r=t.chartConfig.yScale,i=t.plotData;return to(e,t.xAccessor,n,r,i).map(function(e,t){return Tu.a.createElement("path",{key:t,className:e.className,stroke:e.stroke,style:{shapeRendering:"crispEdges"},d:"M"+e.x+","+e.y1+" L"+e.x+","+e.y2+" M"+e.x+","+e.y3+" L"+e.x+","+e.y4})})}function Ji(e,t){var n=e.opacity,r=e.candleStrokeWidth,i=t.xScale,o=t.chartConfig.yScale,a=t.plotData;return no(e,t.xAccessor,i,o,a).map(function(e,t){return e.width<0?Tu.a.createElement("line",{className:e.className,key:t,x1:e.x,y1:e.y,x2:e.x,y2:e.y+e.height,stroke:e.fill}):0===e.height?Tu.a.createElement("line",{key:t,x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height,stroke:e.fill}):Tu.a.createElement("rect",{key:t,className:e.className,fillOpacity:n,x:e.x,y:e.y,width:e.width,height:e.height,fill:e.fill,stroke:e.stroke,strokeWidth:r})})}function eo(e,t,n){var r=t.opacity,i=t.candleStrokeWidth,o=n.xScale,a=n.chartConfig.yScale,s=n.plotData,l=n.xAccessor,c=to(t,l,o,a,s);of().key(function(e){return e.stroke}).entries(c).forEach(function(t){var n=t.key,r=t.values;e.strokeStyle=n,r.forEach(function(t){e.beginPath(),e.moveTo(t.x,t.y1),e.lineTo(t.x,t.y2),e.moveTo(t.x,t.y3),e.lineTo(t.x,t.y4),e.stroke()})});var u=no(t,l,o,a,s);of().key(function(e){return e.stroke}).key(function(e){return e.fill}).entries(u).forEach(function(t){var n=t.key,o=t.values;"none"!==n&&(e.strokeStyle=n,e.lineWidth=i),o.forEach(function(t){var i=t.key,o=t.values;e.fillStyle=on(i,r),o.forEach(function(t){t.width<0?(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x,t.y+t.height),e.stroke()):0===t.height?(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.width,t.y+t.height),e.stroke()):(e.beginPath(),e.rect(t.x,t.y,t.width,t.height),e.closePath(),e.fill(),"none"!==n&&e.stroke())})})})}function to(e,t,n,r,i){var o=e.classNames,a=e.wickStroke,s=e.yAccessor,l=Xt(a),c=Xt(o);return i.filter(function(e){return Qt(s(e).close)}).map(function(e){var i=s(e);return{x:Math.round(n(t(e))),y1:r(i.high),y2:r(Math.max(i.open,i.close)),y3:r(Math.min(i.open,i.close)),y4:r(i.low),className:c(i),direction:i.close-i.open,stroke:l(i)}})}function no(e,t,n,r,i){var o=e.classNames,a=e.fill,s=e.stroke,l=e.widthRatio,c=e.yAccessor,u=Xt(a),h=Xt(s),p=n(t($t(i)))-n(t(Md(i))),f=p/(i.length-1)*l,d=Math.round(f),m=1===d?0:.5*f;return i.filter(function(e){return Qt(c(e).close)}).map(function(e){var i=c(e),a=Math.round(n(t(e))-m),s=r(Math.max(i.open,i.close)),l=Math.abs(r(i.open)-r(i.close)),p=i.open<=i.close?o.up:o.down;return{x:a,y:s,height:l,width:d,className:p,fill:u(i),stroke:h(i),direction:i.close-i.open}})}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ao(e,t){var n=t.strokeWidth,r=t.bars,i=of().key(function(e){return e.stroke}).entries(r);e.lineWidth=n,i.forEach(function(t){var n=t.key,r=t.values;e.strokeStyle=n,r.forEach(function(t){e.beginPath(),e.moveTo(t.x,t.y1),e.lineTo(t.x,t.y2),e.moveTo(t.openX1,t.openY),e.lineTo(t.openX2,t.openY),e.moveTo(t.closeX1,t.closeY),e.lineTo(t.closeX2,t.closeY),e.stroke()})})}function so(e,t,n,r,i,o){var a=e.classNames,s=e.stroke,l=Xt(s),c=Xt(a),u=r(t(o[o.length-1]))-r(t(o[0])),h=Math.max(1,Math.round(u/(o.length-1)/2)-1.5),p=Math.min(h,6),f=o.filter(function(e){return Qt(n(e).close)}).map(function(e){var o=n(e),a=Math.round(r(t(e))),s=i(o.high),u=i(o.low),f=a-h,d=a+p/2,m=i(o.open),y=a-p/2,g=a+h,b=i(o.close),v=c(e);return{x:a,y1:s,y2:u,openX1:f,openX2:d,openY:m,closeX1:y,closeX2:g,closeY:b,stroke:l(e),className:v}});return{barWidth:h,strokeWidth:p,bars:f}}function lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ho(){function e(e){return t.map(function(t,n){var r=e.map(function(e){var n=[0,e[t]];return n.data=e,n});return r.key=t,r.index=n,r})}var t=[];return e.keys=function(n){return arguments.length?(t=n,e):t},e}function po(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yd,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uy,s=n.xScale,l=n.chartConfig.yScale;bo(t,e,yo(t,r,n.plotData,s,l,i,a,o))}function fo(e){return Array.isArray(e)?e:[e]}function mo(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yd,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Uy,a=t.xScale,s=t.chartConfig.yScale;return go(e,yo(e,n,t.plotData,a,s,r,o,i))}function yo(e,t,n,r,i,o,a,s){var l=e.yAccessor,c=e.swapScales,u=fo(c?e.xAccessor:l);return vo(e,c?l:t,u,c?i:r,c?r:i,n,o,c?a:s)}function go(e,t){var n=e.opacity;return t.map(function(e,t){return e.width<=1?Tu.a.createElement("line",{key:t,className:e.className,stroke:e.fill,x1:e.x,y1:e.y,x2:e.x,y2:e.y+e.height}):Tu.a.createElement("rect",{key:t,className:e.className,stroke:e.stroke,fill:e.fill,x:e.x,y:e.y,width:e.width,fillOpacity:n,height:e.height})})}function bo(e,t,n){var r=e.stroke;of().key(function(e){return e.fill}).entries(n).forEach(function(n){var i=n.key,o=n.values;o[0].width<=1?t.strokeStyle=on(i,e.opacity):(t.strokeStyle=i,t.fillStyle=on(i,e.opacity)),o.forEach(function(e){e.width<=1?(t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x,e.y+e.height),t.stroke()):(t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.fill(),r&&t.stroke())})})}function vo(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ho,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:yd,l=e.baseAt,c=e.className,u=e.fill,h=e.stroke,p=e.widthRatio,f=e.spaceBetweenBar,d=void 0===f?0:f,m=Xt(c),y=Xt(u),g=Xt(l),b=Math.abs(r(t($t(o)))-r(t(Md(o)))),v=b/(o.length-1)*p,w=Math.round(v),x=(w-d*(n.length-1))/n.length,k=1===w?0:.5*v,_=o.map(function(e){var r={appearance:{},x:t(e)};return n.forEach(function(t,n){var i="y"+n;r[i]=t(e);var o={className:m(e,n),stroke:h?y(e,n):"none",fill:y(e,n)};r.appearance[i]=o}),r}),T=n.map(function(e,t){return"y"+t}),S=a().keys(T)(_),P=S.map(function(e,t){var n=e.key;return e.map(function(e){var r=[e[0],e[1]];return r.data={x:e.data.x,i:t,appearance:e.data.appearance[n]},r})});return s(Qp(P).map(function(e){var t=i(e[1]),n=g(r,i,e.data)-i(e[1]-e[0]);return n<0&&(t+=n,n=-n),Xy({},e.data.appearance,{x:Math.round(r(e.data.x)-v/2),y:t,groupOffset:Math.round(k-(e.data.i>0?(x+d)*e.data.i:0)),groupWidth:Math.round(x),offset:Math.round(k),height:n,width:w})}).filter(function(e){return!isNaN(e.y)}))}function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ko(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function So(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Po(e){return e.map(function(e){return Jy({},e,{x:e.x+e.offset-e.groupOffset,width:e.groupWidth})})}function Eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Co(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ao(e,t,n,r){var i=t.stroke,o=t.strokeWidth,a=t.currentValueStroke,s=n.xScale,l=n.chartConfig.yScale,c=n.plotData,u=Mo(c,r),h=!0;u.forEach(function(t){e.strokeStyle=i[t.type],e.lineWidth=o,e.beginPath();var n;t.plot.forEach(function(t){var r=[s(t[0]),l(t[1])],i=r[0],o=r[1];h?(e.moveTo(i,o),h=!1):(Qt(n)&&e.lineTo(n,o),e.lineTo(i,o)),n=i}),e.stroke()});var p=u[u.length-1].plot,f=p[p.length-1];e.beginPath(),e.lineWidth=1;var d=[s(f[0]),l(f[2]),l(f[3])],m=d[0],y=d[1],g=d[2];e.moveTo(m,y),e.lineTo(m+10,y),e.stroke(),e.beginPath(),e.strokeStyle=a,e.moveTo(m-10,g),e.lineTo(m,g),e.stroke()}function Mo(e,t){for(var n=[],r={},i=e[0],o=t(i),a=0;a<e.length;a++)i=e[a],Jt(i.close)||(Jt(r.type)&&(r.type=i.startAs),Jt(r.plot)&&(r.plot=[]),o=t(i),r.plot.push([o,i.open]),Qt(i.changeTo)&&(r.plot.push([o,i.changePoint]),r.added=!0,n.push(r),r={type:i.changeTo,plot:[],added:!1},r.plot.push([o,i.changePoint])));return r.added||(r.plot.push([o,i.close,i.current,i.reverseAt]),n.push(r)),n}function Do(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function jo(e,t,n){var r=t.stroke,i=t.fill,o=t.strokeWidth;e.lineWidth=o,n.forEach(function(t){var n=ag(t.offset,2),o=n[0],a=n[1];t.boxes.forEach(function(n){if(t.direction>0)e.fillStyle=i.up,e.strokeStyle=r.up,e.beginPath(),e.moveTo(o,a+n.open),e.lineTo(o+n.columnWidth,a+n.close),e.moveTo(o,a+n.close),e.lineTo(o+n.columnWidth,a+n.open),e.stroke();else{e.fillStyle=i.down,e.strokeStyle=r.down,e.beginPath();var s=o+n.columnWidth/2,l=a+n.open+n.boxHeight/2,c=n.columnWidth/2,u=n.boxHeight/2;e.ellipse(s,l,c,u,0,0,2*Math.PI),e.stroke()}})}),e.stroke()}function Lo(e,t,n,r){for(var i,o=e(t(r[r.length-1]))-e(t(r[0])),a=o/(r.length-1),s=0;Jt(i)&&Qt(r[s].close);)i=r[s].boxes[0],s++;var l=Math.abs(n(i.open)-n(i.close));return r.filter(function(e){return Qt(e.close)}).map(function(r){var i=r.boxes.map(function(e){return{columnWidth:a,boxHeight:l,open:n(e.open),close:n(e.close)}}),o=e(t(r))-a/2;return{boxes:i,direction:r.direction,offset:[o,0]}})}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Io(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Bo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function zo(e,t){t.forEach(function(t){e.beginPath(),e.strokeStyle=t.stroke,e.fillStyle=t.fill,e.rect(t.x,t.y,t.width,t.height),e.closePath(),e.fill()})}function Wo(e,t,n,r,i,o){var a=e.classNames,s=e.fill,l=n(r(t[t.length-1]))-n(r(t[0])),c=l/(t.length-1);return t.filter(function(e){return Qt(o(e).close)}).map(function(e){var t=o(e),l=n(r(e))-.5*c,u=i(Math.max(t.open,t.close)),h=Math.abs(i(t.open)-i(t.close)),p=t.open<=t.close?a.up:a.down,f=t.open<=t.close?s.up:s.down;return e.fullyFormed||(f=s.partial),{className:p,fill:f,x:l,y:u,height:h,width:c}})}function qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ho(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Yo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xo(e,t,n,r,i,o,a){return"horizontal"===e?{x1:0,y1:n(i),x2:o,y2:n(i)}:{x1:t(r),y1:0,x2:t(r),y2:a}}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Go(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ea(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ta(e,t,n){return Tu.a.createElement(yg,{stroke:n,opacity:.3,yValue:t})}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ra(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ia(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oa(e,t,n){return Tu.a.createElement(yg,{stroke:n,opacity:.3,yValue:t})}function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function la(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ca(e,t,n,r,i,o){var a=e.baseAt,s=e.className,l=e.fill,c=e.stroke,u=e.widthRatio,h=Xt(s),p=Xt(l),f=Xt(a),d=Math.abs(r(t($t(o)))-r(t(Md(o)))),m=d/(o.length-1)*u,y=Math.round(m),g=1===y?0:.5*m,b=o.map(function(e){for(var o,a=n.map(function(n,o){var a=n(e);if(!Jt(a)){var s=t(e),l=Math.round(r(s))-g,u=i(a);return{width:y,x:l,y:u,className:h(e,o),stroke:c?p(e,o):"none",fill:p(e,o),i:o}}}).filter(function(e){return Qt(e)}),s=f(r,i,e),l=a.length-1;l>=0;l--)o=s-a[l].y,o<0&&(a[l].y=s,o*=-1),a[l].height=o,s=a[l].y;return a});return Qp(b)}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ya(e,t,n,r){var i=t.xScale,o=t.chartConfig.yScale,a=t.plotData,s=e.sessionStart,l=e.bySession,c=e.partialStartOK,u=e.partialEndOK,h=e.bins,p=e.maxProfileWidthPercent,f=e.source,d=e.volume,m=e.absoluteChange,y=e.orient,g=e.fill,b=e.stroke,v=xd().discardTillStart(!c).discardTillEnd(!u).accumulateTill(function(e,t){return s({d:e,i:t,plotData:a})}).accumulator(yd),w=a.length>1?i(n(a[1]))-i(n(Zt(a))):0,x=l?v(a):[a],k=x.map(function(e){var t=l?i(n(Zt(e))):0,a=l?i(n($t(e))):r,s=a-t+w,c=Kp().value(f).thresholds(h),u=of().key(function(e){return e.direction}).sortKeys("right"===y?Rp:Op).rollup(function(e){return ef(e,function(e){return e.volume})}),v=c(e),x=v.map(function(e){return e.map(function(e){return m(e)>0?{direction:"up",volume:d(e)}:{direction:"down",volume:d(e)}})}).map(function(e){return u.entries(e)}),k=x.map(function(e){return ef(e.map(function(e){return e.value}))}),_=function(e){return Zt(e.range())},T="right"===y?[t,t+s*p/100]:[a,a-s*(100-p)/100],S=jg(T,2),P=S[0],E=S[1],C=Et().domain([0,Zp(k)]).range([P,E]),O=x.map(function(e){var t=ef(e,function(e){return e.value}),n=C(t),r=_(C)-n;return{x:r<0?n+r:n,ws:e.map(function(e){return{type:e.key,width:e.value*Math.abs(r)/t}}),totalVolumeX:n}}),A=nf(v,O).map(function(e){var t=jg(e,2),n=t[0],i=t[1],a=i.x,s=i.ws,l=s[0]||{type:"up",width:0},c=s[1]||{type:"down",width:0};return{y:o(n.x1),height:o(n.x1)-o(n.x0),x:a,width:r,w1:l.width,w2:c.width,stroke1:Xt(b)(l),stroke2:Xt(b)(c),fill1:Xt(g)(l),fill2:Xt(g)(c)}});return{rects:A,sessionBg:{x:t,y:$t(A).y,height:Zt(A).y-$t(A).y+Zt(A).height,width:s}}});return{rects:Qp(k.map(function(e){return e.rects})),sessionBg:k.map(function(e){return e.sessionBg})}}function ga(e,t,n,r){var i=t.opacity,o=t.sessionBackGround,a=t.sessionBackGroundOpacity;t.showSessionBackground&&(e.fillStyle=on(o,a),r.forEach(function(t){var n=t.x,r=t.y,i=t.height,o=t.width;e.beginPath(),e.rect(n,r,o,i),e.closePath(),e.fill()})),n.forEach(function(t){var n=t.x,r=t.y,o=t.height,a=t.w1,s=t.w2,l=t.stroke1,c=t.stroke2,u=t.fill1,h=t.fill2;a>0&&(e.fillStyle=on(u,i),"none"!==l&&(e.strokeStyle=l),e.beginPath(),e.rect(n,r,a,o),e.closePath(),e.fill(),"none"!==l&&e.stroke()),s>0&&(e.fillStyle=on(h,i),"none"!==c&&(e.strokeStyle=c),e.beginPath(),e.rect(n+a,r,s,o),e.closePath(),e.fill(),"none"!==c&&e.stroke())})}function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function va(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function wa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xa(e,t){function n(e){return r(e)}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et();if(Jt(e))throw new Error("Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale");return n.invert=function(e){var t=r.invert(e);return Math.round(1e4*t)/1e4},n.domain=function(e){return arguments.length?(r.domain(e),n):r.domain()},n.range=function(e){return arguments.length?(r.range(e),n):r.range()},n.rangeRound=function(e){return r.range(e)},n.clamp=function(e){return arguments.length?(r.clamp(e),n):r.clamp()},n.interpolate=function(e){return arguments.length?(r.interpolate(e),n):r.interpolate()},n.ticks=function(t,n){for(var i=r.ticks(t),o=rf(),a=r.domain(),s=Yg(a,2),l=s[0],c=s[1],u=Math.max(Math.ceil(l),Zt(e).index)+Math.abs(Zt(e).index),h=Math.min(Math.floor(c),$t(e).index)+Math.abs(Zt(e).index),p=Math.ceil((h-u)/(c-l)*i.length),f=Vg;f>=0;f--){for(var d=o.get(f),m=Jt(d)?[]:d.slice(),y=u;y<=h;y++)e[y].level===f&&m.push(e[y]);o.set(f,m)}for(var g=[],b=Vg;b>=0&&!(o.get(b).length+g.length>1.5*p);b--)g=g.concat(o.get(b).map(function(e){return e.index}));var v=g.sort(Op);if(!n&&h-u>v.length){for(var w=sf(v),x=Math.abs(Zt(e).index),k=Math.ceil(1.5*(i.length>0?($t(i)-Zt(i))/i.length/4:1)),_=0;_<v.length-1;_++)for(var T=_+1;T<v.length;T++)v[T]-v[_]<=k&&w.remove(e[v[_]+x].level>=e[v[T]+x].level?v[T]:v[_]);return w.values().map(function(e){return parseInt(e,10)})}return v},n.ticksv1=function(n){for(var i=r.domain(),o=Yg(i,2),a=o[0],s=o[1],l=Math.max(Math.ceil(a),Zt(e).index)+Math.abs(Zt(e).index),c=Math.min(Math.floor(s),$t(e).index)+Math.abs(Zt(e).index),u=(c-l)/(s-a)*n,h=Math.round((c-l+1)*t/u),p=Gg(Xg,h),f=Xg[p].level,d=r.ticks(n),m=[],y=l;y<c+1;y++)e[y].level>=f&&m.push(e[y].index);for(var g=sf(m),b=Math.abs(Zt(e).index),v=Math.ceil(1.5*(d.length>0?($t(d)-Zt(d))/d.length/4:1)),w=0;w<m.length-1;w++)for(var x=w+1;x<m.length;x++)m[x]-m[w]<v&&g.remove(e[m[w]+b].level>=e[m[x]+b].level?m[x]:m[w]);return g.values().map(function(e){return parseInt(e,10)})},n.tickFormat=function(){return function(t){var n=Math.abs(Zt(e).index),r=e[t+n];return(0,r.format)(r.date)}},n.nice=function(e){return r.nice(e),n},n.copy=function(){return xa(e,t,r.copy())},n}function ka(e,t,n){return Zg.map(function(r,i){return{level:Zg.length-i-1,format:r(e,t,n)}}).find(function(e){return!!e.format})}function _a(e,t,n){return function(r){var i=e(t);return{index:Qg.source(i).misc(n)(r)}}}function Ta(){var e,t,n=0,r=yd,i=function(e){return e.date},o=function(e){return e.idx},a=function(e,t){return Kg({},e,{idx:t})},s=function(s){var l=e,c=t;if(Jt(l)){var u=_a(r,i,n)(s);l=u.index,c=u.interval}var h=l.map(function(e){var t=e.format;return Kg({},e,{date:new Date(e.date),format:wp(t)})}),p=xa(h,c);return{data:Lt().combine(a)(s,h),xScale:p,xAccessor:function(e){return e&&o(e).index},displayXAccessor:r(i)}};return s.initialIndex=function(e){return arguments.length?(n=e,s):n},s.inputDateAccessor=function(e){return arguments.length?(i=e,s):i},s.indexAccessor=function(e){return arguments.length?(o=e,s):o},s.indexMutator=function(e){return arguments.length?(a=e,s):a},s.withIndex=function(t){return arguments.length?(e=t,s):e},s.withInterval=function(e){return arguments.length?(t=e,s):t},s.utc=function(){return r=function(e){return function(t){var n=e(t),r=60*n.getTimezoneOffset()*1e3;return new Date(n.getTime()+r)}},s},s.indexCalculator=function(){return _a(r,i,n)},s}function Sa(e){return function(t,n){return{data:t,xScale:e,xAccessor:n,displayXAccessor:n}}}function Pa(e){var t=e.className,n=Ea(e);if(null===n)return null;var r,i,o;if(Qt(n.line)&&(r=Tu.a.createElement("line",{className:"react-stockcharts-cross-hair",opacity:n.line.opacity,stroke:n.line.stroke,x1:n.line.x1,y1:n.line.y1,x2:n.line.x2,y2:n.line.y2})),Qt(n.coordinateBase)){var a=n.coordinateBase,s=a.rectWidth,l=a.rectHeight,c=a.arrowWidth,u="left"===n.orient?"M0,0L0,"+l+"L"+s+","+l+"L"+(s+c)+",10L"+s+",0L0,0L0,0":"M0,"+c+"L"+c+","+l+"L"+(s+c)+","+l+"L"+(s+c)+",0L"+c+",0L0,"+c;i="left"===n.orient||"right"===n.orient?Tu.a.createElement("g",{transform:"translate("+n.coordinateBase.edgeXRect+","+n.coordinateBase.edgeYRect+")"},Tu.a.createElement("path",{d:u,key:1,className:"react-stockchart-text-background",height:l,width:s,fill:n.coordinateBase.fill,opacity:n.coordinateBase.opacity})):Tu.a.createElement("rect",{key:1,className:"react-stockchart-text-background",x:n.coordinateBase.edgeXRect,y:n.coordinateBase.edgeYRect,height:l,width:s,fill:n.coordinateBase.fill,opacity:n.coordinateBase.opacity}),o=Tu.a.createElement("text",{key:2,x:n.coordinate.edgeXText,y:n.coordinate.edgeYText,textAnchor:n.coordinate.textAnchor,fontFamily:n.coordinate.fontFamily,fontSize:n.coordinate.fontSize,dy:".32em",fill:n.coordinate.textFill},n.coordinate.displayCoordinate)}return Tu.a.createElement("g",{className:t},r,i,o)}function Ea(e){var t=e.coordinate,n=e.show,r=e.type,i=e.orient,o=e.edgeAt,a=e.hideLine,s=e.fill,l=e.opacity,c=e.fontFamily,u=e.fontSize,h=e.textFill,p=e.lineStroke,f=e.lineOpacity,d=e.arrowWidth,m=e.rectWidth,y=e.rectHeight,g=e.x1,b=e.y1,v=e.x2,w=e.y2,x=e.dx;if(!n)return null;var k,_,T,S;"horizontal"===r?(k=x+("right"===i?o+1:o-m-d-1),_=b-y/2,T=x+("right"===i?o+m/2+d:o-m/2-d),S=b):(k=g-m/2,_="bottom"===i?o:o-y,T=g,S="bottom"===i?o+y/2:o-y/2);var P,E;return Qt(t)&&(P={edgeXRect:k,edgeYRect:_,rectHeight:y,rectWidth:m,fill:s,opacity:l,arrowWidth:d},E={edgeXText:T,edgeYText:S,textAnchor:"middle",fontFamily:c,fontSize:u,textFill:h,displayCoordinate:t}),{coordinateBase:P,coordinate:E,line:a?void 0:{opacity:f,stroke:p,x1:g,y1:b,x2:v,y2:w},orient:i}}function Ca(e,t){var n=Ea(t);if(null!==n){if(Qt(n.coordinateBase)){var r=n.coordinateBase,i=r.rectWidth,o=r.rectHeight,a=r.arrowWidth;e.fillStyle=on(n.coordinateBase.fill,n.coordinateBase.opacity);var s=n.coordinateBase.edgeXRect,l=n.coordinateBase.edgeYRect;e.beginPath(),"right"===n.orient?(e.moveTo(s,l+o/2),e.lineTo(s+a,l),e.lineTo(s+i+a,l),e.lineTo(s+i+a,l+o),e.lineTo(s+a,l+o),e.closePath()):"left"===n.orient?(e.moveTo(s,l),e.lineTo(s+i,l),e.lineTo(s+i+a,l+o/2),e.lineTo(s+i,l+o),e.lineTo(s,l+o),e.closePath()):e.rect(s,l,i,o),e.fill(),e.font=n.coordinate.fontSize+"px "+n.coordinate.fontFamily,e.fillStyle=n.coordinate.textFill,e.textAlign="middle"===n.coordinate.textAnchor?"center":n.coordinate.textAnchor,e.textBaseline="middle",e.fillText(n.coordinate.displayCoordinate,n.coordinate.edgeXText,n.coordinate.edgeYText)}Qt(n.line)&&(e.strokeStyle=on(n.line.stroke,n.line.opacity),e.beginPath(),e.moveTo(n.line.x1,n.line.y1),e.lineTo(n.line.x2,n.line.y2),e.stroke())}}function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Da(e,t){var n=e.type,r=e.displayFormat,i=e.itemType,o=e.edgeAt,a=e.yAxisPad,s=e.orient,l=e.yAccessor,c=e.fill,u=e.textFill,h=e.rectHeight,p=e.rectWidth,f=e.arrowWidth,d=e.fontFamily,m=e.fontSize,y=t.xScale,g=t.chartConfig.yScale,b=t.plotData,v=t.xAccessor,w=null,x="first"===i?Md(b,l):$t(b,l);if(Qt(x)){var k=l(x),_=v(x),T=Math.round(y(_)),S=Math.round(g(k)),P=y.range(),E=eb(P,2),C=E[0],O=E[1],A="left"===o?C-a:O+a;w={coordinate:r(k),show:!0,type:n,orient:s,edgeAt:A,fill:Xt(c)(x),fontFamily:d,fontSize:m,textFill:Xt(u)(x),rectHeight:h,rectWidth:p,arrowWidth:f,x1:T,y1:S,x2:A,y2:S}}return w}function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ja(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function La(e,t){var n=e.fill,r=e.yAccessor,i=e.r,o=t.show,a=t.xScale,s=t.chartConfig.yScale,l=t.currentItem,c=t.xAccessor;if(!o||Jt(l))return null;var u=c(l),h=r(l);return Jt(h)?null:{x:Math.round(a(u)),y:Math.round(s(h)),r:i,fill:n}}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ia(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function za(e,t){var n=t.xAccessor,r=t.displayXAccessor,i=t.show,o=t.currentItem,a=t.xScale,s=t.mouseXY,l=t.chartConfig.height;if(Jt(o))return null;var c=e.snapX,u=e.orient,h=e.at,p=e.rectWidth,f=e.rectHeight,d=e.displayFormat,m=e.fill,y=e.opacity,g=e.fontFamily,b=e.fontSize,v=e.textFill,w=c?a(n(o)):s[0],x="bottom"===h?l:0;return{coordinate:d(c?r(o):a.invert(w)),show:i,type:"vertical",orient:u,edgeAt:x,hideLine:!0,fill:m,opacity:y,fontFamily:g,fontSize:b,textFill:v,rectWidth:p,rectHeight:f,arrowWidth:0,x1:w,x2:w,y1:0,y2:l}}function Wa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ha(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ya(e,t){var n=t.chartId,r=t.width,i=t.show,o=t.currentCharts,a=t.chartConfig,s=a.yScale,l=a.origin,c=t.mouseXY;if(Jt(c))return null;if(o.indexOf(n)<0)return null;var u=e.orient,h=e.at,p=e.rectWidth,f=e.rectHeight,d=e.displayFormat,m=e.dx,y=e.fill,g=e.opacity,b=e.fontFamily,v=e.fontSize,w=e.textFill,x=e.arrowWidth,k=r,_="right"===h?r:0,T=c[1]-l[1];return{coordinate:d(s.invert(T)),show:i,type:"horizontal",orient:u,edgeAt:_,hideLine:!0,fill:y,opacity:g,fontFamily:b,fontSize:v,textFill:w,rectWidth:p,rectHeight:f,arrowWidth:x,dx:m,x1:0,x2:k,y1:T,y2:T}}function Xa(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ua(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ka(e,t){var n=t.mouseXY,r=t.xScale,i=t.currentItem,o=t.show,a=t.height,s=t.width,l=t.xAccessor,c=e.snapX,u=e.stroke,h=e.opacity,p=e.strokeDasharray;if(!o||Jt(i))return null;var f={x1:0,x2:s,y1:n[1],y2:n[1],stroke:u,strokeDasharray:p,opacity:h},d=c?Math.round(r(l(i))):n[0];return[f,{x1:d,x2:d,y1:0,y2:a,stroke:u,strokeDasharray:p,opacity:h}]}function Za(e,t,n){var r={open:e.open,fromDate:t(e),toDate:t(e),startOfYear:e.startOfYear,startOfQuarter:e.startOfQuarter,startOfMonth:e.startOfMonth,startOfWeek:e.startOfWeek};return n(r,t(e)),r}function $a(e,t,n){return e.forEach(function(e){e.startOfYear=!1,e.startOfQuarter=!1,e.startOfMonth=!1,e.startOfWeek=!1,e.boxes.forEach(function(r){Jt(e.open)&&(e.open=r.open),e.close=r.close,e.high=Math.max(e.open,e.close),e.low=Math.min(e.open,e.close),Jt(e.fromDate)&&(e.fromDate=r.fromDate),Jt(e.date)&&(e.date=r.date),e.toDate=r.toDate,r.startOfYear&&(e.startOfYear=e.startOfYear||r.startOfYear,e.startOfQuarter=r.startOfQuarter,e.startOfMonth=r.startOfMonth,e.startOfWeek=r.startOfWeek,n(e,t(r))),!0!==e.startOfQuarter&&r.startOfQuarter&&(e.startOfQuarter=r.startOfQuarter,e.startOfMonth=r.startOfMonth,e.startOfWeek=r.startOfWeek,n(e,t(r))),!0!==e.startOfMonth&&r.startOfMonth&&(e.startOfMonth=r.startOfMonth,e.startOfWeek=r.startOfWeek,n(e,t(r))),!0!==e.startOfWeek&&r.startOfWeek&&(e.startOfWeek=r.startOfWeek,n(e,t(r)))})}),e}function Qa(e,t){return{risingSar:e.risingSar+e.af*(e.risingEp-e.risingSar),fallingSar:e.fallingSar-e.af*(e.fallingSar-e.fallingEp),risingEp:Math.max(e.risingEp,t.high),fallingEp:Math.min(e.fallingEp,t.low)}}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function es(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ts(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ns(e,t){var n=e.when;return t.filter(n)}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function os(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function as(e,t,n,r){var i=e.x,o=e.y,a=e.datum,s=e.fill,l=e.text,c=e.tooltip,u=e.plotData,h=Xt(i),p=Xt(o),f=[h({xScale:n,xAccessor:t,datum:a,plotData:u}),p({yScale:r,datum:a,plotData:u})];return{xPos:f[0],yPos:f[1],text:Xt(l)(a),fill:Xt(s)(a),tooltip:Xt(c)(a)}}function ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ls(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function us(e,t,n,r){var i=e.x,o=e.y,a=e.datum,s=e.fill,l=e.tooltip,c=e.plotData,u=Xt(i),h=Xt(o),p=[u({xScale:n,xAccessor:t,datum:a,plotData:c}),h({yScale:r,datum:a,plotData:c})];return{x:p[0],y:p[1],fill:Xt(s)(a),tooltip:Xt(l)(a)}}function hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ds(e){return Xt(e.text)(e)}function ms(e){return Array.isArray(e)?void 0:e.yScale}function ys(e,t,n,r){e.save();var i=n.canvasOriginX,o=n.canvasOriginY,a=n.margin,s=n.ratio;e.setTransform(1,0,0,1,0,0),e.scale(s,s),Qt(i)?e.translate(i,o):e.translate(a.left+.5*s,a.top+.5*s),gs(e,t,r),e.restore()}function gs(e,t,n){var r=t.textAnchor,i=t.fontFamily,o=t.fontSize,a=t.opacity,s=t.rotate,l=n.xScale,c=n.chartConfig,u=n.xAccessor,h=as(t,u,l,ms(c)),p=h.xPos,f=h.yPos,d=h.fill,m=h.text,y=s/180*Math.PI;e.save(),e.translate(p,f),e.rotate(y),e.font=o+"px "+i,e.fillStyle=on(d,a),e.textAlign="middle"===r?"center":r,e.beginPath(),e.fillText(m,0,0),e.restore()}function bs(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,c,u,h,p,f=e._root,d={data:r},m=e._x0,y=e._y0,g=e._x1,b=e._y1;if(!f)return e._root=d,e;for(;f.length;)if((c=t>=(o=(m+g)/2))?m=o:g=o,(u=n>=(a=(y+b)/2))?y=a:b=a,i=f,!(f=f[h=u<<1|c]))return i[h]=d,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return d.next=f,i?i[h]=d:e._root=d,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+g)/2))?m=o:g=o,(u=n>=(a=(y+b)/2))?y=a:b=a}while((h=u<<1|c)==(p=(l>=a)<<1|s>=o));return i[p]=f,i[h]=d,e}function vs(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));for(u<l&&(l=this._x0,u=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(l,c).cover(u,h),n=0;n<o;++n)bs(this,a[n],s[n],e[n]);return this}function ws(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function xs(e){return e[0]}function ks(e){return e[1]}function _s(e,t,n){var r=new Ts(null==t?xs:t,null==n?ks:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Ts(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ss(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function Ps(e){return e.x+e.vx}function Es(e){return e.y+e.vy}function Cs(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new Os(r)}function Os(e){this._=e}function As(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function Ms(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ds(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=cw,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function Ns(){return bw||(xw(Rs),bw=ww.now()+vw)}function Rs(){bw=0}function js(){this._call=this._time=this._next=null}function Ls(e,t,n){var r=new js;return r.restart(e,t,n),r}function Fs(){Ns(),++fw;for(var e,t=uw;t;)(e=bw-t._time)>=0&&t._call.call(null,e),t=t._next;--fw}function Is(){bw=(gw=ww.now())+vw,fw=dw=0;try{Fs()}finally{fw=0,zs(),bw=0}}function Bs(){var e=ww.now(),t=e-gw;t>yw&&(vw-=t,gw=e)}function zs(){for(var e,t,n=uw,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:uw=t);hw=e,Ws(r)}function Ws(e){if(!fw){dw&&(dw=clearTimeout(dw));e-bw>24?(e<1/0&&(dw=setTimeout(Is,e-ww.now()-vw)),mw&&(mw=clearInterval(mw))):(mw||(gw=ww.now(),mw=setInterval(Bs,yw)),fw=1,xw(Is))}}function qs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ys(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xs(e){return(e>0)-(e<0)}function Vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gs(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Us(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ks(e,t){var n=e.orient,r=e.innerTickSize,i=e.tickFormat,o=e.tickPadding,a=e.tickStrokeWidth,s=e.tickStrokeDasharray,l=e.fontSize,c=e.fontFamily,u=e.showTicks,h=e.flexTicks,p=e.ticks,f=e.tickValues,d=e.tickStroke,m=e.tickStrokeOpacity,y=e.tickInterval,g=void 0;if(Qt(f))g=f;else if(Qt(y)){var b=t.domain(),v=Aw(b,2),w=v[0],x=v[1];g=Hp(w,x,y)}else g=Qt(t.ticks)?t.ticks(p,h):t.domain();var k,_,T,S,P=t.tickFormat?t.tickFormat(p):yd,E=Jt(i)?P:function(e){return P(e)?i(e):""},C="top"===n||"left"===n?-1:1,O=Math.max(r,0)+o;if("bottom"===n||"top"===n){if(_=C<0?"0em":".71em",T=C<0?0:.71*l,S="middle",k=g.map(function(e){var n=t(e);return{value:e,x1:n,y1:0,x2:n,y2:C*r,labelX:n,labelY:C*O}}),u&&h){for(var A=k.map(function(e){return{id:e.value,value:e.value,fy:e.y2,origX:e.x1}}),M=Tw(A).force("x",Sw(function(e){return e.origX}).strength(1)).force("collide",lw(22)).stop(),D=0;D<100;++D)M.tick();var N=Lt().combine(function(e,t){return Math.abs(t.x-t.origX)>.01?Ow({},e,{x2:t.x,labelX:t.x}):e});k=N(k,A)}}else k=g.map(function(e){var n=t(e);return{value:e,x1:0,y1:n,x2:C*r,y2:n,labelX:C*O,labelY:n}}),_=".32em",T=.32*l,S=C<0?"end":"start";return{ticks:k,scale:t,tickStroke:d,tickStrokeOpacity:m,tickStrokeWidth:a,tickStrokeDasharray:s,dy:_,canvas_dy:T,textAnchor:S,fontSize:l,fontFamily:c,format:E}}function Zs(e,t){var n,r=e.orient,i=e.outerTickSize,o=e.domainClassName,a=e.fill,s=e.stroke,l=e.strokeWidth,c=e.opacity,u="top"===r||"left"===r?-1:1;return n="bottom"===r||"top"===r?"M"+t[0]+","+u*i+"V0H"+t[1]+"V"+u*i:"M"+u*i+","+t[0]+"H0V"+t[1]+"H"+u*i,Tu.a.createElement("path",{className:o,d:n,fill:a,opacity:c,stroke:s,strokeWidth:l})}function $s(e,t,n){var r=t.orient,i=t.outerTickSize,o=t.stroke,a=t.strokeWidth,s=t.opacity,l="top"===r||"left"===r?-1:1,c="bottom"===r||"top"===r;e.lineWidth=a,e.strokeStyle=on(o,s),e.beginPath(),c?(e.moveTo(Md(n),l*i),e.lineTo(Md(n),0),e.lineTo($t(n),0),e.lineTo($t(n),l*i)):(e.moveTo(l*i,Md(n)),e.lineTo(0,Md(n)),e.lineTo(0,$t(n)),e.lineTo(l*i,$t(n))),e.stroke()}function Qs(e){var t=e.tickStroke,n=e.tickStrokeOpacity,r=e.tickStrokeDasharray,i=e.tickStrokeWidth,o=e.textAnchor,a=e.fontSize,s=e.fontFamily,l=e.x1,c=e.y1,u=e.x2,h=e.y2,p=e.labelX,f=e.labelY,d=e.dy;return Tu.a.createElement("g",{className:"tick"},Tu.a.createElement("line",{shapeRendering:"crispEdges",opacity:n,stroke:t,strokeWidth:i,strokeDasharray:Pd(r),x1:l,y1:c,x2:u,y2:h}),Tu.a.createElement("text",{dy:d,x:p,y:f,fill:t,fontSize:a,fontFamily:s,textAnchor:o},e.children))}function Js(e,t){var n=Ks(e,t),r=n.tickStroke,i=n.tickStrokeOpacity,o=n.tickStrokeWidth,a=n.tickStrokeDasharray,s=n.textAnchor,l=n.fontSize,c=n.fontFamily,u=n.ticks,h=n.format,p=n.dy;return Tu.a.createElement("g",null,u.map(function(e,t){return Tu.a.createElement(Qs,{key:t,tickStroke:r,tickStrokeWidth:o,tickStrokeOpacity:i,tickStrokeDasharray:a,dy:p,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,labelX:e.labelX,labelY:e.labelY,textAnchor:s,fontSize:l,fontFamily:c},h(e.value))}))}function el(e,t){var n=t.tickStroke,r=t.tickStrokeOpacity,i=t.textAnchor,o=t.fontSize,a=t.fontFamily,s=t.ticks;e.strokeStyle=on(n,r),e.font=o+"px "+a,e.fillStyle=n,e.textAlign="middle"===i?"center":i,s.forEach(function(n){tl(e,n,t)})}function tl(e,t,n){var r=n.canvas_dy,i=n.format,o=n.tickStrokeWidth,a=n.tickStrokeDasharray;e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=o,e.setLineDash(Pd(a).split(",")),e.stroke(),e.fillText(i(t.value),t.labelX,t.labelY+r)}function nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function il(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ol(e,t){var n,r=e.axisAt,i=e.xZoomHeight,o=e.orient,a=t.chartConfig,s=a.width,l=a.height,c=s,u=i;n="top"===r?0:"bottom"===r?l:"middle"===r?l/2:r;var h="top"===o?-i:0;return{transform:[0,n],range:[0,s],getScale:function(e){return e.xScale},bg:{x:0,y:h,h:u,w:c}}}function al(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ll(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ul(e,t){var n,r=e.axisAt,i=e.yZoomWidth,o=e.orient,a=t.chartConfig,s=a.width,l=a.height,c=i,u=l;n="left"===r?0:"right"===r?s:"middle"===r?s/2:r;var h="left"===o?-i:0;return{transform:[n,0],range:[0,l],getScale:function(e){return e.chartConfig.yScale},bg:{x:h,y:0,h:u,w:c},zoomEnabled:t.chartConfig.yPan}}function hl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ml(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function vl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function kl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Sl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Cl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ol(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Al(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ml(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Rl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ll(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Fl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Il(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Wl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ql(e,t){var n=e.fill,r=e.stroke,i=e.opacity,o=t.height,a=t.width;return Tu.a.createElement("rect",{height:o,width:a,fill:n,opacity:i,stroke:r})}function Hl(e,t){for(var n=e.fontFamily,r=e.fontSize,i=e.fontFill,o=[],a=Mx+.9*r,s=0;s<t.y.length;s++){var l=t.y[s],c=a+r*(s+1);o.push(Tu.a.createElement("tspan",{key:"L-"+s,x:Ax,y:c,fill:l.stroke},l.label)),o.push(Tu.a.createElement("tspan",{key:s},": ")),o.push(Tu.a.createElement("tspan",{key:"V-"+s},l.value))}return Tu.a.createElement("text",{fontFamily:n,fontSize:r,fill:i},Tu.a.createElement("tspan",{x:Ax,y:a},t.x),o)}function Yl(e,t,n){var r=t.width,i=t.height,o=e.fill,a=e.stroke,s=e.opacity;n.fillStyle=on(o,s),n.strokeStyle=a,n.beginPath(),n.rect(0,0,r,i),n.fill(),n.stroke()}function Xl(e,t,n){var r=e.fontFamily,i=e.fontSize,o=e.fontFill,a=Mx+.9*i;n.font=i+"px "+r,n.fillStyle=o,n.textAlign="left",n.fillText(t.x,Ax,a);for(var s=0;s<t.y.length;s++){var l=t.y[s],c=a+i*(s+1);n.fillStyle=l.stroke||o,n.fillText(l.label,Ax,c),n.fillStyle=o,n.fillText(": "+l.value,Ax+n.measureText(l.label).width,c)}}function Vl(e,t,n,r,i){var o=n.margin,a=n.ratio,s=t.bgFill,l=t.bgOpacity,c=t.backgroundShapeCanvas,u=t.tooltipCanvas,h=.5*a+o.left,p=.5*a+o.top;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(a,a),e.translate(h,p);var f=r.x,d=r.y,m=r.content,y=r.centerX,g=r.pointWidth,b=r.bgSize;e.fillStyle=on(s,l),e.beginPath(),e.rect(y-g/2,0,g,i),e.fill(),e.translate(f,d),c(t,b,e),u(t,m,e),e.restore()}function Gl(e,t,n){var r=e.fontFamily,i=e.fontSize,o=e.fontFill;if(Jt(n)){var a=document.createElement("canvas");n=a.getContext("2d")}n.font=i+"px "+r,n.fillStyle=o,n.textAlign="left";var s=function(e){return{width:n.measureText(e).width,height:i}},l=t.y.map(function(e){var t=e.label,n=e.value;return s(t+": "+n)}).reduce(function(e,t){return Ul(e,t)},s(String(t.x))),c=l.width,u=l.height;return{width:c+2*Ax,height:u+2*Mx}}function Ul(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{width:Math.max.apply(Math,Il(t.map(function(e){return e.width}))),height:ef(t,function(e){return e.height})}}function Kl(e,t,n,r){return e<r/2?e+n/2+Ox:e-t.width-n/2-Ox}function Zl(e,t){return e-t.height<=0?e+Ox:e-t.height-Ox}function $l(e,t,n,r){var i=e.chartId,o=e.yAccessor,a=t.mouseXY,s=t.xAccessor,l=t.currentItem,c=t.xScale,u=t.chartConfig,h=t.width,p=$t(a),f=s(l),d=Math.round(c(f));if(Qt(i)&&Qt(o)){var m=o(l),y=u.findIndex(function(e){return e.id===i});p=Math.round(u[y].yScale(m))}return d=Kl(d,n,r,h),p=Zl(p,n),[d,p]}function Ql(e,t,n){var r=t.show,i=t.xScale,o=t.currentItem,a=t.plotData,s=e.origin,l=e.tooltipContent,c=t.xAccessor,u=t.displayXAccessor;if(r&&!Jt(o)){var h=c(o);if(r&&!Jt(h)){var p=l({currentItem:o,xAccessor:u}),f=i(h),d=Math.abs(i(c($t(a)))-i(c(Md(a))))/(a.length-1),m=Gl(e,p,n),y=s(e,t,m,d),g=Px(y,2);return{x:g[0],y:g[1],content:p,centerX:f,pointWidth:d,bgSize:m}}}}function Jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ec(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function tc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function nc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ic(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oc(e){return e.displayName||e.name||"Series"}function ac(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=function(r){function i(e){nc(this,i);var t=rc(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.handleWindowResize=t.handleWindowResize.bind(t),t.getWrappedInstance=t.getWrappedInstance.bind(t),t.saveNode=t.saveNode.bind(t),t.setTestCanvas=t.setTestCanvas.bind(t),t.state={},t}return ic(i,r),Hx(i,[{key:"saveNode",value:function(e){this.node=e}},{key:"setTestCanvas",value:function(e){this.testCanvas=e}},{key:"getRatio",value:function(){if(Qt(this.testCanvas)){var e=this.testCanvas.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}return 1}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize);var e=this.node,t=e.parentNode.clientWidth;this.setState({width:Math.max(t,n),ratio:this.getRatio()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){var e=Wx.a.findDOMNode(this.node),t=e.parentNode.clientWidth;t>n&&this.setState({width:t})}},{key:"getWrappedInstance",value:function(){return this.node}},{key:"render",value:function(){var n=t?{ref:this.saveNode}:{};return this.state.width?Tu.a.createElement(e,qx({width:this.state.width,ratio:this.state.ratio},this.props,n)):Tu.a.createElement("div",n,Tu.a.createElement("canvas",{ref:this.setTestCanvas}))}}]),i}(_u.Component);return r.displayName="fitWidth("+oc(e)+")",r}function sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function uc(e){return e.displayName||e.name||"Series"}function hc(e){function t(e){var t=e.parentNode.clientWidth,n=e.parentNode.clientHeight;return{width:Qt(l)?l:Math.max(t,i),height:Qt(c)?c:Math.max(n,a)}}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.minWidth,i=void 0===r?100:r,o=n.minHeight,a=void 0===o?100:o,s=n.ratio,l=n.width,c=n.height,u=function(n){function r(e){sc(this,r);var t=lc(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.handleWindowResize=t.handleWindowResize.bind(t),t.getWrappedInstance=t.getWrappedInstance.bind(t),t.saveNode=t.saveNode.bind(t),t.setTestCanvas=t.setTestCanvas.bind(t),t.state={},t}return cc(r,n),Xx(r,[{key:"saveNode",value:function(e){this.node=e}},{key:"setTestCanvas",value:function(e){this.testCanvas=e}},{key:"getRatio",value:function(){if(Qt(this.testCanvas)){var e=this.testCanvas.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}return 1}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize);var e=t(this.node);this.setState(Yx({},e,{ratio:Qt(s)?s:this.getRatio()}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){var e=Wx.a.findDOMNode(this.node);this.setState(t(e))}},{key:"getWrappedInstance",value:function(){return this.node}},{key:"render",value:function(){var t={ref:this.saveNode};return this.state.width?Tu.a.createElement(e,Yx({height:this.state.height,width:this.state.width,ratio:this.state.ratio},this.props,t)):Tu.a.createElement("div",t,Tu.a.createElement("canvas",{ref:this.setTestCanvas}))}}]),r}(_u.Component);return u.displayName="fitDimensions("+uc(e)+")",u}function pc(e,t,n,r){return Qt(e)&&e.index===t?e[n]:r}function fc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function mc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function yc(e,t,n,r,i){var o=n[0]===t[0]?0:(n[1]-t[1])/(n[0]-t[0]),a=-1*o*n[0]+n[1],s="XLINE"===e?r(Zt(i)):t[0],l=o*s+a,c="XLINE"===e?r($t(i)):"RAY"===e?r(n[0]>t[0]?$t(i):Zt(i)):n[0];return{x1:s,y1:l,x2:c,y2:o*c+a}}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function vc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function wc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function kc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _c(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ec(e,t,n){var r=e.xScale,i=e.chartConfig,o=t.childProps,a=o.text,s=o.dir,l=o.fontStroke,c=o.fontFamily,u=o.fontSize,h=n.x1,p=n.y1,f=n.x2;return Tu.a.createElement("text",{x:r(Math.min(h,f))+10,y:i.yScale(p)+4*s,fontFamily:c,fontSize:u,fill:l},a)}function Cc(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=i-n;return[100,61.8,50,38.2,23.6,0].map(function(e){return{percent:e,x1:t,x2:r,y:i-e/100*o}})}function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Rc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ic(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Wc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function qc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Yc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Xc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Zc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Jc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function eu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function nu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ou(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function uu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var fu={};n.d(fu,"ScatterSeries",function(){return jy}),n.d(fu,"CircleMarker",function(){return Ly}),n.d(fu,"TriangleMarker",function(){return Fy}),n.d(fu,"SquareMarker",function(){return Iy}),n.d(fu,"AreaSeries",function(){return My}),n.d(fu,"AreaOnlySeries",function(){return Ay}),n.d(fu,"LineSeries",function(){return Py}),n.d(fu,"CandlestickSeries",function(){return Wy}),n.d(fu,"OHLCSeries",function(){return Yy}),n.d(fu,"BarSeries",function(){return Qy}),n.d(fu,"StackedBarSeries",function(){return Ky}),n.d(fu,"GroupedBarSeries",function(){return ng}),n.d(fu,"KagiSeries",function(){return og}),n.d(fu,"PointAndFigureSeries",function(){return cg}),n.d(fu,"RenkoSeries",function(){return pg}),n.d(fu,"MACDSeries",function(){return vg}),n.d(fu,"BollingerSeries",function(){return kg}),n.d(fu,"RSISeries",function(){return Sg}),n.d(fu,"StochasticSeries",function(){return Cg}),n.d(fu,"ElderRaySeries",function(){return Rg}),n.d(fu,"VolumeProfileSeries",function(){return Bg}),n.d(fu,"StraightLine",function(){return yg}),n.d(fu,"SARSeries",function(){return Hg});var du={};n.d(du,"discontinuousTimeScaleProviderBuilder",function(){return Ta}),n.d(du,"discontinuousTimeScaleProvider",function(){return Jg}),n.d(du,"financeDiscontinuousScale",function(){return xa}),n.d(du,"defaultScaleProvider",function(){return Sa});var mu={};n.d(mu,"EdgeIndicator",function(){return ib}),n.d(mu,"CurrentCoordinate",function(){return sb}),n.d(mu,"MouseCoordinateX",function(){return ub}),n.d(mu,"MouseCoordinateY",function(){return fb}),n.d(mu,"CrossHairCursor",function(){return gb});var yu={};n.d(yu,"BollingerBand",function(){return vb}),n.d(yu,"ATR",function(){return wb}),n.d(yu,"ForceIndex",function(){return xb}),n.d(yu,"ElderRay",function(){return kb}),n.d(yu,"ElderImpulse",function(){return _b}),n.d(yu,"SAR",function(){return Tb}),n.d(yu,"MACD",function(){return Sb}),n.d(yu,"FullStochasticOscillator",function(){return Pb}),n.d(yu,"RSI",function(){return Eb}),n.d(yu,"EMA",function(){return Cb}),n.d(yu,"SMA",function(){return Ob}),n.d(yu,"WMA",function(){return Ab}),n.d(yu,"TRIMA",function(){return Mb}),n.d(yu,"Kagi",function(){return Db}),n.d(yu,"Renko",function(){return Nb}),n.d(yu,"PointAndFigure",function(){return Rb});var gu={};n.d(gu,"themes",function(){return hv}),n.d(gu,"BollingerBand",function(){return pv}),n.d(gu,"ElderImpulse",function(){return fv}),n.d(gu,"MACD",function(){return dv}),n.d(gu,"FullStochasticOscillator",function(){return mv});var bu={};n.d(bu,"ema",function(){return sv}),n.d(bu,"sma",function(){return lv}),n.d(bu,"wma",function(){return cv}),n.d(bu,"tma",function(){return uv}),n.d(bu,"bollingerBand",function(){return yv}),n.d(bu,"heikinAshi",function(){return bv}),n.d(bu,"kagi",function(){return vv}),n.d(bu,"pointAndFigure",function(){return wv}),n.d(bu,"renko",function(){return xv}),n.d(bu,"macd",function(){return kv}),n.d(bu,"rsi",function(){return _v}),n.d(bu,"atr",function(){return Tv}),n.d(bu,"stochasticOscillator",function(){return Sv}),n.d(bu,"forceIndex",function(){return Pv}),n.d(bu,"sar",function(){return Ev}),n.d(bu,"elderRay",function(){return Cv}),n.d(bu,"change",function(){return Ov}),n.d(bu,"elderImpulse",function(){return Mv}),n.d(bu,"compare",function(){return Dv}),n.d(bu,"defaultOptionsForComputation",function(){return yu}),n.d(bu,"defaultOptionsForAppearance",function(){return gu});var vu={};n.d(vu,"XAxis",function(){return Fw}),n.d(vu,"YAxis",function(){return Ww});var wu={};n.d(wu,"MACDTooltip",function(){return Jw}),n.d(wu,"OHLCTooltip",function(){return rx}),n.d(wu,"SingleValueTooltip",function(){return sx}),n.d(wu,"MovingAverageTooltip",function(){return fx}),n.d(wu,"BollingerBandTooltip",function(){return gx}),n.d(wu,"RSITooltip",function(){return xx}),n.d(wu,"StochasticTooltip",function(){return Sx}),n.d(wu,"HoverTooltip",function(){return Dx}),n.d(wu,"ToolTipText",function(){return Xw}),n.d(wu,"ToolTipTSpanLabel",function(){return Kw});var xu={};n.d(xu,"TypeChooser",function(){return jx}),n.d(xu,"SaveChartAsImage",function(){return Bx}),n.d(xu,"fitWidth",function(){return ac}),n.d(xu,"fitDimensions",function(){return hc});var ku={};n.d(ku,"TrendLine",function(){return rk}),n.d(ku,"FibonacciRetracement",function(){return sk}),n.d(ku,"ClickCallback",function(){return uk}),n.d(ku,"Brush",function(){return dk});var _u=n(1),Tu=n.n(_u),Su=n(386),Pu=n(91),Eu=n(50),Cu=n(1210),Ou=n(168),Au=n.n(Ou),Mu=n(253),Du=n(1222),Nu=n(1159),Ru=n.n(Nu),ju=n(19),Lu=n(22),Fu=n.n(Lu),Iu=n(49),Bu=n(48),zu=n.n(Bu),Wu=n(1208),qu=n(1164),Hu=n(250),Yu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xu=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),Yu(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.market_base===this.props.order.market_base&&(e.order.ne(this.props.order)||e.index!==this.props.index)}},{key:"render",value:function(){var e=this.props,t=e.order,n=e.quote,r=e.base,i=e.final,o=t.isBid(),a=t.isCall(),s=a?"orderHistoryCall":o?"orderHistoryBid":"orderHistoryAsk",l=Tu.a.createElement(Wu.a,{price:t.getPrice(),quote:n,base:r});return Tu.a.createElement("tr",{onClick:this.props.onClick,className:zu()({"final-row":i})},Tu.a.createElement("td",null,ju.a.format_number(t[o?"amountForSale":"amountToReceive"]().getAmount({real:!0}),r.get("precision"))),Tu.a.createElement("td",null,ju.a.format_number(t[o?"amountToReceive":"amountForSale"]().getAmount({real:!0}),n.get("precision"))),Tu.a.createElement("td",{className:s},l))}}]),t}(Tu.a.Component),Vu=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),Yu(t,[{key:"shouldComponentUpdate",value:function(e){return e.order.ne(this.props.order)||e.position!==this.props.position||e.index!==this.props.index}},{key:"render",value:function(){var e=this.props,t=e.order,n=e.quote,r=e.base,i=e.position,o=t.isBid(),a=t.isCall(),s=a?"orderHistoryCall":o?"orderHistoryBid":"orderHistoryAsk",l=Tu.a.createElement(Wu.a,{price:t.getPrice(),quote:n,base:r}),c=o?ju.a.format_number(t.amountToReceive().getAmount({real:!0}),n.get("precision")):ju.a.format_number(t.amountForSale().getAmount({real:!0}),n.get("precision")),u=o?ju.a.format_number(t.amountForSale().getAmount({real:!0}),r.get("precision")):ju.a.format_number(t.amountToReceive().getAmount({real:!0}),r.get("precision")),h=o?ju.a.format_number(t.totalForSale().getAmount({real:!0}),r.get("precision")):ju.a.format_number(t.totalToReceive().getAmount({real:!0}),r.get("precision"));return Tu.a.createElement("tr",{onClick:this.props.onClick},"left"===i?Tu.a.createElement("td",null,h):Tu.a.createElement("td",{style:{width:"25%"},className:s},l),Tu.a.createElement("td",null,"left"===i?u:c),Tu.a.createElement("td",null,"left"===i?c:u),"right"===i?Tu.a.createElement("td",null,h):Tu.a.createElement("td",{style:{width:"25%"},className:s},l))}}]),t}(Tu.a.Component),Gu=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={scrollToBottom:!0,flip:e.flipOrderBook,showAllBids:!1,showAllAsks:!1,rowCount:20},n._updateHeight=n._updateHeight.bind(n),n}return o(t,e),Yu(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.marketReady||this.setState({scrollToBottom:!0}),e.base.get("id")===this.props.base.get("id")&&e.quote.get("id")===this.props.quote.get("id")||(this.setState({scrollToBottom:!0}),this.refs.askTransition&&(this.refs.askTransition.resetAnimation(),this.refs.hor_asks&&(this.refs.hor_asks.scrollTop=0),this.refs.hor_bids&&(this.refs.hor_bids.scrollTop=0)),this.refs.bidTransition&&this.refs.bidTransition.resetAnimation(),this.refs.vert_bids&&(this.refs.vert_bids.scrollTop=0)),ju.a.are_equal_shallow(e.combinedAsks,this.props.combinedAsks)&&ju.a.are_equal_shallow(e.combinedBids,this.props.combinedBids)||this.setState({},function(){t.psUpdate()})}},{key:"_updateHeight",value:function(){if(!this.props.horizontal){var e=this.refs.orderbook_container.offsetHeight,t=this.refs.center_text.offsetHeight,n=this.refs.asksWrapper.offsetHeight,r=Math.floor((e-t)/2),i=e-t-n-2;r===this.state.vertAsksHeight&&i===this.state.vertBidsHeight||this.setState({vertAsksHeight:r,vertBidsHeight:i},this.psUpdate)}}},{key:"componentWillMount",value:function(){window.addEventListener("resize",this._updateHeight,{capture:!1,passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateHeight)}},{key:"componentDidMount",value:function(){if(this.props.horizontal){var e=this.refs.hor_bids;Ru.a.initialize(e);var t=this.refs.hor_asks;Ru.a.initialize(t)}else{this._updateHeight();var n=this.refs.vert_asks;Ru.a.initialize(n);var r=this.refs.vert_bids;Ru.a.initialize(r)}}},{key:"psUpdate",value:function(){if(this.props.horizontal){var e=this.refs.hor_bids;Ru.a.update(e);var t=this.refs.hor_asks;Ru.a.update(t)}else{var n=this.refs.vert_asks;Ru.a.update(n),this.state.scrollToBottom&&(n.scrollTop=n.scrollHeight);var r=this.refs.vert_bids;Ru.a.update(r)}}},{key:"componentDidUpdate",value:function(){this._updateHeight()}},{key:"_onBidScroll",value:function(e){e.target.scrollTop<e.target.scrollHeight-this.state.vertAsksHeight?this.state.scrollToBottom&&this.setState({scrollToBottom:!1}):this.setState({scrollToBottom:!1})}},{key:"_flipBuySell",value:function(){Iu.a.changeViewSetting({flipOrderBook:!this.state.flip}),this.setState({flip:!this.state.flip})}},{key:"_onToggleShowAll",value:function(e){"asks"===e?(this.setState({showAllAsks:!this.state.showAllAsks}),this.state.showAllAsks&&(this.refs.hor_asks.scrollTop=0)):(this.setState({showAllBids:!this.state.showAllBids}),this.state.showAllBids&&(this.refs.hor_bids.scrollTop=0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.combinedBids,r=t.combinedAsks,i=t.highestBid,o=t.lowestAsk,a=t.quote,s=t.base,l=t.totalAsks,c=t.totalBids,u=t.quoteSymbol,h=t.baseSymbol,p=t.horizontal,f=this.state,d=f.showAllAsks,m=f.showAllBids,y=f.rowCount,g=null,b=null;if(s&&a){g=n.filter(function(t){return!!(e.state.showAllBids||n.length<=y)||t.getPrice()>=i.getPrice()/5}).map(function(t,n){return p?Tu.a.createElement(Vu,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:e.props.onClick.bind(e,t),base:s,quote:a,position:e.state.flip?"right":"left"}):Tu.a.createElement(Xu,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:e.props.onClick.bind(e,t),base:s,quote:a,final:0===n})});var v=r.filter(function(t){return!!(e.state.showAllAsks||n.length<=y)||t.getPrice()<=5*o.getPrice()});p||v.sort(function(e,t){return t.getPrice()-e.getPrice()}),b=v.map(function(t,n){return p?Tu.a.createElement(Vu,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:e.props.onClick.bind(e,t),base:s,quote:a,type:t.type,position:e.state.flip?"left":"right"}):Tu.a.createElement(Xu,{index:n,key:t.getPrice()+(t.isCall()?"_call":""),order:t,onClick:e.props.onClick.bind(e,t),base:s,quote:a,type:t.type,final:0===n})})}if(this.props.horizontal){var w=g.length,x=b.length;m||g.splice(y,g.length),d||b.splice(y,b.length);var k=Tu.a.createElement("thead",null,Tu.a.createElement("tr",{key:"top-header",className:"top-header"},Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement(Fu.a,{className:"header-sub-title",content:"exchange.total"}),Tu.a.createElement("span",{className:"header-sub-title"}," (",Tu.a.createElement(Hu.a,{dataPlace:"top",name:h}),")")),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{dataPlace:"top",name:h}))),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{dataPlace:"top",name:u}))),Tu.a.createElement("th",{style:{width:"25%",textAlign:"right"}},Tu.a.createElement(Fu.a,{className:(this.state.flip?"ask-total":"bid-total")+" header-sub-title",content:"exchange.price"})))),_=Tu.a.createElement("thead",null,Tu.a.createElement("tr",{key:"top-header",className:"top-header"},Tu.a.createElement("th",{style:{width:"25%",textAlign:"right"}},Tu.a.createElement(Fu.a,{className:(this.state.flip?"bid-total":"ask-total")+" header-sub-title",content:"exchange.price"})),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{dataPlace:"top",name:u}))),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{dataPlace:"top",name:h}))),Tu.a.createElement("th",{style:{width:"25%",textAlign:"right"}},Tu.a.createElement(Fu.a,{className:"header-sub-title",content:"exchange.total"}),Tu.a.createElement("span",{className:"header-sub-title"}," (",Tu.a.createElement(Hu.a,{dataPlace:"top",name:h}),")"))));return Tu.a.createElement("div",{className:zu()(this.props.wrapperClass,"grid-block orderbook no-padding small-vertical medium-horizontal align-spaced no-overflow small-12 xlarge-8")},Tu.a.createElement("div",{className:zu()("small-12 medium-6 middle-content",this.state.flip?"order-1":"order-2")},Tu.a.createElement("div",{className:"exchange-bordered"},Tu.a.createElement("div",{className:"exchange-content-header ask"},Tu.a.createElement(Fu.a,{content:"exchange.asks"}),this.state.flip?Tu.a.createElement("span",null,Tu.a.createElement("span",{onClick:this._flipBuySell.bind(this),style:{cursor:"pointer",fontSize:"1rem"}},"  ⇆"),this.props.smallScreen?null:Tu.a.createElement("span",{onClick:this.props.moveOrderBook,style:{cursor:"pointer",fontSize:"1rem"}}," ⇅")):null,Tu.a.createElement("div",{style:{lineHeight:"16px"},className:"float-right header-sub-title"},Tu.a.createElement(Fu.a,{content:"exchange.total"}),Tu.a.createElement("span",null,": "),ju.a.format_number(l,a.get("precision")),Tu.a.createElement("span",null," (",Tu.a.createElement(Hu.a,{name:u}),")"))),Tu.a.createElement("table",{className:"table order-table table-hover text-right no-overflow"},this.state.flip?k:_),Tu.a.createElement("div",{className:"grid-block",ref:"hor_asks",style:{paddingRight:d?15:0,overflow:"hidden",maxHeight:210}},Tu.a.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover text-right no-overflow"},Tu.a.createElement(qu.a,{ref:"askTransition",className:"orderbook orderbook-top",component:"tbody",transitionName:"newrow"},b))),x>y?Tu.a.createElement("div",{className:"orderbook-showall"},Tu.a.createElement("a",{onClick:this._onToggleShowAll.bind(this,"asks")},Tu.a.createElement(Fu.a,{content:d?"exchange.hide":"exchange.show_asks"}),d?null:Tu.a.createElement("span",null," (",x,")"))):null)),Tu.a.createElement("div",{className:zu()("small-12 medium-6 middle-content",this.state.flip?"order-2":"order-1")},Tu.a.createElement("div",{className:"exchange-bordered"},Tu.a.createElement("div",{className:"exchange-content-header bid"},Tu.a.createElement(Fu.a,{content:"exchange.bids"}),this.state.flip?null:Tu.a.createElement("span",null,Tu.a.createElement("span",{onClick:this._flipBuySell.bind(this),style:{cursor:"pointer",fontSize:"1rem"}},"  ⇆"),Tu.a.createElement("span",{onClick:this.props.moveOrderBook,style:{cursor:"pointer",fontSize:"1rem"}}," ⇅")),Tu.a.createElement("div",{style:{lineHeight:"16px"},className:"float-right header-sub-title"},Tu.a.createElement(Fu.a,{content:"exchange.total"}),Tu.a.createElement("span",null,": "),ju.a.format_number(c,s.get("precision")),Tu.a.createElement("span",null," (",Tu.a.createElement(Hu.a,{name:h}),")"))),Tu.a.createElement("table",{className:"table order-table table-hover text-right"},this.state.flip?_:k),Tu.a.createElement("div",{className:"grid-block",ref:"hor_bids",style:{paddingRight:m?15:0,overflow:"hidden",maxHeight:210}},Tu.a.createElement("table",{style:{paddingBottom:5},className:"table order-table table-hover text-right"},Tu.a.createElement(qu.a,{ref:"bidTransition",className:"orderbook orderbook-bottom",component:"tbody",transitionName:"newrow"},g))),w>y?Tu.a.createElement("div",{className:"orderbook-showall"},Tu.a.createElement("a",{onClick:this._onToggleShowAll.bind(this,"bids")},Tu.a.createElement(Fu.a,{content:m?"exchange.hide":"exchange.show_bids"}),m?null:Tu.a.createElement("span",null," (",w,")"))):null)))}return Tu.a.createElement("div",{className:"left-order-book no-padding no-overflow"},Tu.a.createElement("div",{className:"grid-block shrink left-orderbook-header",style:{paddingRight:15,zIndex:10}},Tu.a.createElement("table",{className:"table expand order-table table-hover text-right"},Tu.a.createElement("thead",null,Tu.a.createElement("tr",null,Tu.a.createElement("th",{style:{paddingBottom:8,textAlign:"right",borderBottomColor:"#777"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{name:h}))),Tu.a.createElement("th",{style:{paddingBottom:8,textAlign:"right",borderBottomColor:"#777"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{name:u}))),Tu.a.createElement("th",{style:{paddingBottom:8,textAlign:"right",borderBottomColor:"#777"}},Tu.a.createElement(Fu.a,{className:"header-sub-title",content:"exchange.price"})))))),Tu.a.createElement("div",{className:"grid-block vertical no-padding",ref:"orderbook_container",style:{width:"100%"}},Tu.a.createElement("div",{id:"asksWrapper",style:{overflow:"hidden"},ref:"asksWrapper"},Tu.a.createElement("div",{onScroll:this._onBidScroll.bind(this),className:"grid-block",ref:"vert_asks",style:{overflow:"hidden",maxHeight:this.state.vertAsksHeight||300}},Tu.a.createElement("div",{style:{paddingRight:10,width:"100%",height:"100%",display:"table-cell",verticalAlign:"bottom"}},Tu.a.createElement("table",{style:{position:"relative",bottom:0},className:"table order-table table-hover text-right"},Tu.a.createElement(qu.a,{ref:"askTransition",className:"ps-container orderbook-top",component:"tbody",transitionName:"newrow"},b))))),Tu.a.createElement("div",{ref:"center_text",style:{minHeight:35}},Tu.a.createElement("div",{key:"spread",className:"orderbook-latest-price",ref:"centerRow"},Tu.a.createElement("div",{className:"text-center spread"},this.props.latest?Tu.a.createElement("span",{className:this.props.changeClass},Tu.a.createElement(Wu.a,{preFormattedPrice:this.props.latest})," ",Tu.a.createElement(Hu.a,{name:h}),"/",Tu.a.createElement(Hu.a,{name:u})):null))),Tu.a.createElement("div",{id:"bidsWrapper",style:{overflow:"hidden"}},Tu.a.createElement("div",{className:"grid-block",ref:"vert_bids",style:{overflow:"hidden",height:this.state.vertBidsHeight||300}},Tu.a.createElement("div",{style:{paddingRight:10,width:"100%",height:"100%",display:"table-cell",verticalAlign:"top"}},Tu.a.createElement("table",{className:"table order-table table-hover text-right"},Tu.a.createElement(qu.a,{ref:"bidTransition",className:"ps-container orderbook-top",component:"tbody",transitionName:"newrow"},g)))))),Tu.a.createElement("div",{style:{width:"100%"},className:"v-align no-padding align-center grid-block footer shrink bottom-header"},Tu.a.createElement("div",{onClick:this.props.moveOrderBook,className:"button small outline horizontal-button"},Tu.a.createElement(Fu.a,{content:"exchange.horizontal"}))))}}]),t}(Tu.a.Component);Gu.defaultProps={bids:[],asks:[],orders:{}},Gu.propTypes={bids:_u.PropTypes.array.isRequired,asks:_u.PropTypes.array.isRequired,orders:_u.PropTypes.object.isRequired};var Uu=Gu,Ku=n(42),Zu=n(27),$u=n.n(Zu),Qu=n(130),Ju=n(74),eh=n(7),th=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nh=eh.c.operations,rh=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.viewSettings.get("historyTab","history")},n}return l(t,e),th(t,[{key:"shouldComponentUpdate",value:function(e,t){return!$u.a.is(e.history,this.props.history)||e.baseSymbol!==this.props.baseSymbol||e.quoteSymbol!==this.props.quoteSymbol||e.className!==this.props.className||t.activeTab!==this.state.activeTab||e.currentAccount!==this.props.currentAccount}},{key:"componentDidMount",value:function(){var e=this.refs.history;Ru.a.initialize(e)}},{key:"componentDidUpdate",value:function(){var e=this.refs.history;Ru.a.update(e)}},{key:"_changeTab",value:function(e){Iu.a.changeViewSetting({historyTab:e}),this.setState({activeTab:e});var t=this.refs.history;t.scrollTop=0,Ru.a.update(t)}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.myHistory,r=e.base,i=e.quote,o=e.baseSymbol,a=e.quoteSymbol,s=(e.flipped,e.isNullAccount),l=this.state.activeTab,c=null;if(s&&(l="history"),"my_history"===l&&n&&n.size){var u=-1,h=r.get("id").split(".")[2]>i.get("id").split(".")[2];c=n.filter(function(e){return e.getIn(["op",0])===nh.fill_order}).filter(function(e){var t=i.get("id"),n=r.get("id"),o=e.getIn(["op",1,"pays","asset_id"]),a=e.getIn(["op",1,"receives","asset_id"]),s=t===o||t===a,l=n===o||n===a;return s&&l}).sort(function(e,t){return t.get("block_num")-e.get("block_num")}).map(function(e){var t=e.toJS().op[1];u++;var n=void 0,o=void 0,a=!1;t.pays.asset_id===r.get("id")?(n=r,o=i,a=!0):(n=i,o=r);var s=Qu.a.parse_order_history(t,n,o,a,h),l=e.get("block_num");return Tu.a.createElement("tr",{key:"my_history_"+u},Tu.a.createElement("td",{className:s.className},Tu.a.createElement(Wu.a,{preFormattedPrice:s})),Tu.a.createElement("td",null,s.receives),Tu.a.createElement("td",null,s.pays),Tu.a.createElement("td",null,Tu.a.createElement(Ku.b,{to:"/block/"+l},"#",ju.a.format_number(l,0))))}).toArray()}else if(t&&t.size){var p=0,f=-1,d=r.get("id").split(".")[2]>i.get("id").split(".")[2];c=this.props.history.filter(function(e){return++p%2==0}).take(100).map(function(e){f++;var t=void 0,n=void 0,o=!1;e.pays.asset_id===r.get("id")?(t=r,n=i,o=!0):(t=i,n=r);var a=Qu.a.parse_order_history(e,t,n,o,d);return Tu.a.createElement("tr",{key:"history_"+f},Tu.a.createElement("td",{className:a.className},Tu.a.createElement(Wu.a,{preFormattedPrice:a})),Tu.a.createElement("td",null,a.receives),Tu.a.createElement("td",null,a.pays),Tu.a.createElement("td",{"data-tip":new Date(e.time)},a.time))}).toArray()}var m="mymarkets-header clickable",y=zu()(m,{inactive:"my_history"===l}),g=zu()(m,{inactive:"history"===l});return Tu.a.createElement("div",{className:this.props.className},Tu.a.createElement("div",{className:"exchange-bordered"},Tu.a.createElement("div",{style:this.props.headerStyle,className:"grid-block shrink left-orderbook-header bottom-header"},Tu.a.createElement("div",{className:zu()(g,{disabled:s}),onClick:this._changeTab.bind(this,"my_history")},Tu.a.createElement(Fu.a,{content:"exchange.my_history"})),Tu.a.createElement("div",{className:y,onClick:this._changeTab.bind(this,"history")},Tu.a.createElement(Fu.a,{content:"exchange.history"}))),Tu.a.createElement("div",{className:"grid-block shrink left-orderbook-header market-right-padding-only"},Tu.a.createElement("table",{className:"table order-table text-right market-right-padding"},Tu.a.createElement("thead",null,Tu.a.createElement("tr",null,Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement(Fu.a,{className:"header-sub-title",content:"exchange.price"})),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{dataPlace:"top",name:a}))),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement("span",{className:"header-sub-title"},Tu.a.createElement(Hu.a,{dataPlace:"top",name:o}))),Tu.a.createElement("th",{style:{width:"25%",textAlign:"center"}},Tu.a.createElement(Fu.a,{className:"header-sub-title",content:"history"===l?"explorer.block.date":"explorer.block.title"})))))),Tu.a.createElement("div",{className:"table-container grid-block market-right-padding-only no-overflow",ref:"history",style:{maxHeight:210,overflow:"hidden"}},Tu.a.createElement("table",{className:"table order-table text-right market-right-padding"},Tu.a.createElement(qu.a,{component:"tbody",transitionName:"newrow"},c)))))}}]),t}(Tu.a.Component);rh.defaultProps={history:[]},rh.propTypes={history:_u.PropTypes.object.isRequired};var ih=Object(Ju.connect)(rh,{listenTo:function(){return[Eu.a]},getProps:function(){return{viewSettings:Eu.a.getState().viewSettings}}}),oh=n(1221),ah=n(23),sh=n.n(ah),lh=n(40),ch=n(41),uh=n(1223),hh=n(1233),ph=n(254),fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mh=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return h(t,e),dh(t,[{key:"onKeyPress",value:function(e){var t=e.target.value+e.key,n=t.match(/\./g),r=n?n.length:0;"."===e.key&&r>1&&e.preventDefault(),this.props.onKeyPress&&this.props.onKeyPress(e)}},{key:"render",value:function(){return Tu.a.createElement("input",fh({type:"number"},this.props,{onKeyPress:this.onKeyPress.bind(this)}))}}]),t}(Tu.a.Component),yh=mh,gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vh=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),bh(t,[{key:"shouldComponentUpdate",value:function(e){return e.amount!==this.props.amount||e.onBorrow!==this.props.onBorrow||e.total!==this.props.total||e.currentPrice!==this.props.currentPrice||e.price!==this.props.price||e.balance!==this.props.balance||e.account!==this.props.account||e.className!==this.props.className||!(!e.fee||!this.props.fee)&&e.fee.ne(this.props.fee)||e.isPredictionMarket!==this.props.isPredictionMarket||e.feeAsset!==this.props.feeAsset||e.isOpen!==this.props.isOpen||e.hasFeeBalance!==this.props.hasFeeBalance}},{key:"_addBalance",value:function(e){"bid"===this.props.type?this.props.totalChange({target:{value:e.getAmount({real:!0}).toString()}}):this.props.amountChange({target:{value:e.getAmount({real:!0}).toString()}})}},{key:"_setPrice",value:function(e){this.props.priceChange({target:{value:e.toString()}})}},{key:"_onDeposit",value:function(e){e.preventDefault(),this.refs.deposit_modal.show()}},{key:"_onBuy",value:function(e){e.preventDefault(),this.refs.bridge_modal.show()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.quote,r=e.base,i=e.amountChange,o=e.fee,a=e.isPredictionMarket,s=e.priceChange,l=e.onSubmit,c=e.balance,u=e.totalChange,h=e.balancePrecision,p=e.currentPrice,f=e.currentPriceObject,d=e.feeAsset,m=e.feeAssets,y=e.hasFeeBalance,g=e.backedCoin,b=void 0,v=void 0,w=void 0,x=this.props.isOpen?Tu.a.createElement("span",null,"▼"):Tu.a.createElement("span",null,"▲");this.props.amount&&(b=this.props.amount),this.props.price&&(v=this.props.price),this.props.total&&(w=this.props.total);var k=new ph.a({amount:c?c.get("balance"):0,precision:h,asset_id:this.props.balanceId}),_="bid"===t,T=_?k.getAmount({real:!0})>=parseFloat(w):k.getAmount({real:!0})>=parseFloat(b),S=a?sh.a.translate("exchange.short"):_?sh.a.translate("exchange.buy"):sh.a.translate("exchange.sell"),P=_?sh.a.translate("exchange.buy"):sh.a.translate("exchange.sell"),E=!a&&!(k.getAmount()>0&&T),C=!(v>0),O=!(b>0),A=E||C||O,M=zu()("button buySellButton",t,{disabled:A}),D=_?r.get("symbol"):n.get("symbol"),N=C?sh.a.translate("exchange.invalid_price"):O?sh.a.translate("exchange.invalid_amount"):E?sh.a.translate("exchange.no_balance"):null;m[1]&&"1.3.0"===m[1].getIn(["options","core_exchange_rate","quote","asset_id"])&&"1.3.0"===m[1].getIn(["options","core_exchange_rate","base","asset_id"])&&(d=m[0],m.splice(1,1));var R=0,j=m.map(function(e){var t=ju.a.replaceName(e.get("symbol"),e.get("bitasset")&&!e.getIn(["bitasset","is_prediction_market"])&&"1.2.0"===e.get("issuer")),n=t.name,r=t.prefix;return Tu.a.createElement("option",{key:e.get("id"),value:R++},r,n)}),L=void 0;L=d.get("symbol")===D?k.clone(k.getAmount()-o.getAmount()):k;var F=ju.a.replaceName(this.props[_?"base":"quote"].get("symbol"),!!this.props[_?"base":"quote"].get("bitasset")),I=F.name,B=F.prefix,z=(B||"")+I;return Tu.a.createElement("div",{className:this.props.className},Tu.a.createElement("div",{className:"exchange-bordered buy-sell-container"},Tu.a.createElement("div",{className:"exchange-content-header "+t},Tu.a.createElement("span",null,S," ",Tu.a.createElement(Hu.a,{dataPlace:"top",name:n.get("symbol")})),this.props.onFlip?Tu.a.createElement("span",{onClick:this.props.onFlip,style:{cursor:"pointer",fontSize:"1rem"}},"  ⇆"):null,this.props.onTogglePosition?Tu.a.createElement("span",{onClick:this.props.onTogglePosition,style:{cursor:"pointer",fontSize:"1rem"}},"  ⇅"):null,Tu.a.createElement("div",{onClick:this.props.onToggleOpen,className:"float-right clickable hide-for-xlarge",style:{paddingLeft:10}},x),this.props.onBorrow?Tu.a.createElement("div",{className:"float-right buy-sell-deposit"},Tu.a.createElement("a",{onClick:this.props.onBorrow},Tu.a.createElement(Fu.a,{content:"exchange.borrow"})," ",Tu.a.createElement("span",{className:"asset-name"},z))):null),Tu.a.createElement("form",{className:(this.props.isOpen?"":"hide-container ")+"order-form",noValidate:!0},Tu.a.createElement("div",{className:"grid-block vertical no-overflow no-padding"},Tu.a.createElement("div",{className:"grid-block no-padding buy-sell-row"},Tu.a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},Tu.a.createElement(Fu.a,{content:"exchange.price"}),":"),Tu.a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},Tu.a.createElement(yh,{id:"buyPrice",value:v,onChange:s,autoComplete:"off",placeholder:"0.0"})),Tu.a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},Tu.a.createElement(Hu.a,{dataPlace:"right",name:r.get("symbol")})," / ",Tu.a.createElement(Hu.a,{dataPlace:"right",name:n.get("symbol")}))),Tu.a.createElement("div",{className:"grid-block no-padding buy-sell-row"},Tu.a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},Tu.a.createElement(Fu.a,{content:"transfer.amount"}),":"),Tu.a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},Tu.a.createElement(yh,{id:"buyAmount",value:b,onChange:i,autoComplete:"off",placeholder:"0.0"})),Tu.a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},Tu.a.createElement(Hu.a,{dataPlace:"right",name:n.get("symbol")}))),Tu.a.createElement("div",{className:"grid-block buy-sell-row bottom-row"},Tu.a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},Tu.a.createElement(Fu.a,{content:"exchange.total"}),":"),Tu.a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},Tu.a.createElement(yh,{id:"buyAmount",value:w,onChange:u,autoComplete:"off",placeholder:"0.0"})),Tu.a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box"},Tu.a.createElement(Hu.a,{dataPlace:"right",name:r.get("symbol")}))),Tu.a.createElement("div",{className:"grid-block no-padding buy-sell-row"},Tu.a.createElement("div",{className:"grid-block small-3 no-margin no-overflow buy-sell-label"},Tu.a.createElement(Fu.a,{content:"transfer.fee"}),":"),Tu.a.createElement("div",{className:"grid-block small-5 no-margin no-overflow buy-sell-input"},Tu.a.createElement("input",{className:y?"":"no-balance",disabled:!0,type:"text",id:"fee",value:y?o.getAmount({real:!0}):sh.a.translate("transfer.errors.insufficient"),autoComplete:"off"})),Tu.a.createElement("div",{className:"grid-block small-4 no-margin no-overflow buy-sell-box",style:{paddingLeft:1!==m.length?0:5}},Tu.a.createElement("select",{style:1===m.length?{background:"none"}:null,disabled:1===m.length,value:m.indexOf(this.props.feeAsset),className:"form-control"+(1!==m.length?" buysell-select":""),onChange:this.props.onChangeFeeAsset},j)))),Tu.a.createElement("div",null,Tu.a.createElement("div",{className:"grid-content clear-fix no-padding"},Tu.a.createElement("table",{className:"float-left"},Tu.a.createElement("tbody",null,Tu.a.createElement("tr",{className:"buy-sell-info"},Tu.a.createElement("td",null,Tu.a.createElement(Fu.a,{content:"exchange.balance"}),":"),Tu.a.createElement("td",{style:{paddingLeft:5,textAlign:"right"}},Tu.a.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this._addBalance.bind(this,L)},ju.a.format_number(k.getAmount({real:!0}),h)," ",Tu.a.createElement(Hu.a,{name:D})))),Tu.a.createElement("tr",{className:"buy-sell-info"},Tu.a.createElement("td",{style:{paddingTop:5}},_?Tu.a.createElement(Fu.a,{content:"exchange.lowest_ask"}):Tu.a.createElement(Fu.a,{content:"exchange.highest_bid"}),": "),p?Tu.a.createElement("td",{style:{paddingLeft:5,textAlign:"right",paddingTop:5,verticalAlign:"bottom"}},Tu.a.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this.props.setPrice.bind(this,t,f.sellPrice())},Tu.a.createElement(Wu.a,{price:p,quote:n,base:r})," ",Tu.a.createElement(Hu.a,{name:r.get("symbol")}))):null))),N?Tu.a.createElement("div",{className:"float-right","data-tip":N,"data-place":"right"},Tu.a.createElement("input",{style:{margin:0},className:M,type:"submit",onClick:l.bind(this,!0),value:S})):Tu.a.createElement("div",{className:"float-right","data-tip":""},Tu.a.createElement("input",{style:{margin:0},className:M,type:"submit",onClick:l.bind(this,!0),value:S})),N&&a?Tu.a.createElement("div",{style:{paddingRight:10},className:"float-right","data-tip":N,"data-place":"right"},Tu.a.createElement("input",{style:{margin:0},className:M,type:"submit",onClick:l.bind(this,!1),value:P})):a?Tu.a.createElement("div",{style:{paddingRight:10},className:"float-right","data-tip":""},Tu.a.createElement("input",{style:{margin:0},className:M,type:"submit",onClick:l.bind(this,!1),value:P})):null)))),Tu.a.createElement(uh.a,gh({ref:"deposit_modal",action:"deposit",fiatModal:!1,account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props[_?"base":"quote"].get("id"),modalId:"simple_deposit_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance]},g)),Tu.a.createElement(hh.a,{ref:"bridge_modal",action:"deposit",account:this.props.currentAccount.get("name"),sender:this.props.currentAccount.get("id"),asset:this.props.balanceId,modalId:"simple_bridge_modal"+("bid"===t?"":"_ask"),balances:[this.props.balance],bridges:this.props.currentBridges}))}}]),t}(Tu.a.Component);vh.propTypes={balance:lh.a.ChainObject,type:_u.PropTypes.string,amountChange:_u.PropTypes.func.isRequired,priceChange:_u.PropTypes.func.isRequired,onSubmit:_u.PropTypes.func.isRequired},vh.defaultProps={type:"bid"};var wh,xh=Object(ch.a)(vh,{keep_updating:!0}),kh=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},_h=function(e){return e=kh(Math.abs(e)),e?e[1]:NaN},Th=function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}},Sh=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},Ph=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},Eh=function(e,t){var n=kh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(wh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kh(e,Math.max(0,t+o-1))[0]},Ch=function(e,t){var n=kh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Oh={"":Ph,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ch(100*e,t)},r:Ch,s:Eh,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Ah=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;m.prototype=y.prototype,y.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Mh,Dh,Nh,Rh=function(e){return e},jh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Lh=function(e){function t(e){function t(e){var t,i,s,u=g,m=b;if("c"===y)m=v(e)+m,e="";else{e=+e;var x=e<0;if(e=v(Math.abs(e),d),x&&0==+e&&(x=!1),u=(x?"("===c?c:"-":"-"===c||"("===c?"":c)+u,m=m+("s"===y?jh[8+wh/3]:"")+(x&&"("===c?")":""),w)for(t=-1,i=e.length;++t<i;)if(48>(s=e.charCodeAt(t))||s>57){m=(46===s?o+e.slice(t+1):e.slice(t))+m,e=e.slice(0,t);break}}f&&!h&&(e=r(e,1/0));var k=u.length+e.length+m.length,_=k<p?new Array(p-k+1).join(n):"";switch(f&&h&&(e=r(_+e,_.length?p-m.length:1/0),_=""),l){case"<":e=u+e+m+_;break;case"=":e=u+_+e+m;break;case"^":e=_.slice(0,k=_.length>>1)+u+e+m+_.slice(k);break;default:e=_+u+e+m}return a(e)}e=m(e);var n=e.fill,l=e.align,c=e.sign,u=e.symbol,h=e.zero,p=e.width,f=e.comma,d=e.precision,y=e.type,g="$"===u?i[0]:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===u?i[1]:/[%p]/.test(y)?s:"",v=Oh[y],w=!y||/[defgprs%]/.test(y);return d=null==d?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),t.toString=function(){return e+""},t}function n(e,n){var r=t((e=m(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(_h(n)/3))),o=Math.pow(10,-i),a=jh[8+i/3];return function(e){return r(o*e)+a}}var r=e.grouping&&e.thousands?Th(e.grouping,e.thousands):Rh,i=e.currency,o=e.decimal,a=e.numerals?Sh(e.numerals):Rh,s=e.percent||"%";return{format:t,formatPrefix:n}};!function(e){Mh=Lh(e),Dh=Mh.format,Nh=Mh.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Fh=function(e){return Math.max(0,-_h(Math.abs(e)))},Ih=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_h(t)/3)))-_h(Math.abs(e)))},Bh=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_h(t)-_h(e))+1},zh=new Date,Wh=new Date,qh=g(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});qh.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?g(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):qh:null};var Hh=(qh.range,6e4),Yh=6048e5,Xh=g(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Vh=(Xh.range,g(function(e){e.setTime(Math.floor(e/Hh)*Hh)},function(e,t){e.setTime(+e+t*Hh)},function(e,t){return(t-e)/Hh},function(e){return e.getMinutes()})),Gh=(Vh.range,g(function(e){var t=e.getTimezoneOffset()*Hh%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()})),Uh=(Gh.range,g(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hh)/864e5},function(e){return e.getDate()-1})),Kh=Uh,Zh=(Uh.range,b(0)),$h=b(1),Qh=b(2),Jh=b(3),ep=b(4),tp=b(5),np=b(6),rp=(Zh.range,$h.range,Qh.range,Jh.range,ep.range,tp.range,np.range,g(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()})),ip=(rp.range,g(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));ip.every=function(e){return isFinite(e=Math.floor(e))&&e>0?g(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var op=ip,ap=(ip.range,g(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Hh)},function(e,t){return(t-e)/Hh},function(e){return e.getUTCMinutes()})),sp=(ap.range,g(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()})),lp=(sp.range,g(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1})),cp=lp,up=(lp.range,v(0)),hp=v(1),pp=v(2),fp=v(3),dp=v(4),mp=v(5),yp=v(6),gp=(up.range,hp.range,pp.range,fp.range,dp.range,mp.range,yp.range,g(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()})),bp=(gp.range,g(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));bp.every=function(e){return isFinite(e=Math.floor(e))&&e>0?g(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var vp,wp,xp,kp,_p,Tp=bp,Sp=(bp.range,{"-":"",_:" ",0:"0"}),Pp=/^\s*\d+/,Ep=/^%/,Cp=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;!function(e){vp=_(e),wp=vp.format,xp=vp.parse,kp=vp.utcFormat,_p=vp.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Op=(Date.prototype.toISOString||kp("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||_p("%Y-%m-%dT%H:%M:%S.%LZ"),function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}),Ap=function(e){return 1===e.length&&(e=ve(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},Mp=Ap(Op),Dp=Mp.right,Np=(Mp.left,Dp),Rp=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},jp=function(e){return null===e?NaN:+e},Lp=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=jp(e[a]))||(r=n-s,s+=r/++o,l+=r*(n-s));else for(;++a<i;)isNaN(n=jp(t(e[a],a,e)))||(r=n-s,s+=r/++o,l+=r*(n-s));if(o>1)return l/(o-1)},Fp=function(e,t){var n=Lp(e,t);return n?Math.sqrt(n):n},Ip=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},Bp=Array.prototype,zp=Bp.slice,Wp=(Bp.map,function(e){return function(){return e}}),qp=function(e){return e},Hp=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},Yp=Math.sqrt(50),Xp=Math.sqrt(10),Vp=Math.sqrt(2),Gp=function(e,t,n){var r,i,o,a=t<e,s=-1;if(a&&(r=e,e=t,t=r),0===(o=we(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),i=new Array(r=Math.ceil(t-e+1));++s<r;)i[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),i=new Array(r=Math.ceil(e-t+1));++s<r;)i[s]=(e-s)/o;return a&&i.reverse(),i},Up=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},Kp=function(){function e(e){var i,o,a=e.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(e[i],i,e);var l=n(s),c=l[0],u=l[1],h=r(s,c,u);Array.isArray(h)||(h=xe(c,u,h),h=Hp(Math.ceil(c/h)*h,Math.floor(u/h)*h,h));for(var p=h.length;h[0]<=c;)h.shift(),--p;for(;h[p-1]>u;)h.pop(),--p;var f,d=new Array(p+1);for(i=0;i<=p;++i)f=d[i]=[],f.x0=i>0?h[i-1]:c,f.x1=i<p?h[i]:u;for(i=0;i<a;++i)o=s[i],c<=o&&o<=u&&d[Np(h,o,0,p)].push(e[i]);return d}var t=qp,n=Ip,r=Up;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:Wp(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:Wp([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Wp(Array.isArray(t)?zp.call(t):t),e):r},e},Zp=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},$p=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=jp(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=jp(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},Qp=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n},Jp=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},ef=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},tf=function(e){if(!(i=e.length))return[];for(var t=-1,n=Jp(e,ke),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r},nf=function(){return tf(arguments)};_e.prototype=Te.prototype={constructor:_e,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var rf=Te,of=function(){function e(t,i,a,s){if(i>=o.length)return null!=n&&t.sort(n),null!=r?r(t):t;for(var l,c,u,h=-1,p=t.length,f=o[i++],d=rf(),m=a();++h<p;)(u=d.get(l=f(c=t[h])+""))?u.push(c):d.set(l,[c]);return d.each(function(t,n){s(m,n,e(t,i,a,s))}),m}function t(e,n){if(++n>o.length)return e;var i,s=a[n-1];return null!=r&&n>=o.length?i=e.entries():(i=[],e.each(function(e,r){i.push({key:r,values:t(e,n)})})),null!=s?i.sort(function(e,t){return s(e.key,t.key)}):i}var n,r,i,o=[],a=[];return i={object:function(t){return e(t,0,Se,Pe)},map:function(t){return e(t,0,Ee,Ce)},entries:function(n){return t(e(n,0,Ee,Ce),0)},key:function(e){return o.push(e),i},sortKeys:function(e){return a[o.length-1]=e,i},sortValues:function(e){return n=e,i},rollup:function(e){return r=e,i}}},af=rf.prototype;Oe.prototype=Ae.prototype={constructor:Oe,has:af.has,add:function(e){return e+="",this["$"+e]=e,this},remove:af.remove,clear:af.clear,values:af.keys,size:af.size,empty:af.empty,each:af.each};var sf=Ae,lf=Array.prototype,cf=lf.map,uf=lf.slice,hf={name:"implicit"},pf=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},ff="\\s*([+-]?\\d+)\\s*",df="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yf=/^#([0-9a-f]{3})$/,gf=/^#([0-9a-f]{6})$/,bf=new RegExp("^rgb\\("+[ff,ff,ff]+"\\)$"),vf=new RegExp("^rgb\\("+[mf,mf,mf]+"\\)$"),wf=new RegExp("^rgba\\("+[ff,ff,ff,df]+"\\)$"),xf=new RegExp("^rgba\\("+[mf,mf,mf,df]+"\\)$"),kf=new RegExp("^hsl\\("+[df,mf,mf]+"\\)$"),_f=new RegExp("^hsla\\("+[df,mf,mf,df]+"\\)$"),Tf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pf(Ne,Re,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),pf(Be,Ie,De(Ne,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),pf(He,qe,De(Ne,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new He(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new He(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Be(Ye(e>=240?e-240:e+120,i,r),Ye(e,i,r),Ye(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Sf=Math.PI/180,Pf=180/Math.PI,Ef=.95047,Cf=1,Of=1.08883,Af=4/29,Mf=6/29,Df=3*Mf*Mf,Nf=Mf*Mf*Mf;pf(Ge,Ve,De(Ne,{brighter:function(e){return new Ge(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Ge(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=Cf*Ke(e),t=Ef*Ke(t),n=Of*Ke(n),new Be(Ze(3.2404542*t-1.5371385*e-.4985314*n),Ze(-.969266*t+1.8760108*e+.041556*n),Ze(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),pf(et,Je,De(Ne,{brighter:function(e){return new et(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new et(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Xe(this).rgb()}}));var Rf=-.14861,jf=1.78277,Lf=-.29227,Ff=-.90649,If=1.97294,Bf=If*Ff,zf=If*jf,Wf=jf*Lf-Ff*Rf;pf(rt,nt,De(Ne,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new rt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new rt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Sf,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Be(255*(t+n*(Rf*r+jf*i)),255*(t+n*(Lf*r+Ff*i)),255*(t+n*(If*r)),this.opacity)}}));var qf,Hf,Yf,Xf,Vf=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return it((n-r/t)*t,a,i,o,s)}},Gf=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return it((n-r/t)*t,i,o,a,s)}},Uf=function(e){return function(){return e}},Kf=function e(t){function n(e,t){var n=r((e=Ie(e)).r,(t=Ie(t)).r),i=r(e.g,t.g),o=r(e.b,t.b),a=ct(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}var r=lt(t);return n.gamma=e,n}(1),Zf=(ut(Vf),ut(Gf),function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=rd(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}),$f=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}},Qf=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},Jf=function(e,t){var n,r={},i={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?r[n]=rd(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},ed=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,td=new RegExp(ed.source,"g"),nd=function(e,t){var n,r,i,o=ed.lastIndex=td.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=ed.exec(e))&&(r=td.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Qf(n,r)})),o=td.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?pt(l[0].x):ht(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},rd=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?Uf(t):("number"===r?Qf:"string"===r?(n=Re(t))?(t=n,Kf):nd:t instanceof Re?Kf:t instanceof Date?$f:Array.isArray(t)?Zf:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Jf:Qf)(e,t)},id=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},od=180/Math.PI,ad={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},sd=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*od,skewX:Math.atan(l)*od,scaleX:a,scaleY:s}},ld=(mt(ft,"px, ","px)","deg)"),mt(dt,", ",")",")"),Math.SQRT2,yt(st),yt(ct),gt(st),gt(ct),bt(st),bt(ct)),cd=function(e){return function(){return e}},ud=function(e){return+e},hd=[0,1],pd=function(e,t,n){var r,i=e[0],o=e[e.length-1],a=xe(i,o,null==t?10:t);switch(n=m(null==n?",f":n),n.type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Ih(a,s))||(n.precision=r),Nh(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Bh(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Fh(a))||(n.precision=r-2*("%"===n.type))}return Dh(n)},fd=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e},dd=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},md=dd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yd=(dd("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),dd("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),dd("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ld(nt(300,.5,0),nt(-240,.5,1)),ld(nt(-100,.75,.35),nt(80,1.5,.8)),ld(nt(260,.75,.35),nt(80,1.5,.8)),nt(),jt(dd("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),jt(dd("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jt(dd("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jt(dd("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),function(e){return e}),gd=function(){},bd=function(){function e(e){return Lt().combine(function(e,t){var i=n&&Jt(t)?e:r(e,t);return Jt(i)?e:i})(e,t(e))}var t=yd,n=!0,r=gd;return e.algorithm=function(n){return arguments.length?(t=n,e):t},e.merge=function(t){return arguments.length?(r=t,e):r},e.skipUndefined=function(t){return arguments.length?(n=t,e):n},e},vd=function(){var e,t,n,r=void 0,i=10,o=gd,a=0,s=function(s){var l=t||Yt(e),c=Xt(i).apply(this,arguments),u=s.slice(a,c+a).map(l),h=0,p=Xt(r);return s.map(function(e,t){return t<a+c-1?p(l(e),t,n):(t>=a+c&&(u.shift(),u.push(l(e,t))),o(u,t,h++,n))})};return s.undefinedValue=function(e){return arguments.length?(r=e,s):r},s.windowSize=function(e){return arguments.length?(i=e,s):i},s.misc=function(e){return arguments.length?(n=e,s):n},s.accumulator=function(e){return arguments.length?(o=e,s):o},s.skipInitial=function(e){return arguments.length?(a=e,s):a},s.sourcePath=function(t){return arguments.length?(e=t,s):e},s.source=function(e){return arguments.length?(t=e,s):t},s},wd=function(){var e=void 0,t=10,n=gd,r=yd,i=0,o=function(o){var a=Xt(t).apply(this,arguments),s=[],l=0,c=Xt(e),u=[];return o.forEach(function(e,t){var o;if(t<i+a-1)return o=c(e,t),u.push(o),void s.push(o);t>=i+a&&s.shift(),s.push(r(e,t)),o=n(s,t,l++),u.push(o),s.pop(),s.push(o)}),u};return o.undefinedValue=function(t){return arguments.length?(e=t,o):e},o.windowSize=function(e){return arguments.length?(t=e,o):t},o.accumulator=function(e){return arguments.length?(n=e,o):n},o.skipInitial=function(e){return arguments.length?(i=e,o):i},o.source=function(e){return arguments.length?(r=e,o):r},o},xd=function(){var e=Xt(!1),t=gd,n=yd,r=!1,i=!1,o=function(o){var a=r?void 0:[],s=[],l=0,c=0;for(c=0;c<o.length;c++){var u=o[c];e(u,c)?(a&&a.length>0&&s.push(t(a,c,l++)),a=[n(u)]):a&&a.push(n(u))}return i||s.push(t(a,c,l)),s};return o.accumulateTill=function(t){return arguments.length?(e=Xt(t),o):e},o.accumulator=function(e){return arguments.length?(t=e,o):t},o.value=function(e){return arguments.length?(n=e,o):n},o.discardTillStart=function(e){return arguments.length?(r=e,o):r},o.discardTillEnd=function(e){return arguments.length?(i=e,o):i},o},kd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_d=function(e){function t(){return zt(this,t),Wt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return qt(t,e),kd(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return!Bt(this.props,e)||!Bt(this.state,t)||!Bt(this.context,n)}}]),t}(_u.Component),Td=_d,Sd=["Solid","ShortDash","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"],Pd=function(e){switch(e){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"8, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}},Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd="mousemove.pan",Od="mouseup.pan",Ad=Me(md),Md=Zt,Dd=(Array.isArray,n(1241)),Nd=n.n(Dd),Rd=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ld=function(e){function t(e,n){an(this,t);var r=sn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.yScale=r.yScale.bind(r),r.listener=r.listener.bind(r),r}return ln(t,e),jd(t,[{key:"componentWillMount",value:function(){var e=this.props.id;(0,this.context.subscribe)("chart_"+e,this.listener)}},{key:"componentWillUnmount",value:function(){var e=this.props.id;(0,this.context.unsubscribe)("chart_"+e)}},{key:"listener",value:function(e,t,n,r){var i=this.props,o=i.id,a=i.onContextMenu;if("contextmenu"===e){t.currentCharts.indexOf(o)>-1&&a(t,r)}}},{key:"yScale",value:function(){var e=this;return this.context.chartConfig.filter(function(t){return t.id===e.props.id})[0].yScale.copy()}},{key:"getChildContext",value:function(){var e=this.props.id,t=this.context.chartConfig.filter(function(t){return t.id===e})[0];return{chartId:e,chartConfig:t}}},{key:"render",value:function(){var e=this,t=this.context.chartConfig.filter(function(t){return t.id===e.props.id})[0].origin,n=Rd(t,2),r=n[0],i=n[1];return Tu.a.createElement("g",{transform:"translate("+r+", "+i+")"},this.props.children)}}]),t}(Td);Ld.propTypes={height:_u.PropTypes.number,width:_u.PropTypes.number,origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,id:_u.PropTypes.number.isRequired,yExtents:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]),yExtentsCalculator:function(e,t,n){if(Jt(e.yExtents)&&"function"!=typeof e.yExtentsCalculator)return new Error("yExtents or yExtentsCalculator must be present on "+n+". Validation failed.")},onContextMenu:_u.PropTypes.func.isRequired,yScale:_u.PropTypes.func.isRequired,yMousePointerDisplayLocation:_u.PropTypes.oneOf(["left","right"]),yMousePointerDisplayFormat:_u.PropTypes.func,flipYScale:_u.PropTypes.bool.isRequired,padding:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.shape({top:_u.PropTypes.number,bottom:_u.PropTypes.number})]).isRequired,children:_u.PropTypes.node},Ld.defaultProps={id:0,origin:[0,0],padding:0,yScale:Et(),flipYScale:!1,yPan:!0,onContextMenu:gd},Ld.contextTypes={chartConfig:_u.PropTypes.array,subscribe:_u.PropTypes.func.isRequired,unsubscribe:_u.PropTypes.func.isRequired},Ld.childContextTypes={chartConfig:_u.PropTypes.object.isRequired,chartId:_u.PropTypes.number.isRequired};var Fd=Ld,Id=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd="http://www.w3.org/1999/xhtml",zd={svg:"http://www.w3.org/2000/svg",xhtml:Bd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wd=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),zd.hasOwnProperty(t)?{space:zd[t],local:e}:e},qd=function(e){var t=Wd(e);return(t.local?bn:gn)(t)},Hd=0;wn.prototype=vn.prototype={constructor:wn,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Yd=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Xd=document.documentElement;if(!Xd.matches){var Vd=Xd.webkitMatchesSelector||Xd.msMatchesSelector||Xd.mozMatchesSelector||Xd.oMatchesSelector;Yd=function(e){return function(){return Vd.call(this,e)}}}}var Gd=Yd,Ud={},Kd=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(Ud={mouseenter:"mouseover",mouseleave:"mouseout"})}var Zd=function(e,t,n){var r,i,o=_n(e+""),a=o.length;{if(!(arguments.length<2)){for(s=t?Sn:Tn,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value}},$d=function(e){return null==e?Pn:function(){return this.querySelector(e)}},Qd=function(e){"function"!=typeof e&&(e=$d(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new pr(r,this._parents)},Jd=function(e){return null==e?En:function(){return this.querySelectorAll(e)}},em=function(e){"function"!=typeof e&&(e=Jd(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new pr(r,i)},tm=function(e){"function"!=typeof e&&(e=Gd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new pr(r,this._parents)},nm=function(e){return new Array(e.length)},rm=function(){return new pr(this._enter||this._groups.map(nm),this._parents)};Cn.prototype={constructor:Cn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var im=function(e){return function(){return e}},om="$",am=function(e,t){if(!e)return f=new Array(this.size()),c=-1,this.each(function(e){f[++c]=e}),f;var n=t?An:On,r=this._parents,i=this._groups;"function"!=typeof e&&(e=im(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],p=h.length,f=e.call(u,u&&u.__data__,c,r),d=f.length,m=s[c]=new Array(d),y=a[c]=new Array(d);n(u,h,m,y,l[c]=new Array(p),f,t);for(var g,b,v=0,w=0;v<d;++v)if(g=m[v]){for(v>=w&&(w=v+1);!(b=y[w])&&++w<d;);g._next=b||null}}return a=new pr(a,r),a._enter=s,a._exit=l,a},sm=function(){return new pr(this._exit||this._groups.map(nm),this._parents)},lm=function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],h=c.length,p=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<r;++s)a[s]=t[s];return new pr(a,this._parents)},cm=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},um=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Mn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new pr(i,this._parents).order()},hm=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},pm=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},fm=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},dm=function(){var e=0;return this.each(function(){++e}),e},mm=function(){return!this.node()},ym=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},gm=function(e,t){var n=Wd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Nn:Dn:"function"==typeof t?n.local?Fn:Ln:n.local?jn:Rn)(n,t))},bm=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView},vm=function(e,t,n){return arguments.length>1?this.each((null==t?In:"function"==typeof t?zn:Bn)(e,t,null==n?"":n)):Wn(this.node(),e)},wm=function(e,t){return arguments.length>1?this.each((null==t?qn:"function"==typeof t?Yn:Hn)(e,t)):this.node()[e]};Gn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var xm=function(e,t){var n=Xn(e+"");if(arguments.length<2){for(var r=Vn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Qn:t?Zn:$n)(n,t))},km=function(e){return arguments.length?this.each(null==e?Jn:("function"==typeof e?tr:er)(e)):this.node().textContent},_m=function(e){return arguments.length?this.each(null==e?nr:("function"==typeof e?ir:rr)(e)):this.node().innerHTML},Tm=function(){return this.each(or)},Sm=function(){return this.each(ar)},Pm=function(e){var t="function"==typeof e?e:qd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},Em=function(e,t){var n="function"==typeof e?e:qd(e),r=null==t?sr:"function"==typeof t?t:$d(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Cm=function(){return this.each(lr)},Om=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},Am=function(e,t){return this.each(("function"==typeof t?hr:ur)(e,t))},Mm=[null];pr.prototype=fr.prototype={constructor:pr,select:Qd,selectAll:em,filter:tm,data:am,enter:rm,exit:sm,merge:lm,order:cm,sort:um,call:hm,nodes:pm,node:fm,size:dm,empty:mm,each:ym,attr:gm,style:vm,property:wm,classed:xm,text:km,html:_m,raise:Tm,lower:Sm,append:Pm,insert:Em,remove:Cm,datum:Om,on:Zd,dispatch:Am};var Dm=function(e){return"string"==typeof e?new pr([[document.querySelector(e)]],[document.documentElement]):new pr([[e]],Mm)},Nm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rm=function(e){function t(e){dr(this,t);var n=mr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEnter=n.handleEnter.bind(n),n.handleLeave=n.handleLeave.bind(n),n.handleWheel=n.handleWheel.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handlePanEnd=n.handlePanEnd.bind(n),n.handlePan=n.handlePan.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.saveNode=n.saveNode.bind(n),n.lastTouch={},n.initialPinch={},n.mouseInteraction=!0,n.state={panInProgress:!1},n}return yr(t,e),Nm(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"componentWillMount",value:function(){this.focus=this.props.focus}},{key:"handleEnter",value:function(e){(0,this.props.onMouseEnter)(e)}},{key:"handleLeave",value:function(e){(0,this.props.onMouseLeave)(e)}},{key:"handleWheel",value:function(e){var t=this.props,n=t.zoom,r=t.onZoom;if(n&&this.focus&&0!==e.deltaY){e.preventDefault();var i=nn(e);r(e.deltaY>0?1:-1,i,e)}}},{key:"handleMouseMove",value:function(e){var t=this.props,n=t.onMouseMove,r=t.mouseMove;if(this.mouseInteraction&&r&&!this.state.panInProgress){n(nn(e),"mouse",e)}}},{key:"handleRightClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.onContextMenu,r=t.onPanEnd,i=nn(e,this.node.getBoundingClientRect());if(Qt(this.state.panStart)){var o=this.state.panStart,a=o.panStartXScale,s=o.panOrigin,l=o.chartsToPan;this.panHappened&&r(i,a,s,l,e);var c=Gt(this.node);Dm(c).on(Cd,null).on(Od,null),this.setState({panInProgress:!1,panStart:null})}n(i,e),this.contextMenuClicked=!0}},{key:"handleMouseDown",value:function(e){var t=this,n=this.props,r=n.pan,i=n.xScale,o=n.chartConfig,a=n.onMouseDown;if(this.panHappened=!1,this.focus=!0,!this.state.panInProgress&&this.mouseInteraction){var s=nn(e),l=pn(o,s);if(this.setState({panInProgress:r,panStart:{panStartXScale:i,panOrigin:s,chartsToPan:l}}),r){var c=Gt(this.node);Dm(c).on(Cd,this.handlePan).on(Od,this.handlePanEnd)}r||(e.persist(),setTimeout(function(){t.contextMenuClicked||a(s,l,e),t.contextMenuClicked=!1},100))}e.preventDefault()}},{key:"handlePan",value:function(){var e=Kd,t=this.props,n=t.pan,r=t.onPan;if(this.mouseInteraction&&n&&r&&Qt(this.state.panStart)){this.panHappened=!0;var i=this.state.panStart,o=i.panStartXScale,a=i.panOrigin,s=i.chartsToPan,l=this.node.getBoundingClientRect();r([Math.round(e.pageX-l.left),Math.round(e.pageY-l.top)],o,a,s,e)}}},{key:"handlePanEnd",value:function(){var e=this,t=Kd,n=this.props,r=n.pan,i=n.onPanEnd,o=n.onClick,a=n.onDoubleClick;if(Qt(this.state.panStart)){var s=this.state.panStart,l=s.panStartXScale,c=s.panOrigin,u=s.chartsToPan,h=this.node.getBoundingClientRect(),p=[Math.round(t.pageX-h.left),Math.round(t.pageY-h.top)];if(this.panHappened||(this.clicked?(a(p,t),this.clicked=!1):(this.clicked=!0,setTimeout(function(){e.clicked&&(o(p,t),e.clicked=!1)},300))),this.mouseInteraction&&this.panHappened&&r&&i){var f=Gt(this.node);Dm(f).on(Cd,null).on(Od,null),i(p,l,c,u,t)}this.setState({panInProgress:!1,panStart:null})}}},{key:"handleTouchStart",value:function(e){this.mouseInteraction=!1;var t=this.props.pan,n=this.props,r=n.xScale,i=n.onPanEnd;if(1===e.touches.length){var o=gr(e.touches[0]),a=tn(o,e);if(this.lastTouch=o,t){var s=o.pageX-a[0],l=o.pageY-a[1];this.setState({panInProgress:!0,panStart:{panStartXScale:r,panOrigin:a,dx:s,dy:l}})}}else if(2===e.touches.length){var c=gr(e.touches[0]),u=this.state,h=u.panInProgress,p=u.panStart;if(h&&t&&i){var f=p.dx,d=p.dy,m=p.panStartXScale,y=p.panOrigin,g=[c.pageX-f,c.pageY-d];this.lastTouch=null,this.setState({panInProgress:!1,panStart:null}),i(g,m,y,e)}}2!==e.touches.length&&(this.initialPinch=null),e.preventDefault()}},{key:"handleTouchMove",value:function(e){var t=this.props,n=t.pan,r=t.zoom,i=this.props,o=i.xScale,a=i.onPan,s=i.onPinchZoom,l=this.state,c=l.panInProgress,u=l.panStart;if(1===e.touches.length){var h=this.lastTouch=gr(e.touches[0]);if(c&&n&&a){var p=u.dx,f=u.dy,d=u.panStartXScale,m=u.panOrigin,y=u.chartsToPan;a([h.pageX-p,h.pageY-f],d,m,y,e)}}else if(2===e.touches.length&&r&&s&&focus){var g=gr(e.touches[0]),b=gr(e.touches[1]),v=tn(g,e),w=tn(b,e);null===this.initialPinch?this.initialPinch={touch1Pos:v,touch2Pos:w,xScale:o,range:o.range()}:this.initialPinch&&!c&&s(this.initialPinch,{touch1Pos:v,touch2Pos:w,xScale:o})}e.preventDefault()}},{key:"handleTouchEnd",value:function(e){var t=this.props,n=t.pan,r=t.onPanEnd,i=this.state,o=i.panInProgress,a=i.panStart;if(this.lastTouch&&Qt(a)){var s=a.dx,l=a.dy,c=a.panStartXScale,u=a.panOrigin,h=a.chartsToPan,p=[this.lastTouch.pageX-s,this.lastTouch.pageY-l];this.initialPinch=null,o&&n&&r&&r(p,c,u,h,e)}this.mouseInteraction=!0,e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=this.state.panInProgress?"react-stockcharts-grabbing-cursor":"react-stockcharts-crosshair-cursor";return Tu.a.createElement("rect",{ref:this.saveNode,className:r,width:n,height:t,style:{opacity:0},onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onMouseDown:this.handleMouseDown,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove})}}]),t}(_u.Component);Rm.propTypes={mouseMove:_u.PropTypes.bool.isRequired,zoom:_u.PropTypes.bool.isRequired,pan:_u.PropTypes.bool.isRequired,panSpeedMultiplier:_u.PropTypes.number.isRequired,focus:_u.PropTypes.bool.isRequired,width:_u.PropTypes.number.isRequired,height:_u.PropTypes.number.isRequired,chartConfig:_u.PropTypes.array,xScale:_u.PropTypes.func.isRequired,xAccessor:_u.PropTypes.func.isRequired,onMouseMove:_u.PropTypes.func,onMouseEnter:_u.PropTypes.func,onMouseLeave:_u.PropTypes.func,onZoom:_u.PropTypes.func,onPinchZoom:_u.PropTypes.func,onPan:_u.PropTypes.func,onPanEnd:_u.PropTypes.func,onClick:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func,onContextMenu:_u.PropTypes.func,onMouseDown:_u.PropTypes.func,children:_u.PropTypes.node},Rm.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1};var jm=Rm,Lm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fm=Ht("CanvasContainer"),Im=function(e){function t(e){br(this,t);var n=vr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDrawCanvas=n.setDrawCanvas.bind(n),n.drawCanvas={},n}return wr(t,e),Lm(t,[{key:"setDrawCanvas",value:function(e){Qt(e)?this.drawCanvas[e.id]=e.getContext("2d"):this.drawCanvas={}}},{key:"getCanvasContexts",value:function(){if(Qt(this.drawCanvas.axes))return this.drawCanvas}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.type,i=e.zIndex,o=e.ratio;return"svg"===r?null:(Fm("using ratio ",o),Tu.a.createElement("div",{style:{position:"absolute",zIndex:i}},Tu.a.createElement("canvas",{id:"bg",ref:this.setDrawCanvas,width:n*o,height:t*o,style:{position:"absolute",width:n,height:t}}),Tu.a.createElement("canvas",{id:"axes",ref:this.setDrawCanvas,width:n*o,height:t*o,style:{position:"absolute",width:n,height:t}}),Tu.a.createElement("canvas",{id:"hover",ref:this.setDrawCanvas,width:n*o,height:t*o,style:{position:"absolute",width:n,height:t}}),Tu.a.createElement("canvas",{id:"mouseCoord",ref:this.setDrawCanvas,width:n*o,height:t*o,style:{position:"absolute",width:n,height:t}})))}}]),t}(_u.Component);Im.propTypes={width:_u.PropTypes.number.isRequired,height:_u.PropTypes.number.isRequired,type:_u.PropTypes.string.isRequired,zIndex:_u.PropTypes.number,ratio:_u.PropTypes.number.isRequired};var Bm=Im,zm=Ht("evaluator"),Wm=function(){function e(e){zm("evaluation");var r=e.map(o),p=Er(h),f=p(r);if(zm("evaluation"),Qt(a)){var d=a.inputDateAccessor(t).indexAccessor(s).indexMutator(l),m=d(f),y=m.data,g=m.xScale,b=m.xAccessor,v=m.displayXAccessor;return{filterData:kr(t,b,n||Jt(g.invert),c,u),fullData:y,xScale:g,xAccessor:b,displayXAccessor:v}}return{filterData:kr(t,t,n||Jt(i.invert),c,u),fullData:f,xScale:i,xAccessor:t,displayXAccessor:t}}var t,n,r,i,o,a,s,l,c,u,h=[];return e.pointsPerPxThreshold=function(t){return arguments.length?(u=t,e):u},e.clamp=function(t){return arguments.length?(c=t,e):c},e.xAccessor=function(n){return arguments.length?(t=n,e):t},e.map=function(t){return arguments.length?(o=t,e):o},e.indexAccessor=function(t){return arguments.length?(s=t,e):s},e.indexMutator=function(t){return arguments.length?(l=t,e):l},e.scaleProvider=function(t){return arguments.length?(a=t,e):a},e.xScale=function(t){return arguments.length?(i=t,e):i},e.useWholeData=function(t){return arguments.length?(n=t,e):n},e.width=function(t){return arguments.length?(r=t,e):r},e.calculator=function(t){return arguments.length?(h=t,e):h},e},qm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hm=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ym=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xm=(Ht("ChartCanvas"),["seriesName","xScaleProvider","map","indexAccessor","indexMutator"]),Vm=function(e){function t(){Or(this,t);var e=Ar(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDataInfo=e.getDataInfo.bind(e),e.getCanvasContexts=e.getCanvasContexts.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseEnter=e.handleMouseEnter.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.handleZoom=e.handleZoom.bind(e),e.handlePinchZoom=e.handlePinchZoom.bind(e),e.handlePan=e.handlePan.bind(e),e.handlePanEnd=e.handlePanEnd.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleDoubleClick=e.handleDoubleClick.bind(e),e.handleContextMenu=e.handleContextMenu.bind(e),e.xAxisZoom=e.xAxisZoom.bind(e),e.yAxisZoom=e.yAxisZoom.bind(e),e.resetYDomain=e.resetYDomain.bind(e),e.calculateStateForDomain=e.calculateStateForDomain.bind(e),e.generateSubscriptionId=e.generateSubscriptionId.bind(e),e.draw=e.draw.bind(e),e.pinchCoordinates=e.pinchCoordinates.bind(e),e.subscriptions=[],e.subscribe=e.subscribe.bind(e),e.unsubscribe=e.unsubscribe.bind(e),e.interactiveState=[],e.panInProgress=!1,e.state={},e.lastSubscriptionId=0,e}return Mr(t,e),qm(t,[{key:"getDataInfo",value:function(){return Ym({},this.state,{fullData:this.fullData})}},{key:"getCanvasContexts",value:function(){if(this.refs&&this.refs.canvases)return this.refs.canvases.getCanvasContexts()}},{key:"generateSubscriptionId",value:function(){return++this.lastSubscriptionId}},{key:"clearBothCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&rn([e.axes,e.hover,e.mouseCoord],this.props.ratio)}},{key:"clearMouseCanvas",value:function(){var e=this.getCanvasContexts();e&&e.mouseCoord&&rn([e.mouseCoord,e.hover],this.props.ratio)}},{key:"clearMouseCanvasOnly",value:function(){var e=this.getCanvasContexts();e&&e.mouseCoord&&rn([e.mouseCoord],this.props.ratio)}},{key:"clearThreeCanvas",value:function(){var e=this.getCanvasContexts();e&&e.axes&&rn([e.axes,e.hover,e.mouseCoord,e.bg],this.props.ratio)}},{key:"subscribe",value:function(e,t){this.subscriptions=this.subscriptions.concat({id:e,callback:t})}},{key:"unsubscribe",value:function(e){this.subscriptions=this.subscriptions.filter(function(t){return t.id!==e})}},{key:"handleMouseEnter",value:function(e){this.triggerEvent("mouseenter",{show:!0},e)}},{key:"handleMouseMove",value:function(e,t,n){var r=this,i=this.state,o=i.chartConfig,a=i.plotData,s=i.xScale,l=i.xAccessor,c=pn(o,e),u=yn(s,l,e,a);this.triggerEvent("mousemove",{show:!0,mouseXY:e,currentItem:u,currentCharts:c},n),requestAnimationFrame(function(){r.clearMouseCanvas(),r.draw()})}},{key:"handleContextMenu",value:function(e,t){var n=this.state,r=n.xAccessor,i=n.chartConfig,o=n.plotData,a=n.xScale,s=pn(i,e),l=yn(a,r,e,o);this.triggerEvent("contextmenu",{mouseXY:e,currentItem:l,currentCharts:s},t)}},{key:"handleMouseLeave",value:function(e){this.clearMouseCanvasOnly(),this.triggerEvent("mouseleave",{show:!1},e)}},{key:"pinchCoordinates",value:function(e){var t=e.touch1Pos,n=e.touch2Pos;return{topLeft:[Math.min(t[0],n[0]),Math.min(t[1],n[1])],bottomRight:[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}}},{key:"handlePinchZoom",value:function(e,t){var n=this,r=e.xScale,i=this.state,o=i.xScale,a=i.chartConfig,s=i.plotData,l=i.xAccessor,c=this.state.filterData,u=this.fullData,h=this.props.postCalculator,p=this.pinchCoordinates(e),f=p.topLeft,d=p.bottomRight,m=this.pinchCoordinates(t),y=m.topLeft,g=m.bottomRight,b=r.range()[1],v=Math.round(-(d[0]*y[0]-f[0]*g[0])/(f[0]-d[0])),w=Math.round(b+((b-d[0])*(b-y[0])-(b-f[0])*(b-g[0]))/(b-f[0]-(b-d[0]))),x=Math.round(-v*f[0]/(-v+y[0])),k=Math.round(b-(w-b)*(b-f[0])/(w+(b-y[0]))),_=[x,k].map(r.invert),T=c(u,_,l,r,s,o.domain()),S=T.plotData,P=T.domain;S=h(S);var E=o.copy().domain(P),C=mn(a,S,E.domain());requestAnimationFrame(function(){n.clearThreeCanvas(),n.setState({chartConfig:C,xScale:E,plotData:S})})}},{key:"calculateStateForDomain",value:function(e){var t=this.state,n=t.xAccessor,r=t.xScale,i=t.chartConfig,o=t.plotData,a=this.state.filterData,s=this.fullData,l=this.props.postCalculator,c=a(s,e,n,r,o,r.domain()),u=c.plotData,h=c.domain;u=l(u);var p=r.copy().domain(h);return{xScale:p,plotData:u,chartConfig:mn(i,u,p.domain())}}},{key:"handleZoom",value:function(e,t,n){var r=this.state,i=r.xAccessor,o=r.xScale,a=r.plotData,s=this.props.zoomMultiplier,l=yn(o,i,t,a),c=o(i(l)),u=e>0?1*s:1/s,h=o.range().map(function(e){return c+(e-c)*u}).map(o.invert),p=this.calculateStateForDomain(h),f=p.xScale,d=p.plotData,m=p.chartConfig,y=yn(f,i,t,d),g=pn(m,t);this.clearThreeCanvas();var b=this.fullData,v=Md(b),w=Md(f.domain()),x=i(v),k=this.props.onLoadMore;this.triggerEvent("zoom",{show:!0,mouseXY:t,currentCharts:g,currentItem:y},n),this.setState({xScale:f,plotData:d,chartConfig:m},function(){w<x&&k(w,x)})}},{key:"xAxisZoom",value:function(e){var t=this.calculateStateForDomain(e),n=t.xScale,r=t.plotData,i=t.chartConfig;this.clearThreeCanvas();var o=this.state.xAccessor,a=this.fullData,s=Md(a),l=Md(n.domain()),c=o(s),u=this.props.onLoadMore;this.setState({xScale:n,plotData:r,chartConfig:i},function(){l<c&&u(l,c)})}},{key:"yAxisZoom",value:function(e,t){this.clearThreeCanvas();var n=this.state.chartConfig,r=n.map(function(n){if(n.id===e){var r=n.yScale;return Ym({},n,{yScale:r.copy().domain(t),yPanEnabled:!0})}return n});this.setState({chartConfig:r})}},{key:"panHelper",value:function(e,t,n,r){var i=this.state,o=i.xAccessor,a=i.chartConfig,s=this.state.filterData,l=this.fullData,c=this.props.postCalculator,u=e[0]-n[0],h=e[1]-n[1];if(Jt(t.invert))throw new Error("xScale provided does not have an invert() method.You are likely using an ordinal scale. This scale does not support zoom, pan");var p=t.range().map(function(e){return e-u}).map(t.invert),f=s(l,p,o,t,this.hackyWayToStopPanBeyondBounds__plotData,this.hackyWayToStopPanBeyondBounds__domain),d=f.plotData,m=f.domain,y=t.copy().domain(m);d=c(d);var g=yn(y,o,e,d),b=mn(a,d,y.domain(),h,r);return{xScale:y,plotData:d,mouseXY:e,currentCharts:pn(b,e),chartConfig:b,currentItem:g}}},{key:"triggerEvent",value:function(e,t,n){var r=this;this.subscriptions.forEach(function(i){var o=Ym({},r.state,{fullData:r.fullData,subscriptions:r.subscriptions});i.callback(e,t,o,n)})}},{key:"draw",value:function(){this.triggerEvent("draw")}},{key:"handlePan",value:function(e,t,n,r,i){var o=this;this.hackyWayToStopPanBeyondBounds__plotData=this.hackyWayToStopPanBeyondBounds__plotData||this.state.plotData,this.hackyWayToStopPanBeyondBounds__domain=this.hackyWayToStopPanBeyondBounds__domain||this.state.xScale.domain();var a=this.panHelper(e,t,n,r);this.hackyWayToStopPanBeyondBounds__plotData=a.plotData,this.hackyWayToStopPanBeyondBounds__domain=a.xScale.domain(),this.panInProgress=!0,this.triggerEvent("pan",a,i),requestAnimationFrame(function(){o.clearBothCanvas(),o.draw()})}},{key:"handleMouseDown",value:function(e,t,n){this.triggerEvent("mousedown",null,n)}},{key:"handleClick",value:function(e,t){this.triggerEvent("click",{},t)}},{key:"handleDoubleClick",value:function(e,t){this.triggerEvent("dblclick",{},t)}},{key:"handlePanEnd",value:function(e,t,n,r,i){var o=this,a=this.panHelper(e,t,n,r);this.hackyWayToStopPanBeyondBounds__plotData=null,this.hackyWayToStopPanBeyondBounds__domain=null,this.panInProgress=!1;var s=a.xScale,l=a.plotData,c=a.chartConfig;this.triggerEvent("panend",a,i),requestAnimationFrame(function(){var e=o.state.xAccessor,t=o.fullData,n=Md(t),r=Md(s.domain()),i=e(n),a=o.props.onLoadMore;o.clearThreeCanvas(),o.setState({xScale:s,plotData:l,chartConfig:c},function(){r<i&&a(r,i)})})}},{key:"getChildContext",value:function(){var e=Rr(this.props);return{fullData:this.fullData,plotData:this.state.plotData,width:e.width,height:e.height,chartConfig:this.state.chartConfig,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,chartCanvasType:this.props.type,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId}}},{key:"componentWillMount",value:function(){var e=Fr(this.props,!0),t=e.fullData,n=Cr(e,["fullData"]);this.setState(n),this.fullData=t}},{key:"componentWillReceiveProps",value:function(e){var t,n=Dr(this.props,e),r=Wr(this.state.xScale,this.state.xAccessor,this.state.plotData);if(r&&!n&&Bt(this.props.xExtents,e.xExtents)){var i=this.state.xScale.domain(),o=Hm(i,2),a=o[0],s=o[1],l=$t(this.fullData),c=Lr(e),u=c.xAccessor,h=u(l)<=s&&u(l)>=a;t=Ir(c,this.state.xScale,e,h)}else t=Fr(e);var p=t,f=p.fullData,d=Cr(p,["fullData"]),m=this.state.chartConfig;this.panInProgress||(n||d.chartConfig.forEach(function(e){var t=m.filter(function(t){return t.id===e.id});t.length>0&&t[0].yPanEnabled&&(e.yScale.domain(t[0].yScale.domain()),e.yPanEnabled=t[0].yPanEnabled)}),this.clearThreeCanvas(),this.setState(d)),this.fullData=f}},{key:"resetYDomain",value:function(e){var t=this.state.chartConfig,n=!1,r=t.map(function(t){return!Jt(e)&&t.id!==e||Bt(t.yScale.domain(),t.realYDomain)?t:(n=!0,Ym({},t,{yScale:t.yScale.domain(t.realYDomain),yPanEnabled:!1}))});n&&(this.clearThreeCanvas(),this.setState({chartConfig:r}))}},{key:"shouldComponentUpdate",value:function(){return!this.panInProgress}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.height,r=e.width,i=e.margin,o=e.className,a=e.zIndex,s=e.defaultFocus,l=e.ratio,c=e.mouseMoveEvent,u=e.panEvent,h=e.zoomEvent,p=this.props,f=p.useCrossHairStyleCursor,d=p.drawMode,m=p.onSelect,y=this.state,g=y.plotData,b=y.xScale,v=y.xAccessor,w=y.chartConfig,x=Rr(this.props),k=Wr(b,v,g),_=Nr(f&&k);return Tu.a.createElement("div",{style:{position:"relative",width:r,height:n},className:o,onClick:m},Tu.a.createElement(Bm,{ref:"canvases",width:r,height:n,ratio:l,type:t,zIndex:a}),Tu.a.createElement("svg",{className:o,width:r,height:n,style:{position:"absolute",zIndex:a+5}},_,Tu.a.createElement("defs",null,Tu.a.createElement("clipPath",{id:"chart-area-clip"},Tu.a.createElement("rect",{x:"0",y:"0",width:x.width,height:x.height})),w.map(function(e,t){return Tu.a.createElement("clipPath",{key:t,id:"chart-area-clip-"+e.id},Tu.a.createElement("rect",{x:"0",y:"0",width:e.width,height:e.height}))})),Tu.a.createElement("g",{transform:"translate("+(i.left+.5)+", "+(i.top+.5)+")"},Tu.a.createElement(jm,{mouseMove:c&&k,zoom:h&&k,pan:u&&k&&!d,width:x.width,height:x.height,chartConfig:w,xScale:b,xAccessor:v,focus:s,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),Tu.a.createElement("g",{className:"react-stockcharts-avoid-interaction"},this.props.children))))}}]),t}(_u.Component);Vm.propTypes={width:_u.PropTypes.number.isRequired,height:_u.PropTypes.number.isRequired,margin:_u.PropTypes.object,ratio:_u.PropTypes.number.isRequired,type:_u.PropTypes.oneOf(["svg","hybrid"]).isRequired,pointsPerPxThreshold:_u.PropTypes.number,data:_u.PropTypes.array.isRequired,calculator:_u.PropTypes.arrayOf(_u.PropTypes.func).isRequired,xAccessor:_u.PropTypes.func,xExtents:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,className:_u.PropTypes.string,seriesName:_u.PropTypes.string.isRequired,zIndex:_u.PropTypes.number,children:_u.PropTypes.node.isRequired,xScaleProvider:function(e,t){if(Qt(e[t])&&"function"==typeof e[t]&&Qt(e.xScale))return new Error("Do not define both xScaleProvider and xScale choose only one")},xScale:function(e,t){if(Qt(e[t])&&"function"==typeof e[t]&&Qt(e.xScaleProvider))return new Error("Do not define both xScaleProvider and xScale choose only one")},postCalculator:_u.PropTypes.func.isRequired,flipXScale:_u.PropTypes.bool.isRequired,useCrossHairStyleCursor:_u.PropTypes.bool.isRequired,drawMode:_u.PropTypes.bool.isRequired,padding:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.shape({left:_u.PropTypes.number,right:_u.PropTypes.number})]).isRequired,defaultFocus:_u.PropTypes.bool,zoomMultiplier:_u.PropTypes.number.isRequired,onLoadMore:_u.PropTypes.func,displayXAccessor:_u.PropTypes.func,mouseMoveEvent:_u.PropTypes.bool.isRequired,panEvent:_u.PropTypes.bool.isRequired,zoomEvent:_u.PropTypes.bool.isRequired,onSelect:_u.PropTypes.func},Vm.defaultProps={margin:{top:20,right:30,bottom:30,left:80},indexAccessor:function(e){return e.idx},indexMutator:function(e,t){return Ym({},e,{idx:t})},map:yd,type:"hybrid",pointsPerPxThreshold:2,calculator:[],className:"react-stockchart",zIndex:1,xExtents:[Jp,Zp],postCalculator:yd,padding:0,xAccessor:yd,flipXScale:!1,useCrossHairStyleCursor:!0,drawMode:!1,defaultFocus:!0,onLoadMore:gd,onSelect:gd,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,zoomMultiplier:1.1},Vm.childContextTypes={plotData:_u.PropTypes.array,fullData:_u.PropTypes.array,chartConfig:_u.PropTypes.arrayOf(_u.PropTypes.shape({id:_u.PropTypes.number.isRequired,origin:_u.PropTypes.arrayOf(_u.PropTypes.number).isRequired,padding:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.shape({top:_u.PropTypes.number,bottom:_u.PropTypes.number})]),yExtents:_u.PropTypes.arrayOf(_u.PropTypes.func),yExtentsProvider:_u.PropTypes.func,yScale:_u.PropTypes.func.isRequired,mouseCoordinates:_u.PropTypes.shape({at:_u.PropTypes.string,format:_u.PropTypes.func}),width:_u.PropTypes.number.isRequired,height:_u.PropTypes.number.isRequired})).isRequired,xScale:_u.PropTypes.func.isRequired,xAccessor:_u.PropTypes.func.isRequired,displayXAccessor:_u.PropTypes.func.isRequired,width:_u.PropTypes.number.isRequired,height:_u.PropTypes.number.isRequired,chartCanvasType:_u.PropTypes.oneOf(["svg","hybrid"]).isRequired,margin:_u.PropTypes.object.isRequired,ratio:_u.PropTypes.number.isRequired,getCanvasContexts:_u.PropTypes.func,xAxisZoom:_u.PropTypes.func,yAxisZoom:_u.PropTypes.func,subscribe:_u.PropTypes.func,unsubscribe:_u.PropTypes.func,generateSubscriptionId:_u.PropTypes.func},Vm.ohlcv=function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}};var Gm=Vm,Um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Km=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Zm=function(e){function t(e,n){qr(this,t);var r=Hr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.drawOnCanvas=r.drawOnCanvas.bind(r),r.getMoreProps=r.getMoreProps.bind(r),r.listener=r.listener.bind(r),r.draw=r.draw.bind(r),r.updateMoreProps=r.updateMoreProps.bind(r),r.evaluateType=r.evaluateType.bind(r),r.isHover=r.isHover.bind(r),r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r.getRef=r.getRef.bind(r);var i=n.generateSubscriptionId;return r.suscriberId=i(),r.moreProps={},r.prevMouseXY=null,r.drawOnNextTick=!1,r.state={updateCount:0},r}return Yr(t,e),Km(t,[{key:"getRef",value:function(e){return this.refs[e]}},{key:"updateMoreProps",value:function(e){this.moreProps=Object.assign(this.moreProps,e)}},{key:"listener",value:function(e,t,n,r){Qt(t)&&this.updateMoreProps(t),this.evaluateType(e,r)}},{key:"evaluateType",value:function(e,t){switch(this.props.debug(e),e){case"zoom":case"mouseenter":break;case"contextmenu":this.moreProps.hovering&&this.props.onContextMenu&&this.props.onContextMenu(t);break;case"mousedown":this.moreProps.hovering&&this.props.onMouseDown&&this.props.onMouseDown(t);break;case"click":this.moreProps.hovering&&this.props.onClick&&this.props.onClick(t);break;case"mousemove":this.moreProps.hovering=this.isHover(t),this.drawOnNextTick=this.props.drawOnMouseMove||Qt(this.props.isHover),this.props.onMouseMove&&this.drawOnNextTick&&this.props.onMouseMove(t),this.prevMouseXY=this.moreProps.mouseXY;break;case"dblclick":this.moreProps.hovering&&this.props.onDoubleClick&&this.props.onDoubleClick(t);break;case"mouseleave":this.drawOnNextTick=this.drawOnNextTick||this.props.drawOnMouseExitOfCanvas;break;case"pan":this.moreProps.hovering=!1,this.drawOnNextTick=this.props.drawOnPan;break;case"draw":this.drawOnNextTick&&this.draw()}}},{key:"isHover",value:function(e){return!!Qt(this.props.isHover)&&this.props.isHover(this.getMoreProps(),e)}},{key:"draw",value:function(){var e=this.context.chartCanvasType;if(Jt(this.props.canvasDraw)||"svg"===e){var t=this.state.updateCount;this.setState({updateCount:t+1})}else this.drawOnCanvas()}},{key:"componentWillMount",value:function(){(0,this.context.subscribe)(this.suscriberId,this.listener),this.componentWillReceiveProps(this.props,this.context)}},{key:"componentWillUnmount",value:function(){(0,this.context.unsubscribe)(this.suscriberId)}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.context.chartCanvasType,t=this.props.canvasDraw;this.props.debug("updated"),Qt(t)&&"svg"!==e&&this.drawOnCanvas()}},{key:"componentWillReceiveProps",value:function(e,t){var n=t.xScale,r=t.plotData,i=t.chartConfig;this.props.debug(t),this.moreProps=Um({},this.moreProps,{xScale:n,plotData:r,chartConfig:i})}},{key:"getMoreProps",value:function(){var e=this.context,t=e.xScale,n=e.plotData,r=e.chartConfig,i=e.morePropsDecorator,o=e.xAccessor,a=e.displayXAccessor,s=e.width,l=e.height,c=this.context,u=c.chartId,h=c.fullData,p=Um({xScale:t,plotData:n,chartConfig:r,xAccessor:o,displayXAccessor:a,width:s,height:l,chartId:u,fullData:h},this.moreProps);return(i||yd)(p)}},{key:"preCanvasDraw",value:function(){}},{key:"postCanvasDraw",value:function(){}},{key:"drawOnCanvas",value:function(){var e=this.props,t=e.canvasDraw,n=e.canvasToDraw,r=this.context.getCanvasContexts,i=this.getMoreProps(),o={hoverEnabled:Qt(this.props.isHover)},a=n(r(),o);this.preCanvasDraw(a,i),t(a,i),this.postCanvasDraw(a,i)}},{key:"render",value:function(){var e=this.context,t=e.chartCanvasType,n=e.chartId,r=this.props,i=r.canvasDraw,o=r.clip,a=r.svgDraw;if(Qt(i)&&"svg"!==t)return null;var s=Qt(n)?"-"+n:"",l=o?{clipPath:"url(#chart-area-clip"+s+")"}:null;return Tu.a.createElement("g",{style:l},a(this.getMoreProps()))}}]),t}(_u.Component);Zm.propTypes={svgDraw:_u.PropTypes.func.isRequired,canvasDraw:_u.PropTypes.func,drawOnMouseMove:_u.PropTypes.bool.isRequired,drawOnPan:_u.PropTypes.bool.isRequired,clip:_u.PropTypes.bool.isRequired,edgeClip:_u.PropTypes.bool.isRequired,drawOnMouseExitOfCanvas:_u.PropTypes.bool.isRequired,canvasToDraw:_u.PropTypes.func.isRequired,isHover:_u.PropTypes.func,onClick:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func,onContextMenu:_u.PropTypes.func,onMouseMove:_u.PropTypes.func,onMouseDown:_u.PropTypes.func,debug:_u.PropTypes.func},Zm.defaultProps={svgDraw:Xt(null),drawOnMouseMove:!1,drawOnPan:!1,drawOnHover:!1,drawOnMouseExitOfCanvas:!1,canvasToDraw:function(e){return e.mouseCoord},clip:!0,edgeClip:!1,onMouseMove:gd,onMouseDown:gd,debug:gd},Zm.childContextTypes={morePropsDecorator:_u.PropTypes.func},Zm.contextTypes={width:_u.PropTypes.number.isRequired,height:_u.PropTypes.number.isRequired,margin:_u.PropTypes.object.isRequired,chartId:_u.PropTypes.number,getCanvasContexts:_u.PropTypes.func,chartCanvasType:_u.PropTypes.string,xScale:_u.PropTypes.func.isRequired,xAccessor:_u.PropTypes.func.isRequired,displayXAccessor:_u.PropTypes.func.isRequired,plotData:_u.PropTypes.array.isRequired,fullData:_u.PropTypes.array.isRequired,chartConfig:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.object]).isRequired,morePropsDecorator:_u.PropTypes.func,generateSubscriptionId:_u.PropTypes.func,subscribe:_u.PropTypes.func.isRequired,unsubscribe:_u.PropTypes.func.isRequired};var $m=Zm,Qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jm=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ey=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ty=function(e){function t(e,n){Xr(this,t);var r=Vr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preCanvasDraw=r.preCanvasDraw.bind(r),r.postCanvasDraw=r.postCanvasDraw.bind(r),r}return Gr(t,e),Jm(t,[{key:"preCanvasDraw",value:function(e,t){e.save();var n=this.context,r=n.margin,i=n.ratio,o=t.chartConfig,a=.5*i+o.origin[0]+r.left,s=.5*i+o.origin[1]+r.top,l=t.chartConfig,c=l.width,u=l.height,h=this.props,p=h.clip,f=h.edgeClip;e.setTransform(1,0,0,1,0,0),e.scale(i,i),f&&(e.beginPath(),e.rect(-1,s-10,c+r.left+r.right+1,u+20),e.clip()),e.translate(a,s),p&&(e.beginPath(),e.rect(-1,-1,c+1,u+1),e.clip())}},{key:"postCanvasDraw",value:function(e){e.restore()}},{key:"updateMoreProps",value:function(e){ey(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateMoreProps",this).call(this,e);var n=e.chartConfig;if(n){var r=this.context.chartId,i=n.filter(function(e){return e.id===r})[0];this.moreProps.chartConfig=i}}}]),t}($m);ty.propTypes=$m.propTypes,ty.defaultProps=$m.defaultProps,ty.contextTypes=Qm({},$m.contextTypes,{canvasOriginX:_u.PropTypes.number,canvasOriginY:_u.PropTypes.number,chartId:_u.PropTypes.number.isRequired,chartConfig:_u.PropTypes.object.isRequired,ratio:_u.PropTypes.number.isRequired});var ny=ty,ry=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),iy=function(e){function t(){return Kr(this,t),Zr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $r(t,e),ry(t,[{key:"componentDidMount",value:function(){if("svg"!==this.context.chartCanvasType&&Qt(this.context.getCanvasContexts)){var e=this.context.getCanvasContexts();e&&t.drawOnCanvas(e.bg,this.props,this.context,this.props.children)}}},{key:"componentDidUpdate",value:function(){this.componentDidMount()}},{key:"render",value:function(){if("svg"!==this.context.chartCanvasType)return null;var e=this.props,t=e.x,n=e.y,r=e.fill,i=e.opacity,o=e.stroke,a=e.strokeOpacity,s=e.fontFamily,l=e.fontSize,c=e.textAnchor,u={x:t,y:n,fill:r,opacity:i,stroke:o,strokeOpacity:a,fontFamily:s,fontSize:l,textAnchor:c};return Tu.a.createElement("text",u,"this.props.children(interval)")}}]),t}(Td);iy.drawOnCanvas=function(e,t,n,r){var i=n.interval;e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.save(),e.setTransform(1,0,0,1,0,0),e.translate(.5,.5);var o=t.x,a=t.y,s=t.fill,l=t.opacity,c=t.stroke,u=t.strokeOpacity,h=t.fontFamily,p=t.fontSize,f=t.textAnchor,d=r(i);e.strokeStyle=on(c,u),e.font=p+"px "+h,e.fillStyle=on(s,l),e.textAlign="middle"===f?"center":f,"none"!==c&&e.strokeText(d,o,a),e.fillText(d,o,a),e.restore()},iy.propTypes={x:_u.PropTypes.number.isRequired,y:_u.PropTypes.number.isRequired,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number.isRequired,fill:_u.PropTypes.string,stroke:_u.PropTypes.string,opacity:_u.PropTypes.number,strokeOpacity:_u.PropTypes.number,textAnchor:_u.PropTypes.string,children:_u.PropTypes.func},iy.defaultProps={opacity:.3,fill:"#9E7523",stroke:"#9E7523",strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,textAnchor:"middle"},iy.contextTypes={interval:_u.PropTypes.string.isRequired,getCanvasContexts:_u.PropTypes.func,chartCanvasType:_u.PropTypes.string};var oy=Math.PI,ay=2*oy,sy=ay-1e-6;Qr.prototype=Jr.prototype={constructor:Qr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(u*s-l*c)>1e-6&&i){var p=n-o,f=r-a,d=s*s+l*l,m=p*p+f*f,y=Math.sqrt(d),g=Math.sqrt(h),b=i*Math.tan((oy-Math.acos((d+h-m)/(2*y*g)))/2),v=b/g,w=b/y;Math.abs(v-1)>1e-6&&(this._+="L"+(e+v*c)+","+(t+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*p>c*f)+","+(this._x1=e+w*s)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,n=+n;var a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%ay+ay),h>sy?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=oy)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ly=Jr,cy=function(e){return function(){return e}},uy=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),hy=Math.PI,py=2*hy;ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var fy=function(e){return new ei(e)},dy=function(){function e(e){var s,l,c,u=e.length,h=!1;for(null==i&&(a=o(c=ly())),s=0;s<=u;++s)!(s<u&&r(l=e[s],s,e))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(l,s,e),+n(l,s,e));if(c)return a=null,c+""||null}var t=ti,n=ni,r=cy(!0),i=null,o=fy,a=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:cy(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:cy(+t),e):n},e.defined=function(t){return arguments.length?(r="function"==typeof t?t:cy(!!t),e):r},e.curve=function(t){return arguments.length?(o=t,null!=i&&(a=o(i)),e):o},e.context=function(t){return arguments.length?(null==t?i=a=null:a=o(i=t),e):i},e},my=function(){function e(e){var t,u,h,p,f,d=e.length,m=!1,y=new Array(d),g=new Array(d);for(null==s&&(c=l(f=ly())),t=0;t<=d;++t){if(!(t<d&&a(p=e[t],t,e))===m)if(m=!m)u=t,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=t-1;h>=u;--h)c.point(y[h],g[h]);c.lineEnd(),c.areaEnd()}m&&(y[t]=+n(p,t,e),g[t]=+i(p,t,e),c.point(r?+r(p,t,e):y[t],o?+o(p,t,e):g[t]))}if(f)return c=null,f+""||null}function t(){return dy().defined(a).curve(l).context(s)}var n=ti,r=null,i=cy(0),o=ni,a=cy(!0),s=null,l=fy,c=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:cy(+t),r=null,e):n},e.x0=function(t){return arguments.length?(n="function"==typeof t?t:cy(+t),e):n},e.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:cy(+t),e):r},e.y=function(t){return arguments.length?(i="function"==typeof t?t:cy(+t),o=null,e):i},e.y0=function(t){return arguments.length?(i="function"==typeof t?t:cy(+t),e):i},e.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:cy(+t),e):o},e.lineX0=e.lineY0=function(){return t().x(n).y(i)},e.lineY1=function(){return t().x(n).y(o)},e.lineX1=function(){return t().x(r).y(i)},e.defined=function(t){return arguments.length?(a="function"==typeof t?t:cy(!!t),e):a},e.curve=function(t){return arguments.length?(l=t,null!=s&&(c=l(s)),e):l},e.context=function(t){return arguments.length?(null==t?s=c=null:c=l(s=t),e):s},e};ii(fy);ri.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var yy=Array.prototype.slice,gy=(Math.sqrt(1/3),Math.sin(hy/10)/Math.sin(7*hy/10)),by=(Math.sin(py/10),Math.cos(py/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};si.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:oi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};li.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:oi(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};ci.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*a),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};!function e(t){function n(e){return 1===t?new ai(e):new ci(e,t)}return n.beta=function(t){return e(+t)},n}(.85);hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ui(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ui(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function e(t){function n(e){return new hi(e,t)}return n.tension=function(t){return e(+t)},n}(0);pi.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ui(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function e(t){function n(e){return new pi(e,t)}return n.tension=function(t){return e(+t)},n}(0);fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ui(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function e(t){function n(e){return new fi(e,t)}return n.tension=function(t){return e(+t)},n}(0);mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:di(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function e(t){function n(e){return t?new mi(e,t):new hi(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);yi.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:di(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function e(t){function n(e){return t?new yi(e,t):new pi(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:di(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};!function e(t){function n(e){return t?new gi(e,t):new fi(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);bi.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};_i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ki(this,this._t0,xi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ki(this,xi(this,n=wi(this,e,t)),n);break;default:ki(this,this._t0,n=wi(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ti.prototype=Object.create(_i.prototype)).point=function(e,t){_i.prototype.point.call(this,t,e)},Si.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Pi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Ei(e),i=Ei(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};Ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var vy=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},wy=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n},xy=function(){function e(e){var o,a,s=t.apply(this,arguments),l=e.length,c=s.length,u=new Array(c);for(o=0;o<c;++o){for(var h,p=s[o],f=u[o]=new Array(l),d=0;d<l;++d)f[d]=h=[0,+i(e[d],p,d,e)],h.data=e[d];f.key=p}for(o=0,a=n(u);o<c;++o)u[a[o]].index=o;return r(u,a),u}var t=cy([]),n=wy,r=vy,i=Ai;return e.keys=function(n){return arguments.length?(t="function"==typeof n?n:cy(yy.call(n)),e):t},e.value=function(t){return arguments.length?(i="function"==typeof t?t:cy(+t),e):i},e.order=function(t){return arguments.length?(n=null==t?wy:"function"==typeof t?t:cy(yy.call(t)),e):n},e.offset=function(t){return arguments.length?(r=null==t?vy:t,e):r},e},ky=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ty=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sy=function(e){function t(e){Mi(this,t);var n=Di(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return Ni(t,e),Ty(t,[{key:"isHover",value:function(e){var t=this.props,n=t.highlightOnHover,r=t.yAccessor,i=t.hoverTolerance;if(!n)return!1;var o=e.mouseXY,a=e.currentItem,s=e.xScale,l=e.plotData,c=e.chartConfig,u=c.yScale,h=c.origin,p=e.xAccessor,f=_y(o,2),d=f[0],m=f[1],y=i,g=Ut(l,s.invert(d),p),b=g.left,v=g.right;if(b===v){var w=u(r(a))+h[1],x=s(p(a))+h[0];return Math.pow(d-x,2)+Math.pow(m-w,2)<Math.pow(y,2)}var k=l[b],_=l[v],T=s(p(k))+h[0],S=u(r(k))+h[1],P=s(p(_))+h[0],E=u(r(_))+h[1],C=(E-S)/(P-T),O=-1*C*T+S,A=Math.round(C*d+O);return m>=A-y&&m<=A+y}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,i=n.stroke,o=n.strokeWidth,a=n.hoverStrokeWidth,s=n.defined,l=n.connectNulls,c=n.strokeDasharray,u=t.xAccessor,h=t.xScale,p=t.chartConfig.yScale,f=t.plotData,d=t.hovering;e.lineWidth=d?a:o,e.strokeStyle=i,e.setLineDash(Pd(c).split(","));for(var m=[],y=0;y<f.length;y++){var g=f[y];if(s(r(g),y)){var b=[h(u(g)),p(r(g))],v=b[0],w=b[1];m.push([v,w])}else m.length&&(Ri(m,e),m=l?m:[])}m.length&&Ri(m,e)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.yAccessor,r=t.stroke,i=t.strokeWidth,o=t.hoverStrokeWidth,a=t.defined,s=t.strokeDasharray,l=e.xAccessor,c=e.xScale,u=e.chartConfig.yScale,h=e.plotData,p=e.hovering,f=dy().defined(function(e){return a(n(e))}).x(function(e){return c(l(e))}).y(function(e){return u(n(e))}),d=f(h),m=this.props,y=m.fill,g=m.className;return Tu.a.createElement("path",{className:g+" "+(r?"":" line-stroke"),d:d,stroke:r,strokeWidth:p?o:i,strokeDasharray:Pd(s),fill:y})}},{key:"render",value:function(){var e=this.props.highlightOnHover,t=e?{isHover:this.isHover}:{};return Tu.a.createElement(ny,ky({canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas},t,{onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,drawOnPan:!0}))}}]),t}(_u.Component);Sy.propTypes={className:_u.PropTypes.string,strokeWidth:_u.PropTypes.number,stroke:_u.PropTypes.string,hoverStrokeWidth:_u.PropTypes.number,fill:_u.PropTypes.string,defined:_u.PropTypes.func,hoverTolerance:_u.PropTypes.number,strokeDasharray:_u.PropTypes.oneOf(Sd),highlightOnHover:_u.PropTypes.bool,onClick:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func,onContextMenu:_u.PropTypes.func,yAccessor:_u.PropTypes.func,connectNulls:_u.PropTypes.bool},Sy.defaultProps={className:"line ",strokeWidth:1,hoverStrokeWidth:4,fill:"none",stroke:"#4682B4",strokeDasharray:"Solid",defined:function(e){return!isNaN(e)},hoverTolerance:6,highlightOnHover:!1,connectNulls:!1,onClick:function(e){console.log("Click",e)},onDoubleClick:function(e){console.log("Double Click",e)},onContextMenu:function(e){console.log("Right Click",e)}};var Py=Sy,Ey=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Cy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Oy=function(e){function t(e){ji(this,t);var n=Li(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Fi(t,e),Cy(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,i=n.defined,o=n.base,a=this.props,s=a.fill,l=a.stroke,c=a.opacity,u=t.xScale,h=t.chartConfig.yScale,p=t.plotData,f=t.xAccessor,d=Xt(o);e.fillStyle=on(s,c),e.strokeStyle=l;for(var m=[],y=[],g=0;g<p.length;g++){var b=p[g];if(i(r(b),g)){var v=[u(f(b)),h(r(b)),d(h,b)],w=v[0],x=v[1],k=v[2];m.push([w,k]),y.push([w,x])}else m.length&&(Ii(m,y,e),m=[],y=[])}m.length&&Ii(m,y,e)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.yAccessor,r=t.defined,i=t.base,o=this.props,a=o.stroke,s=o.fill,l=o.className,c=o.opacity,u=e.xScale,h=e.chartConfig.yScale,p=e.plotData,f=e.xAccessor,d=Xt(i),m=my().defined(function(e){return r(n(e))}).x(function(e){return u(f(e))}).y0(d.bind(null,h)).y1(function(e){return h(n(e))}),y=m(p);return l=l.concat(Qt(a)?"":" line-stroke"),Tu.a.createElement("path",{d:y,stroke:a,fill:s,className:l,opacity:c})}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}}]),t}(_u.Component);Oy.propTypes={className:_u.PropTypes.string,yAccessor:_u.PropTypes.func.isRequired,stroke:_u.PropTypes.string,fill:_u.PropTypes.string,opacity:_u.PropTypes.number,defined:_u.PropTypes.func,base:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.number])},Oy.defaultProps={className:"line ",fill:"none",opacity:1,defined:function(e){return!isNaN(e)},base:function(e){return Md(e.range())}};var Ay=Oy;Bi.propTypes={stroke:_u.PropTypes.string,strokeWidth:_u.PropTypes.number,fill:_u.PropTypes.string.isRequired,opacity:_u.PropTypes.number.isRequired,className:_u.PropTypes.string,yAccessor:_u.PropTypes.func.isRequired,baseAt:_u.PropTypes.func},Bi.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-area"};var My=Bi,Dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ry=function(e){function t(e){zi(this,t);var n=Wi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return qi(t,e),Ny(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=Hi(this.props,t,n);Yi(e,this.props,r)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.markerProps,i=e.xAccessor,o=Hi(this.props,e,i);return Tu.a.createElement("g",{className:n},o.map(function(e,t){var n=e.marker;return Tu.a.createElement(n,Dy({key:t},r,{point:e}))}))}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}}]),t}(_u.Component);Ry.propTypes={className:_u.PropTypes.string,yAccessor:_u.PropTypes.func.isRequired,marker:_u.PropTypes.func,markerProvider:_u.PropTypes.func,markerProps:_u.PropTypes.object},Ry.defaultProps={className:"react-stockcharts-scatter"};var jy=Ry;Xi.propTypes={stroke:_u.PropTypes.string,fill:_u.PropTypes.string.isRequired,opacity:_u.PropTypes.number.isRequired,point:_u.PropTypes.shape({x:_u.PropTypes.number.isRequired,y:_u.PropTypes.number.isRequired,datum:_u.PropTypes.object.isRequired}).isRequired,className:_u.PropTypes.string,strokeWidth:_u.PropTypes.number,r:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired},Xi.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-circle"},Xi.drawOnCanvas=function(e,t,n){var r=e.stroke,i=e.fill,o=e.opacity,a=e.strokeWidth;n.strokeStyle=r,n.lineWidth=a,"none"!==i&&(n.fillStyle=on(i,o)),Xi.drawOnCanvasWithNoStateChange(e,t,n)},Xi.drawOnCanvasWithNoStateChange=function(e,t,n){var r=e.r,i=Xt(r)(t.datum);n.moveTo(t.x,t.y),n.beginPath(),n.arc(t.x,t.y,i,0,2*Math.PI,!1),n.stroke(),n.fill()};var Ly=Xi;Vi.propTypes={stroke:_u.PropTypes.string,fill:_u.PropTypes.string.isRequired,opacity:_u.PropTypes.number.isRequired,point:_u.PropTypes.shape({x:_u.PropTypes.number.isRequired,y:_u.PropTypes.number.isRequired,datum:_u.PropTypes.object.isRequired}).isRequired,className:_u.PropTypes.string,strokeWidth:_u.PropTypes.number,width:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired},Vi.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-triangle"},Vi.drawOnCanvas=function(e,t,n){var r=e.stroke,i=e.fill,o=e.opacity,a=e.strokeWidth;n.strokeStyle=r,n.lineWidth=a,"none"!==i&&(n.fillStyle=on(i,o)),Vi.drawOnCanvasWithNoStateChange(e,t,n)},Vi.drawOnCanvasWithNoStateChange=function(e,t,n){var r=e.width,i=Xt(r)(t.datum),o=t.x,a=t.y,s=Gi(i),l=s.innerOpposite,c=s.innerHypotenuse;n.beginPath(),n.moveTo(o,a-c),n.lineTo(o+i/2,a+l),n.lineTo(o-i/2,a+l),n.stroke(),n.fill()};var Fy=Vi;Ui.propTypes={stroke:_u.PropTypes.string,fill:_u.PropTypes.string.isRequired,opacity:_u.PropTypes.number.isRequired,point:_u.PropTypes.shape({x:_u.PropTypes.number.isRequired,y:_u.PropTypes.number.isRequired,datum:_u.PropTypes.object.isRequired}).isRequired,className:_u.PropTypes.string,strokeWidth:_u.PropTypes.number,width:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired},Ui.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-stockcharts-marker-rect"},Ui.drawOnCanvas=function(e,t,n){var r=e.stroke,i=e.fill,o=e.opacity,a=e.strokeWidth;n.strokeStyle=r,n.lineWidth=a,"none"!==i&&(n.fillStyle=on(i,o)),Ui.drawOnCanvasWithNoStateChange(e,t,n)},Ui.drawOnCanvasWithNoStateChange=function(e,t,n){var r=e.width,i=Xt(r)(t.datum),o=t.x-i/2,a=t.y-i/2;n.beginPath(),n.rect(o,a,i,i),n.stroke(),n.fill()};var Iy=Ui,By=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zy=function(e){function t(e){Ki(this,t);var n=Zi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return $i(t,e),By(t,[{key:"drawOnCanvas",value:function(e,t){eo(e,this.props,t)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.wickClassName,i=t.candleClassName;return Tu.a.createElement("g",{className:n},Tu.a.createElement("g",{className:r,key:"wicks"},Qi(this.props,e)),Tu.a.createElement("g",{className:i,key:"candles"},Ji(this.props,e)))}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}}]),t}(_u.Component);zy.propTypes={className:_u.PropTypes.string,wickClassName:_u.PropTypes.string,candleClassName:_u.PropTypes.string,widthRatio:_u.PropTypes.number.isRequired,classNames:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,fill:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,stroke:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,wickStroke:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,yAccessor:_u.PropTypes.func.isRequired,clip:_u.PropTypes.bool.isRequired},zy.defaultProps={className:"react-stockcharts-candlestick",wickClassName:"react-stockcharts-candlestick-wick",candleClassName:"react-stockcharts-candlestick-candle",yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return e.close>e.open?"up":"down"},widthRatio:.8,wickStroke:"#000000",fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"},stroke:"#000000",candleStrokeWidth:.5,opacity:.5,clip:!0};var Wy=zy,qy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Hy=function(e){function t(e){ro(this,t);var n=io(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return oo(t,e),qy(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props.yAccessor,r=t.xAccessor,i=t.xScale,o=t.chartConfig.yScale,a=t.plotData;ao(e,so(this.props,r,n,i,o,a))}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.yAccessor,i=e.xAccessor,o=e.xScale,a=e.chartConfig.yScale,s=e.plotData,l=so(this.props,i,r,o,a,s),c=l.strokeWidth,u=l.bars;return Tu.a.createElement("g",{className:n},u.map(function(e,t){return Tu.a.createElement("path",{key:t,className:e.className,stroke:e.stroke,strokeWidth:c,d:"M"+e.openX1+" "+e.openY+" L"+e.openX2+" "+e.openY+" M"+e.x+" "+e.y1+" L"+e.x+" "+e.y2+" M"+e.closeX1+" "+e.closeY+" L"+e.closeX2+" "+e.closeY})}))}}]),t}(_u.Component);Hy.propTypes={className:_u.PropTypes.string,classNames:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,stroke:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,yAccessor:_u.PropTypes.func.isRequired,clip:_u.PropTypes.bool.isRequired},Hy.defaultProps={className:"react-stockcharts-ohlc",yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},classNames:function(e){return Qt(e.absoluteChange)?e.absoluteChange>0?"up":"down":"firstbar"},stroke:function(e){return Qt(e.absoluteChange)?e.absoluteChange>0?"#6BA583":"#FF0000":"#000000"},clip:!0};var Yy=Hy,Xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Gy=function(e){function t(e){lo(this,t);var n=co(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return uo(t,e),Vy(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;po(e,this.props,t,n,xy)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return Tu.a.createElement("g",null,mo(this.props,e,t,xy))}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}}]),t}(_u.Component);Gy.propTypes={baseAt:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired,direction:_u.PropTypes.oneOf(["up","down"]).isRequired,stroke:_u.PropTypes.bool.isRequired,widthRatio:_u.PropTypes.number.isRequired,opacity:_u.PropTypes.number.isRequired,fill:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,className:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,clip:_u.PropTypes.bool.isRequired},Gy.defaultProps={baseAt:function(e,t){return Md(t.range())},direction:"up",className:"bar",stroke:!0,fill:"#4682B4",opacity:.5,widthRatio:.8,clip:!0};var Uy=function(e){return e.map(function(e){return Xy({},e,{x:e.y,y:e.x,height:e.width,width:e.height})})},Ky=Gy,Zy=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$y=function(e){function t(e){wo(this,t);var n=xo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return ko(t,e),Zy(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;po(e,this.props,t,n,ho)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return Tu.a.createElement("g",null,mo(this.props,e,t,ho))}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}}]),t}(_u.Component);$y.propTypes={baseAt:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired,stroke:_u.PropTypes.bool.isRequired,widthRatio:_u.PropTypes.number.isRequired,yAccessor:_u.PropTypes.func.isRequired,opacity:_u.PropTypes.number.isRequired,fill:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,className:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,clip:_u.PropTypes.bool.isRequired},$y.defaultProps=Ky.defaultProps;var Qy=$y,Jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tg=function(e){function t(e){_o(this,t);var n=To(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return So(t,e),eg(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;po(e,this.props,t,n,ho,Po)}},{key:"renderSVG",value:function(e){var t=e.xAccessor;return Tu.a.createElement("g",{className:"react-stockcharts-grouped-bar-series"},mo(this.props,e,t,ho,Po))}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}}]),t}(_u.Component);tg.propTypes={baseAt:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired,direction:_u.PropTypes.oneOf(["up","down"]).isRequired,stroke:_u.PropTypes.bool.isRequired,widthRatio:_u.PropTypes.number.isRequired,opacity:_u.PropTypes.number.isRequired,fill:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,className:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,yAccessor:_u.PropTypes.arrayOf(_u.PropTypes.func)},tg.defaultProps=Jy({},Ky.defaultProps,{widthRatio:.8,spaceBetweenBar:5});var ng=tg,rg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ig=function(e){function t(e){Eo(this,t);var n=Co(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Oo(t,e),rg(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor;Ao(e,this.props,t,n)}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,i=e.plotData,o=this.props,a=o.className,s=o.stroke,l=o.fill,c=o.strokeWidth,u=Mo(i,t).map(function(e,t){var i=dy().x(function(e){return n(e[0])}).y(function(e){return r(e[1])}).curve(Oi);return i(e.plot),Tu.a.createElement("path",{key:t,d:i(e.plot),className:e.type,stroke:s[e.type],fill:l[e.type],strokeWidth:c})});return Tu.a.createElement("g",{className:a},u)}}]),t}(_u.Component);ig.propTypes={className:_u.PropTypes.string,stroke:_u.PropTypes.object,fill:_u.PropTypes.object,strokeWidth:_u.PropTypes.number.isRequired},ig.defaultProps={className:"react-stockcharts-kagi",strokeWidth:2,stroke:{yang:"#6BA583",yin:"#E60000"},fill:{yang:"none",yin:"none"},currentValueStroke:"#000000"};var og=ig,ag=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),sg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lg=function(e){function t(e){Do(this,t);var n=No(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Ro(t,e),sg(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.xScale,i=t.chartConfig.yScale,o=t.plotData,a=Lo(r,n,i,o);jo(e,this.props,a)}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,i=e.plotData,o=this.props,a=o.stroke,s=o.fill,l=o.strokeWidth,c=o.className,u=Lo(n,t,r,i);return Tu.a.createElement("g",{className:c},u.map(function(e,t){return Tu.a.createElement("g",{key:t,className:e.className,transform:"translate("+e.offset[0]+", "+e.offset[1]+")"},e.boxes.map(function(n,r){return e.direction>0?Tu.a.createElement("g",{key:t+"-"+r},Tu.a.createElement("line",{className:"up",strokeWidth:l,stroke:a.up,fill:s.up,x1:0,y1:n.open,x2:n.columnWidth,y2:n.close}),Tu.a.createElement("line",{className:"up",strokeWidth:l,stroke:a.up,fill:s.up,x1:0,y1:n.close,x2:n.columnWidth,y2:n.open})):Tu.a.createElement("ellipse",{key:t+"-"+r,className:"down",strokeWidth:l,stroke:a.down,fill:s.down,cx:n.columnWidth/2,cy:(n.open+n.close)/2,rx:n.columnWidth/2,ry:n.boxHeight/2})}))}))}}]),t}(_u.Component);lg.propTypes={className:_u.PropTypes.string,strokeWidth:_u.PropTypes.number.isRequired,stroke:_u.PropTypes.object.isRequired,fill:_u.PropTypes.object.isRequired,clip:_u.PropTypes.bool.isRequired},lg.defaultProps={className:"react-stockcharts-point-and-figure",strokeWidth:1,stroke:{up:"#6BA583",down:"#FF0000"},fill:{up:"none",down:"none"},clip:!0};var cg=lg,ug=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hg=function(e){function t(e){Fo(this,t);var n=Io(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Bo(t,e),ug(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.xScale,i=t.chartConfig.yScale,o=t.plotData,a=this.props.yAccessor;zo(e,Wo(this.props,o,r,n,i,a))}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,i=e.plotData,o=this.props.yAccessor,a=Wo(this.props,i,n,t,r,o).map(function(e,t){return Tu.a.createElement("rect",{key:t,className:e.className,fill:e.fill,x:e.x,y:e.y,width:e.width,height:e.height})});return Tu.a.createElement("g",null,Tu.a.createElement("g",{className:"candle"},a))}}]),t}(_u.Component);hg.propTypes={classNames:_u.PropTypes.shape({up:_u.PropTypes.string,down:_u.PropTypes.string}),stroke:_u.PropTypes.shape({up:_u.PropTypes.string,down:_u.PropTypes.string}),fill:_u.PropTypes.shape({up:_u.PropTypes.string,down:_u.PropTypes.string,partial:_u.PropTypes.string}),yAccessor:_u.PropTypes.func.isRequired,clip:_u.PropTypes.bool.isRequired},hg.defaultProps={classNames:{up:"up",down:"down"},stroke:{up:"none",down:"none"},fill:{up:"#6BA583",down:"#E60000",partial:"#4682B4"},yAccessor:function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},clip:!0};var pg=hg,fg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),mg=function(e){function t(e){qo(this,t);var n=Ho(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Yo(t,e),dg(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.type,i=n.stroke,o=n.strokeWidth,a=n.opacity,s=n.strokeDasharray,l=this.props,c=l.yValue,u=l.xValue,h=t.xScale,p=t.chartConfig,f=p.yScale,d=p.width,m=p.height;e.beginPath(),e.strokeStyle=on(i,a),e.lineWidth=o;var y=Xo(r,h,f,u,c,d,m),g=y.x1,b=y.y1,v=y.x2,w=y.y2;e.setLineDash(Pd(s).split(",")),e.moveTo(g,b),e.lineTo(v,w),e.stroke()}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=e.width,n=e.height,r=e.xScale,i=e.chartConfig.yScale,o=this.props.className,a=this.props,s=a.type,l=a.stroke,c=a.strokeWidth,u=a.opacity,h=a.strokeDasharray,p=this.props,f=p.yValue,d=p.xValue,m=Xo(s,r,i,d,f,t,n);return Tu.a.createElement("line",fg({className:o,strokeDasharray:Pd(h),stroke:l,strokeWidth:c,opacity:u},m))}}]),t}(_u.Component);mg.propTypes={className:_u.PropTypes.string,type:_u.PropTypes.oneOf(["vertical","horizontal"]),stroke:_u.PropTypes.string,strokeWidth:_u.PropTypes.number,strokeDasharray:_u.PropTypes.oneOf(Sd),opacity:_u.PropTypes.number.isRequired,yValue:function(e,t){return"vertical"===e.type&&Qt(e[t])?new Error("Do not define `yValue` when type is `vertical`, define the `xValue` prop"):"horizontal"===e.type&&Jt(e[t])?new Error("when type = `horizontal` `yValue` is required"):void 0},xValue:function(e,t){return"horizontal"===e.type&&Qt(e[t])?new Error("Do not define `xValue` when type is `horizontal`, define the `yValue` prop"):"vertical"===e.type&&Jt(e[t])?new Error("when type = `vertical` `xValue` is required"):void 0}},mg.defaultProps={className:"line ",type:"horizontal",stroke:"#000000",opacity:.5,strokeWidth:1,strokeDasharray:"Solid"};var yg=mg,gg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bg=function(e){function t(e){Vo(this,t);var n=Go(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForMACD=n.yAccessorForMACD.bind(n),n.yAccessorForSignal=n.yAccessorForSignal.bind(n),n.yAccessorForDivergence=n.yAccessorForDivergence.bind(n),n.yAccessorForDivergenceBase=n.yAccessorForDivergenceBase.bind(n),n}return Uo(t,e),gg(t,[{key:"yAccessorForMACD",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).macd}},{key:"yAccessorForSignal",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).signal}},{key:"yAccessorForDivergence",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).divergence}},{key:"yAccessorForDivergenceBase",value:function(e,t){return t(0)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.type,r=e.opacity,i=e.divergenceStroke,o=e.calculator,a=o.stroke(),s=o.fill(),l=this.props.clip,c=this.props,u=c.zeroLineStroke,h=c.zeroLineOpacity;return Tu.a.createElement("g",{className:t},Tu.a.createElement(Qy,{baseAt:this.yAccessorForDivergenceBase,className:"macd-divergence",widthRatio:.5,stroke:i,fill:s.divergence,opacity:r,clip:l,yAccessor:this.yAccessorForDivergence}),Tu.a.createElement(Py,{yAccessor:this.yAccessorForMACD,stroke:a.macd,fill:"none",type:n}),Tu.a.createElement(Py,{yAccessor:this.yAccessorForSignal,stroke:a.signal,fill:"none",type:n}),Tu.a.createElement(yg,{stroke:u,opacity:h,yValue:0}))}}]),t}(_u.Component);bg.propTypes={className:_u.PropTypes.string,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,type:_u.PropTypes.string,opacity:_u.PropTypes.number,divergenceStroke:_u.PropTypes.bool,zeroLineStroke:_u.PropTypes.string,zeroLineOpacity:_u.PropTypes.number,clip:_u.PropTypes.bool.isRequired},bg.defaultProps={className:"react-stockcharts-macd-series",zeroLineStroke:"#000000",zeroLineOpacity:.3,opacity:.6,divergenceStroke:!1,clip:!0};var vg=bg,wg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xg=function(e){function t(e){Ko(this,t);var n=Zo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForTop=n.yAccessorForTop.bind(n),n.yAccessorForMiddle=n.yAccessorForMiddle.bind(n),n.yAccessorForBottom=n.yAccessorForBottom.bind(n),n.yAccessorForScalledBottom=n.yAccessorForScalledBottom.bind(n),n}return $o(t,e),wg(t,[{key:"yAccessorForTop",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).top}},{key:"yAccessorForMiddle",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).middle}},{key:"yAccessorForBottom",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).bottom}},{key:"yAccessorForScalledBottom",value:function(e,t){var n=this.props.calculator,r=n.accessor();return e(r(t)&&r(t).bottom)}},{key:"render",value:function(){var e=this.props,t=e.calculator,n=e.areaClassName,r=e.className,i=e.opacity,o=t.stroke(),a=t.fill();return Tu.a.createElement("g",{className:r},Tu.a.createElement(Py,{yAccessor:this.yAccessorForTop,stroke:o.top,fill:"none"}),Tu.a.createElement(Py,{yAccessor:this.yAccessorForMiddle,stroke:o.middle,fill:"none"}),Tu.a.createElement(Py,{yAccessor:this.yAccessorForBottom,stroke:o.bottom,fill:"none"}),Tu.a.createElement(Ay,{className:n,yAccessor:this.yAccessorForTop,base:this.yAccessorForScalledBottom,stroke:"none",fill:a,opacity:i}))}}]),t}(_u.Component);xg.propTypes={calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,className:_u.PropTypes.string,areaClassName:_u.PropTypes.string,opacity:_u.PropTypes.number,type:_u.PropTypes.string},xg.defaultProps={className:"react-stockcharts-bollinger-band-series",areaClassName:"react-stockcharts-bollinger-band-series-area",opacity:.2};var kg=xg,_g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tg=function(e){function t(){return Qo(this,t),Jo(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ea(t,e),_g(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.calculator,r=e.stroke,i=e.type,o=n.accessor(),a=n.overSold(),s=n.middle(),l=n.overBought();return Tu.a.createElement("g",{className:t},Tu.a.createElement(Py,{className:t,yAccessor:o,stroke:r.line,fill:"none",type:i}),ta(this.props,a,r.top),ta(this.props,s,r.middle),ta(this.props,l,r.bottom))}}]),t}(_u.Component);Tg.propTypes={className:_u.PropTypes.string,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,stroke:_u.PropTypes.object,type:_u.PropTypes.string},Tg.defaultProps={className:"react-stockcharts-rsi-series",stroke:{line:"#000000",top:"#964B00",middle:"#000000",bottom:"#964B00"}};var Sg=Tg,Pg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Eg=function(e){function t(e){na(this,t);var n=ra(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.yAccessorForD=n.yAccessorForD.bind(n),n.yAccessorForK=n.yAccessorForK.bind(n),n}return ia(t,e),Pg(t,[{key:"yAccessorForD",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).D}},{key:"yAccessorForK",value:function(e){var t=this.props.calculator,n=t.accessor();return n(e)&&n(e).K}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.calculator,r=e.stroke,i=e.type,o=n.stroke();return Tu.a.createElement("g",{className:t},Tu.a.createElement(Py,{yAccessor:this.yAccessorForD,stroke:o.D,fill:"none",type:i}),Tu.a.createElement(Py,{yAccessor:this.yAccessorForK,stroke:o.K,fill:"none",type:i}),oa(this.props,n.overSold(),r.top),oa(this.props,n.middle(),r.middle),oa(this.props,n.overBought(),r.bottom))}}]),t}(_u.Component);Eg.propTypes={className:_u.PropTypes.string,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,stroke:_u.PropTypes.object,type:_u.PropTypes.string},Eg.defaultProps={className:"react-stockcharts-stochastic-series",stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00"}};var Cg=Eg,Og=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ag=function(e){function t(e){aa(this,t);var n=sa(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return la(t,e),Og(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props.yAccessor,r=t.xAccessor,i=t.xScale,o=t.chartConfig.yScale,a=t.plotData,s=ca(this.props,r,n,i,o,a);bo(this.props,e,s)}},{key:"renderSVG",value:function(e){var t=this.props.yAccessor,n=e.xAccessor,r=e.xScale,i=e.chartConfig.yScale,o=e.plotData,a=ca(this.props,n,t,r,i,o);return Tu.a.createElement("g",{className:"react-stockcharts-bar-series"},go(this.props,a))}},{key:"render",value:function(){var e=this.props.clip;return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:e,drawOnPan:!0})}}]),t}(_u.Component);Ag.propTypes={baseAt:_u.PropTypes.oneOfType([_u.PropTypes.number,_u.PropTypes.func]).isRequired,direction:_u.PropTypes.oneOf(["up","down"]).isRequired,stroke:_u.PropTypes.bool.isRequired,widthRatio:_u.PropTypes.number.isRequired,opacity:_u.PropTypes.number.isRequired,fill:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,className:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.string]).isRequired,xAccessor:_u.PropTypes.func,yAccessor:_u.PropTypes.arrayOf(_u.PropTypes.func),xScale:_u.PropTypes.func,yScale:_u.PropTypes.func,plotData:_u.PropTypes.array,clip:_u.PropTypes.bool.isRequired},Ag.defaultProps={baseAt:function(e,t){return Md(t.range())},direction:"up",className:"bar",stroke:!1,fill:"#4682B4",opacity:1,widthRatio:.5,clip:!0};var Mg=Ag,Dg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ng=function(e){function t(e){ua(this,t);var n=ha(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fillForEachBar=n.fillForEachBar.bind(n),n.yAccessorTop=n.yAccessorTop.bind(n),n.yAccessorBullTop=n.yAccessorBullTop.bind(n),n.yAccessorBearTop=n.yAccessorBearTop.bind(n),n.yAccessorBullBottom=n.yAccessorBullBottom.bind(n),n.yAccessorBearBottom=n.yAccessorBearBottom.bind(n),n.yAccessorForBarBase=n.yAccessorForBarBase.bind(n),n}return pa(t,e),Dg(t,[{key:"yAccessorTop",value:function(e){var t=this.props.yAccessor;return t(e)&&Math.max(t(e).bullPower,0)}},{key:"yAccessorBullTop",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower>0?t(e).bullPower:void 0)}},{key:"yAccessorBearTop",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bearPower>0?t(e).bearPower:void 0)}},{key:"yAccessorBullBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower<0?0:void 0)}},{key:"yAccessorBearBottom",value:function(e){var t=this.props.yAccessor;return t(e)&&(t(e).bullPower<0||t(e).bullPower*t(e).bearPower<0?Math.min(0,t(e).bullPower):void 0)}},{key:"yAccessorForBarBase",value:function(e,t,n){var r=this.props.yAccessor;return t(r(n)&&Math.min(r(n).bearPower,0))}},{key:"fillForEachBar",value:function(e,t){var n=this.props,r=n.bullPowerFill,i=n.bearPowerFill;return t%2==0?r:i}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opacity,r=e.stroke,i=e.straightLineStroke,o=e.straightLineOpacity,a=e.widthRatio,s=this.props.clip;return Tu.a.createElement("g",{className:t},Tu.a.createElement(Mg,{baseAt:this.yAccessorForBarBase,className:"react-stockcharts-elderray-bar",stroke:r,fill:this.fillForEachBar,opacity:n,widthRatio:a,clip:s,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),Tu.a.createElement(yg,{className:"react-stockcharts-elderray-straight-line",yValue:0,stroke:i,opacity:o}))}}]),t}(_u.Component);Ng.propTypes={className:_u.PropTypes.string,yAccessor:_u.PropTypes.func,opacity:_u.PropTypes.number,stroke:_u.PropTypes.bool,bullPowerFill:_u.PropTypes.string,bearPowerFill:_u.PropTypes.string,straightLineStroke:_u.PropTypes.string,straightLineOpacity:_u.PropTypes.number,widthRatio:_u.PropTypes.number,clip:_u.PropTypes.bool.isRequired},Ng.defaultProps={className:"react-stockcharts-elderray-series",straightLineStroke:"#000000",straightLineOpacity:.3,opacity:.5,stroke:!0,bullPowerFill:"#6BA583",bearPowerFill:"#FF0000",widthRatio:.8,clip:!0};var Rg=Ng,jg=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ig=function(e){function t(e){fa(this,t);var n=da(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return ma(t,e),Fg(t,[{key:"drawOnCanvas",value:function(e,t){var n=t.xAccessor,r=t.width,i=ya(this.props,t,n,r),o=i.rects,a=i.sessionBg;ga(e,this.props,o,a)}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.opacity,i=this.props,o=i.showSessionBackground,a=i.sessionBackGround,s=i.sessionBackGroundOpacity,l=e.xAccessor,c=e.width,u=ya(this.props,e,l,c),h=u.rects,p=u.sessionBg,f=o?p.map(function(e,t){return Tu.a.createElement("rect",Lg({key:t},e,{opacity:s,fill:a}))}):null;return Tu.a.createElement("g",{className:n},f,h.map(function(e,t){return Tu.a.createElement("g",{key:t},Tu.a.createElement("rect",{x:e.x,y:e.y,width:e.w1,height:e.height,fill:e.fill1,stroke:e.stroke1,fillOpacity:r}),Tu.a.createElement("rect",{x:e.x+e.w1,y:e.y,width:e.w2,height:e.height,fill:e.fill2,stroke:e.stroke2,fillOpacity:r}))}))}}]),t}(_u.Component);Ig.propTypes={className:_u.PropTypes.string,opacity:_u.PropTypes.number,showSessionBackground:_u.PropTypes.bool,sessionBackGround:_u.PropTypes.string,sessionBackGroundOpacity:_u.PropTypes.number},Ig.defaultProps={opacity:.5,className:"line ",bins:20,maxProfileWidthPercent:50,source:function(e){return e.close},volume:function(e){return e.volume},absoluteChange:function(e){return e.absoluteChange},bySession:!1,sessionStart:function(e){var t=e.d;e.i,e.plotData;return t.idx.startOfMonth},orient:"left",fill:function(e){return"up"===e.type?"#6BA583":"#FF0000"},stroke:"#FFFFFF",showSessionBackground:!1,sessionBackGround:"#4682B4",sessionBackGroundOpacity:.3,partialStartOK:!1,partialEndOK:!0};var Bg=Ig,zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qg=function(e){function t(e){ba(this,t);var n=va(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.isHover=n.isHover.bind(n),n}return wa(t,e),Wg(t,[{key:"isHover",value:function(e){var t=e.mouseXY,n=e.currentItem,r=e.chartConfig.yScale,i=this.props.yAccessor,o=t[1],a=r(i(n));return o<a+5&&o>a-5}},{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.yAccessor,i=n.fill,o=n.opacity,a=t.xAccessor,s=t.plotData,l=t.xScale,c=t.chartConfig.yScale,u=t.hovering,h=l(a($t(s)))-l(a(Md(s))),p=h/s.length*.5/2,f=Math.max(.5,p/2)+(u?2:0),d=Math.min(2,Math.max(.5,p))+0;s.forEach(function(t){var n=l(a(t)),s=c(r(t)),u=r(t)>t.close?i.falling:i.rising;e.fillStyle=on(u,o),e.strokeStyle=u,e.beginPath(),e.ellipse(n,s,f,d,0,0,2*Math.PI),e.closePath(),e.fill(),e.stroke()})}},{key:"renderSVG",value:function(e){var t=this.props,n=t.className,r=t.yAccessor,i=e.xAccessor,o=e.plotData,a=e.xScale,s=e.chartConfig.yScale;return Tu.a.createElement("g",{className:n},o.map(function(e,t){return Tu.a.createElement("circle",{key:t,cx:a(i(e)),cy:s(r(e)),r:3,fill:"green"})}))}},{key:"render",value:function(){var e=this.props.highlightOnHover,t=e?{isHover:this.isHover}:{};return Tu.a.createElement(ny,zg({canvasToDraw:Ur,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas},t,{onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onContextMenu:this.props.onContextMenu,drawOnPan:!0}))}}]),t}(_u.Component);qg.propTypes={className:_u.PropTypes.string,fill:_u.PropTypes.object.isRequired,yAccessor:_u.PropTypes.func.isRequired,opacity:_u.PropTypes.number.isRequired,onClick:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func,onContextMenu:_u.PropTypes.func,highlightOnHover:_u.PropTypes.bool},qg.defaultProps={className:"react-stockcharts-sar",fill:{falling:"#4682B4",rising:"#15EC2E"},highlightOnHover:!0,opacity:.2,onClick:function(e){console.log("Click",e)},onDoubleClick:function(e){console.log("Double Click",e)},onContextMenu:function(e){console.log("Right Click",e)}};var Hg=qg,Yg=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xg=[{target:5e3,level:0},{target:5e4,level:1},{target:1e5,level:2},{target:28e4,level:3},{target:55e4,level:4},{target:11e5,level:5},{target:21e5,level:6},{target:43e5,level:7},{target:59e5,level:8},{target:12e6,level:9},{target:58e6,level:10},{target:89e6,level:11},{target:11e7,level:12},{target:78e7,level:13},{target:16e8,level:14},{target:62e8,level:15},{target:1e21,level:16}],Vg=17,Gg=Ap(function(e){return e.target}).left,Ug=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg=[function(e,t,n){return e.startOfYear&&t.getFullYear()%2==0&&"%Y"},function(e,t,n){return e.startOfYear&&"%Y"},function(e,t,n){return e.startOfQuarter&&"%b %Y"},function(e,t,n){return e.startOfMonth&&"%b"},function(e,t,n){return e.startOfWeek&&"%d %b"},function(e,t,n){return e.startOfDay&&n%2==0&&"%a %d"},function(e,t,n){return e.startOfDay&&"%a %d"},function(e,t,n){return e.startOfHalfDay&&"%_I %p"},function(e,t,n){return e.startOfQuarterDay&&"%_I %p"},function(e,t,n){return e.startOfEighthOfADay&&"%_I %p"},function(e,t,n){return e.startOfHour&&t.getHours()%2==0&&"%_I %p"},function(e,t,n){return e.startOfHour&&"%_I %p"},function(e,t,n){return e.startOf30Minutes&&"%I:%M %p"},function(e,t,n){return e.startOf15Minutes&&"%I:%M %p"},function(e,t,n){return e.startOf5Minutes&&"%I:%M %p"},function(e,t,n){return e.startOfMinute&&"%I:%M %p"},function(e,t,n){return e.startOf30Seconds&&"%I:%M:%S %p"},function(e,t,n){return"%I:%M:%S %p"}],$g=vd().windowSize(2).undefinedValue(function(e,t,n){var r=n,i={date:e.getTime(),startOf30Seconds:!1,startOfMinute:!1,startOf5Minutes:!1,startOf15Minutes:!1,startOf30Minutes:!1,startOfHour:!1,startOfEighthOfADay:!1,startOfQuarterDay:!1,startOfHalfDay:!1,startOfDay:!0,startOfWeek:!1,startOfMonth:!1,startOfQuarter:!1,startOfYear:!1},o=ka(i,e,r);return Kg({},i,{index:r},o)}),Qg=$g.accumulator(function(e,t,n,r){var i=Ug(e,2),o=i[0],a=i[1],s=a.getSeconds()%30==0,l=a.getMinutes()!==o.getMinutes(),c=l&&a.getMinutes()%5<=o.getMinutes()%5,u=l&&a.getMinutes()%15<=o.getMinutes()%15,h=l&&a.getMinutes()%30<=o.getMinutes()%30,p=a.getHours()!==o.getHours(),f=p&&a.getHours()%3==0,d=p&&a.getHours()%6==0,m=p&&a.getHours()%12==0,y=a.getDay()!==o.getDay(),g=a.getDay()<o.getDay(),b=a.getMonth()!==o.getMonth(),v=b&&a.getMonth()%3<=o.getMonth()%3,w=a.getYear()!==o.getYear(),x={date:a.getTime(),startOf30Seconds:s,startOfMinute:l,startOf5Minutes:c,startOf15Minutes:u,startOf30Minutes:h,startOfHour:p,startOfEighthOfADay:f,startOfQuarterDay:d,startOfHalfDay:m,startOfDay:y,startOfWeek:g,startOfMonth:b,startOfQuarter:v,startOfYear:w},k=ka(x,a,t);return Kg({},x,{index:t+r},k)}),Jg=Ta(),eb=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rb=function(e){function t(e){Oa(this,t);var n=Aa(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Ma(t,e),nb(t,[{key:"drawOnCanvas",value:function(e,t){var n=Da(this.props,t);Ca(e,tb({},this.props,n))}},{key:"renderSVG",value:function(e){var t=Da(this.props,e);return Pa(tb({},this.props,t))}},{key:"render",value:function(){return Tu.a.createElement(ny,{canvasToDraw:Ur,edgeClip:!0,clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0})}}]),t}(_u.Component);rb.propTypes={yAccessor:_u.PropTypes.func,type:_u.PropTypes.oneOf(["horizontal"]).isRequired,className:_u.PropTypes.string,fill:_u.PropTypes.oneOfType([_u.PropTypes.string,_u.PropTypes.func]).isRequired,textFill:_u.PropTypes.oneOfType([_u.PropTypes.string,_u.PropTypes.func]).isRequired,itemType:_u.PropTypes.oneOf(["first","last"]).isRequired,orient:_u.PropTypes.oneOf(["left","right"]),edgeAt:_u.PropTypes.oneOf(["left","right"]),displayFormat:_u.PropTypes.func.isRequired,rectHeight:_u.PropTypes.number.isRequired,rectWidth:_u.PropTypes.number.isRequired,arrowWidth:_u.PropTypes.number.isRequired},rb.defaultProps={className:"react-stockcharts-edgeindicator",type:"horizontal",orient:"left",edgeAt:"left",textFill:"#FFFFFF",displayFormat:Dh(".2f"),yAxisPad:0,rectHeight:20,rectWidth:50,arrowWidth:10,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,dx:0,hideLine:!1,fill:"#8a8a8a",opacity:1,lineStroke:"#000000",lineOpacity:.3};var ib=rb,ob=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ab=function(e){function t(e){Na(this,t);var n=Ra(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return ja(t,e),ob(t,[{key:"drawOnCanvas",value:function(e,t){var n=La(this.props,t);if(!n)return null;e.fillStyle=n.fill,e.beginPath(),e.arc(n.x,n.y,n.r,0,2*Math.PI,!1),e.fill()}},{key:"renderSVG",value:function(e){var t=this.props.className,n=La(this.props,e);return n?Tu.a.createElement("circle",{className:t,cx:n.x,cy:n.y,r:n.r,fill:n.fill}):null}},{key:"render",value:function(){return Tu.a.createElement(ny,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnMouseMove:!0,drawOnPan:!0,drawOnMouseExitOfCanvas:!0})}}]),t}(_u.Component);ab.propTypes={yAccessor:_u.PropTypes.func,r:_u.PropTypes.number.isRequired,className:_u.PropTypes.string},ab.defaultProps={r:3,className:"react-stockcharts-current-coordinate"};var sb=ab,lb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),cb=function(e){function t(e){Fa(this,t);var n=Ia(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Ba(t,e),lb(t,[{key:"drawOnCanvas",value:function(e,t){var n=za(this.props,t);if(Jt(n))return null;Ca(e,n)}},{key:"renderSVG",value:function(e){var t=za(this.props,e);return Jt(t)?null:Pa(t)}},{key:"render",value:function(){return Tu.a.createElement(ny,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,drawOnMouseMove:!0,drawOnPan:!0,drawOnMouseExitOfCanvas:!0})}}]),t}(_u.Component);cb.propTypes={displayFormat:_u.PropTypes.func.isRequired},cb.defaultProps={yAxisPad:0,rectWidth:80,rectHeight:20,orient:"bottom",at:"bottom",fill:"#525252",opacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF",snapX:!0};var ub=cb,hb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pb=function(e){function t(e){Wa(this,t);var n=qa(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Ha(t,e),hb(t,[{key:"drawOnCanvas",value:function(e,t){var n=Ya(this.props,t);if(Jt(n))return null;Ca(e,n)}},{key:"renderSVG",value:function(e){var t=Ya(this.props,e);return Jt(t)?null:Pa(t)}},{key:"render",value:function(){return Tu.a.createElement(ny,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,clip:!1,drawOnMouseMove:!0,drawOnPan:!0,drawOnMouseExitOfCanvas:!0})}}]),t}(_u.Component);pb.propTypes={displayFormat:_u.PropTypes.func.isRequired},pb.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",dx:0,arrowWidth:10,fill:"#525252",opacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:13,textFill:"#FFFFFF"};var fb=pb,db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mb=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yb=function(e){function t(e){Va(this,t);var n=Ga(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Ua(t,e),mb(t,[{key:"drawOnCanvas",value:function(e,t){var n=Ka(this.props,t);if(Qt(n)){var r=this.context,i=r.margin,o=r.ratio,a=.5*o+i.left,s=.5*o+i.top;e.save(),e.setTransform(1,0,0,1,0,0),e.scale(o,o),e.translate(a,s),n.forEach(function(t){var n=Pd(t.strokeDasharray).split(",").map(function(e){return+e});e.strokeStyle=on(t.stroke,t.opacity),e.setLineDash(n),e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()}),e.restore()}}},{key:"renderSVG",value:function(e){var t=this.props.className,n=Ka(this.props,e);return Jt(n)?null:Tu.a.createElement("g",{className:"react-stockcharts-crosshair "+t},n.map(function(e,t){var n=e.strokeDasharray,r=Xa(e,["strokeDasharray"]);return Tu.a.createElement("line",db({key:t,strokeDasharray:Pd(n)},r))}))}},{key:"render",value:function(){return Tu.a.createElement($m,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,drawOnMouseMove:!0,drawOnPan:!0,drawOnMouseExitOfCanvas:!0})}}]),t}(Td);yb.propTypes={className:_u.PropTypes.string,strokeDasharray:_u.PropTypes.oneOf(Sd)},yb.contextTypes={margin:_u.PropTypes.object.isRequired,ratio:_u.PropTypes.number.isRequired,xScale:_u.PropTypes.func.isRequired},yb.defaultProps={stroke:"#000000",opacity:.3,strokeDasharray:"ShortDash",snapX:!0};var gb=yb,bb=n(1162),vb={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},wb={windowSize:14},xb={sourcePath:"close"},kb={windowSize:13,sourcePath:"close",movingAverageType:"sma"},_b={sourcePath:"close"},Tb={accelerationFactor:.02,maxAccelerationFactor:.2},Sb={fast:12,slow:26,signal:9,sourcePath:"close"},Pb={windowSize:12,kWindowSize:3,dWindowSize:3},Eb={windowSize:14,sourcePath:"close"},Cb={sourcePath:"close",windowSize:10},Ob={sourcePath:"close",windowSize:10},Ab={sourcePath:"close",windowSize:10},Mb={sourcePath:"close",windowSize:10},Db={reversalType:"ATR",windowSize:14,reversal:2,sourcePath:"close"},Nb={reversalType:"ATR",windowSize:14,fixedBrickSize:2,sourcePath:"high/low"},Rb={boxSize:.5,reversal:3,sourcePath:"high/low"},jb=function(){function e(e){var r,i=Yt(n),o=2/(t+1),a=0,s=0;return e.map(function(e,n){var l=i(e,n);if(Jt(r)&&Jt(l))return void s++;if(n<t+s-1)return void(a+=l);if(n===t+s-1){a+=l;var c=a/t;return r=c,c}var u=l*o+(1-o)*r;return r=u,u})}var t=Cb.windowSize,n=Cb.sourcePath;return e.undefinedLength=function(){return t-1},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.sourcePath=function(t){return arguments.length?(n=t,e):n},e},Lb=function(){function e(e){return vd().windowSize(t).sourcePath(n).accumulator(function(e){return $p(e)})(e)}var t=Ob.windowSize,n=Ob.sourcePath;return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.sourcePath=function(t){return arguments.length?(n=t,e):n},e},Fb=function(){function e(e){var r=t*(t+1)/2;return vd().windowSize(t).sourcePath(n).accumulator(function(e){return ef(e,function(e,t){return(t+1)*e})/r})(e)}var t=Ab.windowSize,n=Ab.sourcePath;return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.sourcePath=function(t){return arguments.length?(n=t,e):n},e},Ib=function(){function e(e){var r=Math.floor(t/2),i=t%2==0?r*(r+1):(r+1)*(r+1);return vd().windowSize(t).sourcePath(n).accumulator(function(e){return ef(e,function(e,n){return n<r?(n+1)*e:(t-n)*e})/i})(e)}var t=Mb.windowSize,n=Mb.sourcePath;return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.sourcePath=function(t){return arguments.length?(n=t,e):n},e},Bb=function(){function e(e){var o=Yt(i),a="ema"===r?jb().windowSize(t).sourcePath(i):vd().windowSize(t).accumulator(function(e){return $p(e)}).sourcePath(i);return vd().windowSize(t).accumulator(function(e){var t=$t(e).mean,r=Fp(e,function(e){return o(e.datum)});return{top:t+n*r,middle:t,bottom:t-n*r}})(Lt().combine(function(e,t){return{datum:e,mean:t}})(e,a(e)))}var t=vb.windowSize,n=vb.multiplier,r=vb.movingAverageType,i=vb.sourcePath;return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.multiplier=function(t){return arguments.length?(n=t,e):n},e.movingAverageType=function(t){return arguments.length?(r=t,e):r},e.sourcePath=function(t){return arguments.length?(i=t,e):i},e},zb=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Wb=function(){function e(e){return wd().windowSize(2).undefinedValue(function(e){var t=e.open,n=e.high,r=e.low,i=e.close;return i=(t+n+r+i)/4,{open:t,high:n,low:r,close:i}}).accumulator(function(e){var t=zb(e,2),n=t[0],r=t[1],i=(r.open+r.high+r.low+r.close)/4,o=(n.open+n.close)/2;return{open:o,high:Math.max(o,r.high,i),low:Math.min(o,r.low,i),close:i}})(e)}var t=yd;return e.source=function(n){return arguments.length?(t=n,e):t},e},qb=function(){function e(e){var r,i=vd().windowSize(2).source(n).undefinedValue(function(e){return e.high-e.low}).accumulator(function(e){var t=e[0],n=e[1];return Math.max(n.high-n.low,n.high-t.close,n.low-t.close)});return vd().skipInitial(1).windowSize(t).accumulator(function(e){var n=$t(e),i=Qt(r)?(r*(t-1)+n)/t:ef(e)/t;return r=i,i})(i(e))}var t=9,n=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}};return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.source=function(t){return arguments.length?(n=t,e):n},e},Hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb=function(){function e(e){var s,l=Yt(i);if("ATR"===t){var c=qb().windowSize(n);bd().algorithm(c).merge(function(e,t){e["atr"+n]=t})(e),s=function(e){return e["atr"+n]}}else s=Xt(r);var u,h,p,f=[],d={};return e.forEach(function(e){Jt(d.from)&&(a(d,o(e)),d.from=o(e),d.open||(d.open=e.open),d.high=e.high,d.low=e.low,d.close||(d.close=l(e)),d.startOfYear=e.startOfYear,d.startOfQuarter=e.startOfQuarter,d.startOfMonth=e.startOfMonth,d.startOfWeek=e.startOfWeek),d.startOfYear||(d.startOfYear=e.startOfYear,d.startOfYear&&(d.date=e.date)),d.startOfQuarter||(d.startOfQuarter=e.startOfQuarter,d.startOfQuarter&&!d.startOfYear&&(d.date=e.date)),d.startOfMonth||(d.startOfMonth=e.startOfMonth,d.startOfMonth&&!d.startOfQuarter&&(d.date=e.date)),d.startOfWeek||(d.startOfWeek=e.startOfWeek,d.startOfWeek&&!d.startOfMonth&&(d.date=e.date)),d.volume=(d.volume||0)+e.volume,d.high=Math.max(d.high,e.high),d.low=Math.min(d.low,e.low),d.to=o(e);var t=l(e)-d.close;if(d.close>d.open&&t>0||d.close<d.open&&t<0)d.close=l(e),h&&d.close<h&&(d.changePoint=h,"yin"!==d.startAs&&(d.changeTo="yin")),u&&d.close>u&&(d.changePoint=u,"yang"!==d.startAs&&(d.changeTo="yang"));else if(d.close>d.open&&t<0&&Math.abs(t)>s(e)||d.close<d.open&&t>0&&Math.abs(t)>s(e)){var n=d.close;p=(d.close-d.open)/Math.abs(d.close-d.open);var r,i;p<0?(Jt(u)&&(u=d.open),h=d.close,l(e)>u&&(r=u,i="yang")):(Jt(h)&&(h=d.open),u=d.close,l(e)<h&&(r=h,i="yin")),Jt(d.startAs)&&(d.startAs=p>0?"yang":"yin");var c=d.changeTo||d.startAs;d.added=!0,f.push(d),p*=-1,d=Hb({},d),d.open=n,d.close=l(e),d.startAs=c,d.changePoint=r,d.changeTo=i,d.added=!1,d.from=void 0,d.volume=0}d.current=l(e);var m=d.close-d.open;m/=Math.abs(m),d.reverseAt=m>0?d.close-s(e):d.open-s(e)}),d.added||f.push(d),f}var t=Db.reversalType,n=Db.windowSize,r=Db.reversal,i=Db.sourcePath,o=function(e){return e.date},a=function(e,t){e.date=t};return e.reversalType=function(n){return arguments.length?(t=n,e):t},e.windowSize=function(t){return arguments.length?(n=t,e):n},e.reversal=function(t){return arguments.length?(r=t,e):r},e.sourcePath=function(t){return arguments.length?(i=t,e):i},e.dateMutator=function(t){return arguments.length?(a=t,e):a},e.dateAccessor=function(t){return arguments.length?(o=t,e):o},e},Xb=function(){function e(e){var a="high/low"===r?function(e){return{high:e.high,low:e.low}}:function(e){return{high:e.close,low:e.close}},s=a,l=[],c={boxes:[],open:e[0].open},u=Za(e[0],i,o);return l.push(c),e.forEach(function(e){if(c.volume=(c.volume||0)+e.volume,u.startOfYear||(u.startOfYear=e.startOfYear,u.startOfYear&&o(u,i(e))),u.startOfYear||u.startOfQuarter||(u.startOfQuarter=e.startOfQuarter,u.startOfQuarter&&!u.startOfYear&&o(u,i(e))),u.startOfQuarter||u.startOfMonth||(u.startOfMonth=e.startOfMonth,u.startOfMonth&&!u.startOfQuarter&&o(u,i(e))),u.startOfMonth||u.startOfWeek||(u.startOfWeek=e.startOfWeek,u.startOfWeek&&!u.startOfMonth&&o(u,i(e))),1===l.length&&0===c.boxes.length){var r=Math.max(s(e).high-c.open,0),a=Math.abs(Math.min(c.open-s(e).low,0));if(c.direction=r>a?1:-1,n*t<r||n*t<a){u.toDate=i(e),u.open=c.open;for(var h=c.direction>0?Math.floor(r/n):Math.floor(a/n),p=0;p<h;p++){u.close=u.open+c.direction*n;var f=u.close;c.boxes.push(u),u=Za(u,i,o),u.open=f}u.fromDate=i(e),u.date=i(e)}}else{var d=Math.max(s(e).high-u.open,0),m=Math.abs(Math.min(s(e).low-u.open,0));if(c.direction>0&&d>n||c.direction<0&&m>n){u.close=u.open+c.direction*n,u.toDate=i(e);var y=u.close;c.boxes.push(u),u=Za(e,i,o),u.open=y,u.fromDate=i(e),o(u,i(e))}else if(c.direction>0&&m>n*t||c.direction<0&&d>n*t){u.open=u.open+-1*c.direction*n,u.toDate=i(e),o(u,i(e)),c={boxes:[],volume:0,direction:-1*c.direction};for(var g=c.direction>0?Math.floor(d/n):Math.floor(m/n),b=0;b<g;b++){u.close=u.open+c.direction*n;var v=u.close;c.boxes.push(u),u=Za(e,i,o),u.open=v}l.push(c)}}}),$a(l,i,o),l}var t=Rb.reversal,n=Rb.boxSize,r=Rb.sourcePath,i=function(e){return e.date},o=function(e,t){e.date=t};return e.reversal=function(n){return arguments.length?(t=n,e):t},e.boxSize=function(t){return arguments.length?(n=t,e):n},e.sourcePath=function(t){return arguments.length?(r=t,e):r},e.dateMutator=function(t){return arguments.length?(o=t,e):o},e.dateAccessor=function(t){return arguments.length?(i=t,e):i},e},Vb=function(){function e(e){var s,l="high/low"===r?function(e){return{high:e.high,low:e.low}}:function(e){return{high:e.close,low:e.close}},c=l;if("ATR"===t){var u=qb().windowSize(i);bd().algorithm(u).merge(function(e,t){e["atr"+i]=t})(e),s=function(e){return e["atr"+i]}}else s=Xt(n);var h=[],p=0,f=e[p].open,d=e[p].open,m={},y=0;return e.forEach(function(t,n){Jt(m.from)&&(m.high=t.high,m.low=t.low,m.startOfYear=t.startOfYear,m.startOfQuarter=t.startOfQuarter,m.startOfMonth=t.startOfMonth,m.startOfWeek=t.startOfWeek,m.from=n,m.fromDate=o(t),a(m,o(t))),m.volume=(m.volume||0)+t.volume;var r=f-c(t).high,i=f-c(t).low,l=d-c(t).high,u=d-c(t).low,g=Math.min(Math.abs(r),Math.abs(i),Math.abs(l),Math.abs(u));if(m.high=Math.max(m.high,t.high),m.low=Math.min(m.low,t.low),m.startOfYear||(m.startOfYear=t.startOfYear,m.startOfYear&&a(m,o(t))),m.startOfQuarter||(m.startOfQuarter=t.startOfQuarter,m.startOfQuarter&&!m.startOfYear&&a(m,o(t))),m.startOfMonth||(m.startOfMonth=t.startOfMonth,m.startOfMonth&&!m.startOfQuarter&&a(m,o(t))),m.startOfWeek||(m.startOfWeek=t.startOfWeek,m.startOfWeek&&!m.startOfMonth&&a(m,o(t))),s(t)){var b=Math.floor(g/s(t));if(m.open=Math.abs(r)<Math.abs(l)||Math.abs(i)<Math.abs(u)?f:d,b>=1){var v=0;for(v=0;v<b;v++){m.close=m.open<c(t).high?m.open+s(t):m.open-s(t),y=m.close>m.open?1:-1,m.direction=y,m.to=n,m.toDate=o(t),m.fullyFormed=!0,h.push(m),f=m.close,d=m.open;var w={high:m.high,low:m.low,open:m.close,startOfYear:!1,startOfMonth:!1,startOfQuarter:!1,startOfWeek:!1};m=w,m.from=n,m.fromDate=o(t),a(m,o(t)),m.volume=(m.volume||0)+t.volume}p=p+v-1,m={}}else n===e.length-1&&(m.close=y>0?c(t).high:c(t).low,m.to=n,m.toDate=o(t),a(m,o(t)),m.fullyFormed=!1,h.push(m))}}),h}var t=Nb.reversalType,n=Nb.fixedBrickSize,r=Nb.sourcePath,i=Nb.windowSize,o=function(e){return e.date},a=function(e,t){e.date=t};return e.reversalType=function(n){return arguments.length?(t=n,e):t},e.fixedBrickSize=function(t){return arguments.length?(n=t,e):n},e.sourcePath=function(t){return arguments.length?(r=t,e):r},e.windowSize=function(t){return arguments.length?(i=t,e):i},e.dateMutator=function(t){return arguments.length?(a=t,e):a},e.dateAccessor=function(t){return arguments.length?(o=t,e):o},e},Gb=function(){function e(e){var o=jb().windowSize(t).sourcePath(i),a=jb().windowSize(n).sourcePath(i),s=jb().windowSize(r).sourcePath(void 0),l=Lt().combine(function(e,t){return Qt(e)&&Qt(t)?e-t:void 0}),c=l(o(e),a(e)),u=new Array(n),h=u.concat(s(c.slice(n)));return Lt().combine(function(e,t){return{macd:e,signal:t,divergence:Qt(e)&&Qt(t)?e-t:void 0}})(c,h)}var t=Sb.fast,n=Sb.slow,r=Sb.signal,i=Sb.sourcePath;return e.undefinedLength=function(){return n+r-1},e.fast=function(n){return arguments.length?(t=n,e):t},e.slow=function(t){return arguments.length?(n=t,e):n},e.signal=function(t){return arguments.length?(r=t,e):r},e.sourcePath=function(t){return arguments.length?(i=t,e):i},e},Ub=function(){function e(e){var r,i,o=Yt(n);return vd().windowSize(t).accumulator(function(e){var n=Qt(r)?(r*(t-1)+$t(e).gain)/t:$p(e,function(e){return e.gain}),o=Qt(i)?(i*(t-1)+$t(e).loss)/t:$p(e,function(e){return e.loss}),a=n/o,s=100-100/(1+a);return r=n,i=o,s})(vd().windowSize(2).undefinedValue(function(){return[0,0]}).accumulator(function(e){var t=e[0],n=e[1],r=o(n)-o(t);return{gain:Math.max(r,0),loss:Math.abs(Math.min(r,0))}})(e))}var t=Eb.windowSize,n=Eb.sourcePath;return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.sourcePath=function(t){return arguments.length?(n=t,e):n},e},Kb=function(){function e(e){var i=vd().windowSize(t).accumulator(function(e){var t=Zp(e,o),n=Jp(e,a);return(s($t(e))-n)/(t-n)*100}),l=vd().skipInitial(t-1).windowSize(n).accumulator(function(e){return $p(e)}),c=vd().skipInitial(t-1+n-1).windowSize(r).accumulator(function(e){return $p(e)}),u=Lt().combine(function(e,t){return{K:e,D:t}}),h=l(i(e));return u(h,c(h))}var t=Pb.windowSize,n=Pb.kWindowSize,r=Pb.dWindowSize,i=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}},o=function(e){return i(e).high},a=function(e){return i(e).low},s=function(e){return i(e).close};return e.undefinedLength=function(){return t+n+r},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.kWindowSize=function(t){return arguments.length?(n=t,e):n},e.dWindowSize=function(t){return arguments.length?(r=t,e):r},e.source=function(t){return arguments.length?(i=t,e):i},e},Zb=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$b=function(){function e(e){var r=Yt(t),i=Yt(n);return vd().windowSize(2).accumulator(function(e){var t=Zb(e,2),n=t[0],o=t[1];return(r(o)-r(n))*i(o)})(e)}var t=xb.sourcePath,n="volume";return e.undefinedLength=function(){return 2},e.sourcePath=function(n){return arguments.length?(t=n,e):t},e.volumePath=function(t){return arguments.length?(n=t,e):n},e},Qb=function(){function e(e){var o="ema"===r?jb().windowSize(t).sourcePath(n):vd().windowSize(t).accumulator(function(e){return $p(e)}).sourcePath(n);return Lt().combine(function(e,t){return{bullPower:Qt(t)?i(e).high-t:void 0,bearPower:Qt(t)?i(e).low-t:void 0}})(e,o(e))}var t=kb.windowSize,n=kb.sourcePath,r=kb.movingAverageType,i=function(e){return{open:e.open,high:e.high,low:e.low,close:e.close}};return e.undefinedLength=function(){return t},e.windowSize=function(n){return arguments.length?(t=n,e):t},e.ohlc=function(t){return arguments.length?(i=t,e):i},e.movingAverageType=function(t){return arguments.length?(r=t,e):r},e.sourcePath=function(t){return arguments.length?(n=t,e):n},e},Jb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tv=function(){function e(e){return wd().windowSize(2).undefinedValue(function(e){var n=e.high,r=e.low;return{risingSar:r,risingEp:n,fallingSar:n,fallingEp:r,af:t}}).accumulator(function(e){var r=ev(e,2),i=r[0],o=r[1],a=Qa(i,o),s=a.risingSar,l=a.fallingSar,c=a.risingEp,u=a.fallingEp;if(Jt(i.use)&&s>o.low&&l<o.high)return{risingSar:s,fallingSar:l,risingEp:c,fallingEp:u};var h=Qt(i.use)?"rising"===i.use?s>o.low?"falling":"rising":l<o.high?"rising":"falling":s>o.low?"falling":"rising",p=i.use===h?{af:Math.min(n,i.af+t),fallingEp:u,risingEp:c,fallingSar:l,risingSar:s}:{af:t,fallingEp:o.low,risingEp:o.high,fallingSar:Math.max(i.risingEp,o.high),risingSar:Math.min(i.fallingEp,o.low)},f=o.date,d=o.high,m=o.low;return Jb({date:f,high:d,low:m},p,{use:h,sar:"falling"===h?p.fallingSar:p.risingSar})})(e).map(function(e){return e.sar})}var t=Tb.accelerationFactor,n=Tb.maxAccelerationFactor;return e.undefinedLength=function(){return 1},e.accelerationFactor=function(n){return arguments.length?(t=n,e):t},e.maxAccelerationFactor=function(t){return arguments.length?(n=t,e):n},e},nv=function(){function e(e){var i=Md(e),o=t(i);return e.map(function(e){var t={};return n.forEach(function(n){t[n]=(e[n]-o)/o}),r.forEach(function(n){t[n]=(e[n]-i[n])/i[n]}),t})}var t=function(e){return e.close},n=[],r=[];return e.base=function(n){return arguments.length?(t=n,e):t},e.mainKeys=function(t){return arguments.length?(n=t,e):n},e.compareKeys=function(t){return arguments.length?(r=t,e):r},e},rv=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),iv=function(){function e(e){return vd().windowSize(2).sourcePath(t).accumulator(function(e){var t=rv(e,2),n=t[0],r=t[1],i=r-n;return{absoluteChange:i,percentChange:100*i/n}})(e)}var t="close";return e.undefinedLength=function(){return 1},e.sourcePath=function(n){return arguments.length?(t=n,e):t},e},ov=0,av=function(){function e(){}var t,n,r,i,o,a,s,l,c=ov++;return e.id=function(t){return arguments.length?(c=t,e):c},e.accessor=function(n){return arguments.length?(t=n,e):t},e.stroke=function(t){return arguments.length?(n=t,e):n||(n=Ad(c))},e.fill=function(t){return arguments.length?(r=t,e):r||(r=Ad(c))},e.echo=function(t){return arguments.length?(i=t,e):i},e.type=function(t){return arguments.length?(o=t,e):o},e.tooltipLabel=function(t){return arguments.length?(a=t,e):"function"==typeof a?a():a},e.domain=function(t){return arguments.length?(s=t,e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e},sv=function(){var e=av().type("EMA").accessor(function(e){return e.ema}),t=jb(),n=bd().algorithm(t).merge(function(e,t){e.ema=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to EMA before calculating");return n(t)};return e.tooltipLabel(function(){return"EMA("+t.windowSize()+")"}),r.undefinedLength=function(){return t.windowSize()},Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize","sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},lv=function(){var e=av().type("SMA").accessor(function(e){return e.sma}),t=Lb(),n=bd().algorithm(t).merge(function(e,t){e.sma=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to SMA before calculating");return n(t)};return r.undefinedLength=function(){return t.windowSize()},e.tooltipLabel(function(){return"SMA("+t.windowSize()+")"}),Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize","undefinedLength","sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},cv=function(){var e=av().type("WMA").accessor(function(e){return e.wma}),t=Fb(),n=bd().algorithm(t).merge(function(e,t){e.wma=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to WMA before calculating");return n(t)};return r.undefinedLength=function(){return t.windowSize()},e.tooltipLabel(function(){return"WMA("+t.windowSize()+")"}),Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize","undefinedLength","sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},uv=function(){var e=av().type("TMA").accessor(function(e){return e.tma}),t=Ib(),n=bd().algorithm(t).merge(function(e,t){e.tma=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to TMA before calculating");return n(t)};return r.undefinedLength=function(){return t.windowSize()},e.tooltipLabel(function(){return"TMA("+t.windowSize()+")"}),Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize","undefinedLength","sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},hv={light:{BollingerBand:{stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00"},fill:"#4682B4"},ElderImpulse:{stroke:{up:"#6BA583",down:"#FF0000",neutral:"#0000FF"}},MACD:{fill:{divergence:"#4682B4"},stroke:{macd:"#FF0000",signal:"#00F300"}},FullStochasticOscillator:{stroke:{D:"#17becf",K:"#ff7f0e"}}},dark:{BollingerBand:{stroke:{top:"#964B00",middle:"#FF6600",bottom:"#964B00"},fill:"#4682B4"},ElderImpulse:{stroke:{up:"#6BA583",down:"#FF0000",neutral:"#0000FF"}},MACD:{fill:{divergence:"#FF6600"},stroke:{macd:"#ea2bff",signal:"#74d400"}},FullStochasticOscillator:{stroke:{D:"#ea2bff",K:"#74d400"}}}},pv=hv.light.BollingerBand,fv=hv.light.ElderImpulse,dv=hv.light.MACD,mv=hv.light.FullStochasticOscillator,yv=function(){var e=av().type("BollingerBand").accessor(function(e){return e.bollingerBand}).stroke(pv.stroke).fill(pv.fill),t=Bb(),n=bd().algorithm(t).merge(function(e,t){e.bollingerBand=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to BollingerBand before calculating");return n(t)};return e.tooltipLabel(function(){return"BB ("+t.windowSize()+", "+t.multiplier()+", "+t.movingAverageType()+"): "}),Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize","movingAverageType","multiplier","sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv=function(){var e=av().type("HeikinAshi").accessor(function(e){return e.ha}),t=Wb(),n=bd().algorithm(t).merge(function(e,t){return gv({},e,t)}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to HeikinAshi before calculating");return n(t)};return Object(bb.rebind)(r,e,"accessor","stroke","fill","echo","type"),Object(bb.rebind)(r,n,"merge"),r},vv=function(){var e=av().type("Kagi"),t=Yb(),n=t;return Object(bb.rebind)(n,e,"id","stroke","fill","echo","type"),Object(bb.rebind)(n,t,"dateAccessor","dateMutator"),Object(bb.rebind)(n,t,"reversalType","windowSize","reversal","sourcePath"),n},wv=function(){var e=av().type("PointAndFigure"),t=Xb(),n=function(e){return t(e)};return Object(bb.rebind)(n,e,"id","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(n,t,"dateAccessor","dateMutator"),Object(bb.rebind)(n,t,"reversal","boxSize","sourcePath"),n},xv=function(){var e=av().type("Renko"),t=Vb(),n=function(e){return t(e)};return Object(bb.rebind)(n,e,"id","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(n,t,"dateAccessor","dateMutator"),Object(bb.rebind)(n,t,"reversalType","fixedBrickSize","sourcePath","windowSize"),n},kv=function(){var e=av().type("MACD").fill(dv.fill).stroke(dv.stroke).accessor(function(e){return e.macd}),t=Gb(),n=bd().algorithm(t).merge(function(e,t){e.macd=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to MACD before calculating");return n(t)};return Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"sourcePath","fast","slow","signal","undefinedLength"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},_v=function(){var e=70,t=50,n=30,r=av().type("RSI").accessor(function(e){return e.rsi}),i=Ub(),o=bd().algorithm(i).merge(function(e,t){e.rsi=t}),a=function(e){if(!r.accessor())throw new Error("Set an accessor to RSI before calculating");return o(e)};return r.tooltipLabel(function(){return"RSI ("+i.windowSize()+"): "}),r.domain([0,100]),r.tickValues([e,t,n]),a.overSold=function(i){return arguments.length?(e=i,r.tickValues([e,t,n]),a):e},a.middle=function(i){return arguments.length?(t=i,r.tickValues([e,t,n]),a):t},a.overBought=function(i){return arguments.length?(n=i,r.tickValues([e,t,n]),a):n},Object(bb.rebind)(a,r,"id","accessor","stroke","fill","echo","type","tooltipLabel","domain","tickValues"),Object(bb.rebind)(a,i,"sourcePath","windowSize"),Object(bb.rebind)(a,o,"merge","skipUndefined"),a},Tv=function(){var e=av().type("ATR").accessor(function(e){return e.atr}),t=qb().windowSize(wb.period),n=bd().algorithm(t).merge(function(e,t){e.atr=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to ATR before calculating");return n(t)};return e.tooltipLabel(function(){return"ATR("+t.windowSize()+")"}),Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},Sv=function(){var e=80,t=20,n=50,r=av().type("RSI").stroke(mv.stroke).accessor(function(e){return e.sto}),i=Kb(),o=bd().algorithm(i).merge(function(e,t){e.sto=t}),a=function(e){if(!r.accessor())throw new Error("Set an accessor to RSI before calculating");return o(e)};return r.tooltipLabel(function(){return"RSI ("+i.windowSize()+", "+i.kWindowSize()+", "+i.dWindowSize()+"): "}),r.domain([0,100]),r.tickValues([e,n,t]),a.overSold=function(i){return arguments.length?(e=i,r.tickValues([e,n,t]),a):e},a.middle=function(i){return arguments.length?(n=i,r.tickValues([e,n,t]),a):n},a.overBought=function(i){return arguments.length?(t=i,r.tickValues([e,n,t]),a):t},Object(bb.rebind)(a,r,"id","accessor","stroke","fill","echo","type","tooltipLabel","domain","tickValues"),Object(bb.rebind)(a,i,"windowSize","kWindowSize","dWindowSize","undefinedLength"),Object(bb.rebind)(a,o,"merge","skipUndefined"),a},Pv=function(){var e=av().type("ForceIndex").accessor(function(e){return e.forceIndex}),t=$b(),n=bd().algorithm(t).merge(function(e,t){e.forceIndex=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to ForceIndex before calculating");return n(t)};return Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type"),Object(bb.rebind)(r,t,"sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},Ev=function(){var e=av().type("SMA").accessor(function(e){return e.sar}),t=tv(),n=bd().algorithm(t).merge(function(e,t){e.sar=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to SMA before calculating");return n(t)};return r.undefinedLength=function(){return t.windowSize()},e.tooltipLabel(function(){return"SMA("+t.windowSize()+")"}),Object(bb.rebind)(r,e,"id","accessor","stroke","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"undefinedLength","accelerationFactor","maxAccelerationFactor"),Object(bb.rebind)(r,n,"merge"),r},Cv=function(){var e=av().type("ElderRay").accessor(function(e){return e.elderRay}),t=Qb(),n=bd().algorithm(t).merge(function(e,t){e.elderRay=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to ElderRay before calculating");return n(t)};return e.tooltipLabel("ElderRay: "),Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type","tooltipLabel"),Object(bb.rebind)(r,t,"windowSize","movingAverageType","sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},Ov=function(){var e=av().type("Change").accessor(function(e){return e.elderRay}),t=iv(),n=bd().algorithm(t).merge(function(e,t){e.absoluteChange=t.absoluteChange,e.percentChange=t.percentChange}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to Change before calculating");return n(t)};return Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type"),Object(bb.rebind)(r,t,"sourcePath"),Object(bb.rebind)(r,n,"merge","skipUndefined"),r},Av=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Mv=function(){var e,t,n=av().type("ElderImpulse").stroke(fv.stroke).fill(void 0),r=vd().windowSize(2).undefinedValue("neutral").accumulator(function(n){var r=Av(n,2),i=r[0],o=r[1];if(Jt(e))throw new Error("macdSource not defined for ElderImpulse calculator");if(Jt(t))throw new Error("emaSource not defined for ElderImpulse calculator");if(Qt(e(i))&&Qt(t(i))){var a=e(i).divergence,s=e(o).divergence,l=t(i),c=t(o);if(s>=a&&c>=l)return"up";if(s<=a&&c<=l)return"down"}return"neutral"}),i=bd().algorithm(r).merge(function(e,t){e.elderImpulse=t}),o=function(e){return i(e)};return o.macdSource=function(t){return arguments.length?(e=t,o):e},o.emaSource=function(e){return arguments.length?(t=e,o):t},Object(bb.rebind)(o,n,"id","echo","type","stroke"),Object(bb.rebind)(o,i,"merge","skipUndefined"),o},Dv=function(){var e=av().type("Compare").accessor(function(e){return e.compare}),t=nv().base(function(e){return e.close}).mainKeys(["open","high","low","close"]),n=bd().algorithm(t).merge(function(e,t){e.compare=t}),r=function(t){if(!e.accessor())throw new Error("Set an accessor to Compare before calculating");return n(t)};return Object(bb.rebind)(r,e,"id","accessor","stroke","fill","echo","type"),Object(bb.rebind)(r,t,"base","mainKeys","compareKeys"),Object(bb.rebind)(r,n,"merge"),r},Nv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jv=function(e){function t(e){Ja(this,t);var n=es(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return ts(t,e),Rv(t,[{key:"render",value:function(){return Tu.a.createElement(ny,{svgDraw:this.renderSVG,drawOnPan:!0})}},{key:"renderSVG",value:function(e){var t=e.xAccessor,n=e.xScale,r=e.chartConfig.yScale,i=e.plotData,o=this.props,a=o.className,s=o.usingProps,l=o.with,c=ns(this.props,i);return Tu.a.createElement("g",{className:"react-stockcharts-enable-interaction "+a},c.map(function(e,o){return Tu.a.createElement(l,Nv({key:o},s,{xScale:n,yScale:r,xAccessor:t,plotData:i,datum:e}))}))}}]),t}(_u.Component);jv.propTypes={className:_u.PropTypes.string.isRequired,with:_u.PropTypes.func,when:_u.PropTypes.func,usingProps:_u.PropTypes.object},jv.defaultProps={className:"react-stockcharts-annotate react-stockcharts-default-cursor"};var Lv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Iv=function(e){function t(e){rs(this,t);var n=is(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return os(t,e),Fv(t,[{key:"handleClick",value:function(e){var t=this.props.onClick;if(t){var n=this.props;t({xScale:n.xScale,yScale:n.yScale,datum:n.datum},e)}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.textAnchor,r=e.fontFamily,i=e.fontSize,o=e.opacity,a=e.rotate,s=this.props,l=s.xAccessor,c=s.xScale,u=s.yScale,h=as(this.props,l,c,u),p=h.xPos,f=h.yPos,d=h.fill,m=h.text,y=h.tooltip;return Tu.a.createElement("g",{className:t},Tu.a.createElement("title",null,y),Tu.a.createElement("text",{x:p,y:f,fontFamily:r,fontSize:i,fill:d,opacity:o,transform:"rotate("+a+", "+p+", "+f+")",onClick:this.handleClick,textAnchor:n},m))}}]),t}(_u.Component);Iv.propTypes={className:_u.PropTypes.string,text:_u.PropTypes.string,textAnchor:_u.PropTypes.string,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,opacity:_u.PropTypes.number,rotate:_u.PropTypes.number,onClick:_u.PropTypes.func,xAccessor:_u.PropTypes.func,xScale:_u.PropTypes.func,yScale:_u.PropTypes.func,datum:_u.PropTypes.object,x:_u.PropTypes.func,y:_u.PropTypes.func};var Bv={textAnchor:"middle",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,fill:"#000000",opacity:1,rotate:0,x:function(e){return(0,e.xScale)((0,e.xAccessor)(e.datum))}};Iv.defaultProps=Lv({},Bv,{className:"react-stockcharts-labelannotation"});var zv=Iv,Wv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qv=function(e){function t(e){ss(this,t);var n=ls(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return cs(t,e),Wv(t,[{key:"handleClick",value:function(e){var t=this.props.onClick;if(t){var n=this.props;t({xScale:n.xScale,yScale:n.yScale,datum:n.datum},e)}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.stroke,r=e.opacity,i=this.props,o=i.xAccessor,a=i.xScale,s=i.yScale,l=i.path,c=us(this.props,o,a,s),u=c.x,h=c.y,p=c.fill,f=c.tooltip;return Tu.a.createElement("g",{className:t,onClick:this.handleClick},Tu.a.createElement("title",null,f),Tu.a.createElement("path",{d:l({x:u,y:h}),stroke:n,fill:p,opacity:r}))}}]),t}(_u.Component);qv.propTypes={className:_u.PropTypes.string,path:_u.PropTypes.func.isRequired,onClick:_u.PropTypes.func,xAccessor:_u.PropTypes.func,xScale:_u.PropTypes.func,yScale:_u.PropTypes.func,datum:_u.PropTypes.object,stroke:_u.PropTypes.string,fill:_u.PropTypes.string,opacity:_u.PropTypes.number},qv.defaultProps={className:"react-stockcharts-svgpathannotation",opacity:1,x:function(e){return(0,e.xScale)((0,e.xAccessor)(e.datum))}};var Hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xv=function(e){function t(e){hs(this,t);var n=ps(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return fs(t,e),Yv(t,[{key:"drawOnCanvas",value:function(e,t){ys(e,this.props,this.context,t)}},{key:"render",value:function(){return Tu.a.createElement($m,{canvasToDraw:this.props.selectCanvas,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas})}},{key:"renderSVG",value:function(e){var t=e.chartConfig;return Tu.a.createElement(zv,Hv({yScale:ms(t)},this.props,{text:ds(this.props)}))}}]),t}(_u.Component);Xv.propTypes={className:_u.PropTypes.string,selectCanvas:_u.PropTypes.func.isRequired,text:_u.PropTypes.oneOfType([_u.PropTypes.string,_u.PropTypes.func]).isRequired},Xv.contextTypes={canvasOriginX:_u.PropTypes.number,canvasOriginY:_u.PropTypes.number,margin:_u.PropTypes.object.isRequired,ratio:_u.PropTypes.number.isRequired},Xv.defaultProps=Hv({},Bv,{selectCanvas:function(e){return e.bg}});var Vv=function(e){return function(){return e}},Gv=function(){return 1e-6*(Math.random()-.5)},Uv=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return bs(this.cover(t,n),t,n,e)},Kv=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>o))return this;var a,s,l=i-n,c=this._root;switch(s=(t<(r+o)/2)<<1|e<(n+i)/2){case 0:do{a=new Array(4),a[s]=c,c=a}while(l*=2,i=n+l,o=r+l,e>i||t>o);break;case 1:do{a=new Array(4),a[s]=c,c=a}while(l*=2,n=i-l,o=r+l,n>e||t>o);break;case 2:do{a=new Array(4),a[s]=c,c=a}while(l*=2,i=n+l,r=o-l,e>i||r>t);break;case 3:do{a=new Array(4),a[s]=c,c=a}while(l*=2,n=i-l,r=o-l,n>e||r>t)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Zv=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},$v=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Qv=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},Jv=function(e,t,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,p=this._x1,f=this._y1,d=[],m=this._root;for(m&&d.push(new Qv(m,u,h,p,f)),null==n?n=1/0:(u=e-n,h=t-n,p=e+n,f=t+n,n*=n);l=d.pop();)if(!(!(m=l.node)||(i=l.x0)>p||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<h))if(m.length){var y=(i+a)/2,g=(o+s)/2;d.push(new Qv(m[3],y,g,a,s),new Qv(m[2],i,g,y,s),new Qv(m[1],y,o,a,g),new Qv(m[0],i,o,y,g)),(c=(t>=g)<<1|e>=y)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=l)}else{var b=e-+this._x.call(null,m.data),v=t-+this._y.call(null,m.data),w=b*b+v*v;if(w<n){var x=Math.sqrt(n=w);u=e-x,h=t-x,p=e+x,f=t+x,r=m.data}}return r},ew=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,c,u,h,p,f=this._root,d=this._x0,m=this._y0,y=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(d+y)/2))?d=s:y=s,(u=a>=(l=(m+g)/2))?m=l:g=l,t=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,p=h)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[p]=f:this._root=f),this):(this._root=i,this)},tw=function(){return this._root},nw=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},rw=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Qv(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Qv(n,c,u,o,a)),(n=l[2])&&s.push(new Qv(n,r,u,c,a)),(n=l[1])&&s.push(new Qv(n,c,i,o,u)),(n=l[0])&&s.push(new Qv(n,r,i,c,u))}return this},iw=function(e){var t,n=[],r=[];for(this._root&&n.push(new Qv(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new Qv(o,a,s,u,h)),(o=i[1])&&n.push(new Qv(o,u,s,l,h)),(o=i[2])&&n.push(new Qv(o,a,h,u,c)),(o=i[3])&&n.push(new Qv(o,u,h,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ow=function(e){return arguments.length?(this._x=e,this):this._x},aw=function(e){return arguments.length?(this._y=e,this):this._y},sw=_s.prototype=Ts.prototype;sw.copy=function(){var e,t,n=new Ts(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ss(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Ss(t));return n},sw.add=Uv,sw.addAll=vs,sw.cover=Kv,sw.data=Zv,sw.extent=$v,sw.find=Jv,sw.remove=ew,sw.removeAll=ws,sw.root=tw,sw.size=nw,sw.visit=rw,sw.visitAfter=iw,sw.x=ow,sw.y=aw;var lw=function(e){function t(){function e(e,t,n,r,i){var o=e.data,s=e.r,f=h+s;{if(!o)return t>c+f||r<c-f||n>u+f||i<u-f;if(o.index>l.index){var d=c-o.x-o.vx,m=u-o.y-o.vy,y=d*d+m*m;y<f*f&&(0===d&&(d=Gv(),y+=d*d),0===m&&(m=Gv(),y+=m*m),y=(f-(y=Math.sqrt(y)))/y*a,l.vx+=(d*=y)*(f=(s*=s)/(p+s)),l.vy+=(m*=y)*f,o.vx-=d*(f=1-f),o.vy-=m*f)}}}for(var t,r,l,c,u,h,p,f=i.length,d=0;d<s;++d)for(r=_s(i,Ps,Es).visitAfter(n),t=0;t<f;++t)l=i[t],h=o[l.index],p=h*h,c=l.x+l.vx,u=l.y+l.vy,r.visit(e)}function n(e){if(e.data)return e.r=o[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function r(){if(i){var t,n,r=i.length;for(o=new Array(r),t=0;t<r;++t)n=i[t],o[n.index]=+e(n,t,i)}}var i,o,a=1,s=1;return"function"!=typeof e&&(e=Vv(null==e?1:+e)),t.initialize=function(e){i=e,r()},t.iterations=function(e){return arguments.length?(s=+e,t):s},t.strength=function(e){return arguments.length?(a=+e,t):a},t.radius=function(n){return arguments.length?(e="function"==typeof n?n:Vv(+n),r(),t):e},t},cw={value:function(){}};Os.prototype=Cs.prototype={constructor:Os,on:function(e,t){var n,r=this._,i=As(e+"",r),o=-1,a=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=Ds(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Ds(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=Ms(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Os(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var uw,hw,pw=Cs,fw=0,dw=0,mw=0,yw=1e3,gw=0,bw=0,vw=0,ww="object"==typeof performance&&performance.now?performance:Date,xw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};js.prototype=Ls.prototype={constructor:js,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ns():+n)+(null==t?0:+t),this._next||hw===this||(hw?hw._next=this:uw=this,hw=this),this._call=e,this._time=n,Ws()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ws())}};var kw=10,_w=Math.PI*(3-Math.sqrt(5)),Tw=function(e){function t(){n(),f.call("tick",o),a<s&&(p.stop(),f.call("end",o))}function n(){var t,n,r=e.length;for(a+=(c-a)*l,h.each(function(e){e(a)}),t=0;t<r;++t)n=e[t],null==n.fx?n.x+=n.vx*=u:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=u:(n.y=n.fy,n.vy=0)}function r(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,isNaN(t.x)||isNaN(t.y)){var i=kw*Math.sqrt(n),o=n*_w;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function i(t){return t.initialize&&t.initialize(e),t}var o,a=1,s=.001,l=1-Math.pow(s,1/300),c=0,u=.6,h=rf(),p=Ls(t),f=pw("tick","end");return null==e&&(e=[]),r(),o={tick:n,restart:function(){return p.restart(t),o},stop:function(){return p.stop(),o},nodes:function(t){return arguments.length?(e=t,r(),h.each(i),o):e},alpha:function(e){return arguments.length?(a=+e,o):a},alphaMin:function(e){return arguments.length?(s=+e,o):s},alphaDecay:function(e){return arguments.length?(l=+e,o):+l},alphaTarget:function(e){return arguments.length?(c=+e,o):c},velocityDecay:function(e){return arguments.length?(u=1-e,o):1-u},force:function(e,t){return arguments.length>1?(null==t?h.remove(e):h.set(e,i(t)),o):h.get(e)},find:function(t,n,r){var i,o,a,s,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)s=e[c],i=t-s.x,o=n-s.y,(a=i*i+o*o)<r&&(l=s,r=a);return l},on:function(e,t){return arguments.length>1?(f.on(e,t),o):f.on(e)}}},Sw=function(e){function t(e){for(var t,n=0,a=r.length;n<a;++n)t=r[n],t.vx+=(o[n]-t.x)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)i[t]=isNaN(o[t]=+e(r[t],t,r))?0:+a(r[t],t,r)}}var r,i,o,a=Vv(.1);return"function"!=typeof e&&(e=Vv(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(a="function"==typeof e?e:Vv(+e),n(),t):a},t.x=function(r){return arguments.length?(e="function"==typeof r?r:Vv(+r),n(),t):e},t},Pw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ew=function(e){function t(e){qs(this,t);var n=Hs(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDragStart=n.handleDragStart.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.handleRightClick=n.handleRightClick.bind(n),n.saveNode=n.saveNode.bind(n),n.state={startPosition:null},n}return Ys(t,e),Pw(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"handleRightClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.onContextMenu,n=nn(e,this.node.getBoundingClientRect());Dm(Gt(this.node)).on(Cd,null).on(Od,null),this.setState({startPosition:null}),t(n,e),this.contextMenuClicked=!0}},{key:"handleDragStart",value:function(e){var t=this.props,n=t.getScale,r=t.getMoreProps,i=n(r());if(this.dragHappened=!1,i.invert){Dm(Gt(this.node)).on(Cd,this.handleDrag).on(Od,this.handleDragEnd);var o=nn(e),a=e.pageX-o[0],s=e.pageY-o[1];this.setState({startPosition:{startXY:o,leftX:a,topY:s,startScale:i}})}e.preventDefault()}},{key:"handleDrag",value:function(){var e=Kd;e.preventDefault();var t=this.state.startPosition,n=this.props,r=n.getMouseDelta,i=n.inverted;if(this.dragHappened=!0,Qt(t)){var o=t.startScale,a=t.startXY,s=t.leftX,l=t.topY,c=[e.pageX-s,e.pageY-l],u=r(a,c),h=$p(o.range()),p=o.range().map(function(e){return i?e-Xs(e-h)*u:e+Xs(e-h)*u}),f=p.map(o.invert);if(Xs($t(o.range())-Md(o.range()))===Xs($t(p)-Md(p))){(0,this.props.axisZoomCallback)(f)}}}},{key:"handleDragEnd",value:function(){var e=this;if(!this.dragHappened)if(this.clicked){var t=Kd,n=nn(t,this.node.getBoundingClientRect()),r=this.props.onDoubleClick;r(n,t)}else this.clicked=!0,setTimeout(function(){e.clicked=!1},300);Dm(Gt(this.node)).on(Cd,null).on(Od,null),this.setState({startPosition:null})}},{key:"render",value:function(){var e=this.props,t=e.bg,n=e.zoomCursorClassName,r=Qt(this.state.startPosition)?n:"react-stockcharts-default-cursor";return Tu.a.createElement("rect",{className:"react-stockcharts-enable-interaction "+r,ref:this.saveNode,x:t.x,y:t.y,opacity:0,height:t.h,width:t.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStart})}}]),t}(_u.Component);Ew.propTypes={innerTickSize:_u.PropTypes.number,outerTickSize:_u.PropTypes.number,tickFormat:_u.PropTypes.func,tickPadding:_u.PropTypes.number,tickSize:_u.PropTypes.number,ticks:_u.PropTypes.number,tickValues:_u.PropTypes.array,showDomain:_u.PropTypes.bool,showTicks:_u.PropTypes.bool,className:_u.PropTypes.string,axisZoomCallback:_u.PropTypes.func,inverted:_u.PropTypes.bool,bg:_u.PropTypes.object.isRequired,zoomCursorClassName:_u.PropTypes.string.isRequired,getMoreProps:_u.PropTypes.func.isRequired,getScale:_u.PropTypes.func.isRequired,getMouseDelta:_u.PropTypes.func.isRequired,onDoubleClick:_u.PropTypes.func.isRequired,onContextMenu:_u.PropTypes.func.isRequired},Ew.defaultProps={onDoubleClick:gd,onContextMenu:gd,inverted:!0};var Cw=Ew,Ow=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Mw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Dw=function(e){function t(e){Vs(this,t);var n=Gs(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n.getMoreProps=n.getMoreProps.bind(n),n}return Us(t,e),Mw(t,[{key:"drawOnCanvas",value:function(e,t){var n=this.props,r=n.showDomain,i=n.showTicks,o=n.transform,a=n.range,s=n.getScale;if(e.save(),e.translate(o[0],o[1]),r&&$s(e,this.props,a),i){el(e,Ks(this.props,s(t)))}e.restore()}},{key:"renderSVG",value:function(e){var t=this.props.className,n=this.props,r=n.showDomain,i=n.showTicks,o=n.range,a=n.getScale,s=i?Js(this.props,a(e)):null,l=r?Zs(this.props,o):null;return Tu.a.createElement("g",{className:t},s,l)}},{key:"getMoreProps",value:function(){return this.refs.propProvider.getMoreProps()}},{key:"render",value:function(){var e=this.props,t=e.bg,n=e.axisZoomCallback,r=e.zoomCursorClassName,i=e.zoomEnabled,o=e.getScale,a=e.inverted,s=this.props,l=s.transform,c=s.getMouseDelta,u=s.edgeClip,h=this.props,p=h.onContextMenu,f=h.onDoubleClick,d=i?Tu.a.createElement(Cw,{bg:t,getScale:o,getMoreProps:this.getMoreProps,getMouseDelta:c,axisZoomCallback:n,zoomCursorClassName:r,onContextMenu:p,inverted:a,onDoubleClick:f}):null;return Tu.a.createElement("g",{transform:"translate("+l[0]+", "+l[1]+")"},d,Tu.a.createElement(ny,{ref:"propProvider",canvasToDraw:Ur,clip:!1,edgeClip:u,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnPan:!0}))}}]),t}(_u.Component);Dw.propTypes={innerTickSize:_u.PropTypes.number,outerTickSize:_u.PropTypes.number,tickFormat:_u.PropTypes.func,tickPadding:_u.PropTypes.number,tickSize:_u.PropTypes.number,ticks:_u.PropTypes.number,tickValues:_u.PropTypes.array,tickInterval:_u.PropTypes.number,showDomain:_u.PropTypes.bool,showTicks:_u.PropTypes.bool,className:_u.PropTypes.string,axisZoomCallback:_u.PropTypes.func,zoomEnabled:_u.PropTypes.bool,inverted:_u.PropTypes.bool,zoomCursorClassName:_u.PropTypes.string,transform:_u.PropTypes.arrayOf(_u.PropTypes.number).isRequired,range:_u.PropTypes.arrayOf(_u.PropTypes.number).isRequired,getMouseDelta:_u.PropTypes.func.isRequired,getScale:_u.PropTypes.func.isRequired,bg:_u.PropTypes.object.isRequired,edgeClip:_u.PropTypes.bool.isRequired,onContextMenu:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func},Dw.defaultProps={zoomEnabled:!1,zoomCursorClassName:"",edgeClip:!1},Qs.propTypes={children:_u.PropTypes.string.isRequired,x1:_u.PropTypes.number.isRequired,y1:_u.PropTypes.number.isRequired,x2:_u.PropTypes.number.isRequired,y2:_u.PropTypes.number.isRequired,labelX:_u.PropTypes.number.isRequired,labelY:_u.PropTypes.number.isRequired,dy:_u.PropTypes.string.isRequired,tickStroke:_u.PropTypes.string,tickStrokeWidth:_u.PropTypes.number,tickStrokeOpacity:_u.PropTypes.number,tickStrokeDasharray:_u.PropTypes.oneOf(Sd),textAnchor:_u.PropTypes.string,fontSize:_u.PropTypes.number,fontFamily:_u.PropTypes.string};var Nw=Dw,Rw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Lw=function(e){function t(e,n){nl(this,t);var r=rl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.axisZoomCallback=r.axisZoomCallback.bind(r),r}return il(t,e),jw(t,[{key:"axisZoomCallback",value:function(e){(0,this.context.xAxisZoom)(e)}},{key:"render",value:function(){var e=this.props.showTicks,t=ol(this.props,this.context);return Tu.a.createElement(Nw,Rw({},this.props,t,{x:!0,zoomEnabled:this.props.zoomEnabled&&e,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-stockcharts-ew-resize-cursor"}))}}]),t}(_u.Component);Lw.propTypes={axisAt:_u.PropTypes.oneOfType([_u.PropTypes.oneOf(["top","bottom","middle"]),_u.PropTypes.number]).isRequired,orient:_u.PropTypes.oneOf(["top","bottom"]).isRequired,innerTickSize:_u.PropTypes.number,outerTickSize:_u.PropTypes.number,tickFormat:_u.PropTypes.func,tickPadding:_u.PropTypes.number,tickSize:_u.PropTypes.number,ticks:_u.PropTypes.number,tickValues:_u.PropTypes.array,showTicks:_u.PropTypes.bool,className:_u.PropTypes.string,zoomEnabled:_u.PropTypes.bool.isRequired,onContextMenu:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func},Lw.defaultProps={showGrid:!1,showTicks:!0,showDomain:!0,className:"react-stockcharts-x-axis",ticks:10,outerTickSize:0,fill:"none",stroke:"#000000",strokeWidth:1,opacity:1,domainClassName:"react-stockcharts-axis-domain",innerTickSize:5,tickPadding:6,tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,xZoomHeight:25,zoomEnabled:!0,getMouseDelta:function(e,t){return e[0]-t[0]}},Lw.contextTypes={chartConfig:_u.PropTypes.object.isRequired,xAxisZoom:_u.PropTypes.func.isRequired};var Fw=Lw,Iw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),zw=function(e){function t(e,n){sl(this,t);var r=ll(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.axisZoomCallback=r.axisZoomCallback.bind(r),r}return cl(t,e),Bw(t,[{key:"axisZoomCallback",value:function(e){var t=this.context,n=t.chartId;(0,t.yAxisZoom)(n,e)}},{key:"render",value:function(){var e=ul(this.props,this.context),t=e.zoomEnabled,n=al(e,["zoomEnabled"]);return Tu.a.createElement(Nw,Iw({},this.props,n,{zoomEnabled:this.props.zoomEnabled&&t,edgeClip:!0,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-stockcharts-ns-resize-cursor"}))}}]),t}(_u.Component);zw.propTypes={axisAt:_u.PropTypes.oneOfType([_u.PropTypes.oneOf(["left","right","middle"]),_u.PropTypes.number]).isRequired,orient:_u.PropTypes.oneOf(["left","right"]).isRequired,innerTickSize:_u.PropTypes.number,outerTickSize:_u.PropTypes.number,tickFormat:_u.PropTypes.func,tickPadding:_u.PropTypes.number,tickSize:_u.PropTypes.number,ticks:_u.PropTypes.number,yZoomWidth:_u.PropTypes.number,tickValues:_u.PropTypes.array,showTicks:_u.PropTypes.bool,className:_u.PropTypes.string,zoomEnabled:_u.PropTypes.bool.isRequired,onContextMenu:_u.PropTypes.func,onDoubleClick:_u.PropTypes.func},zw.defaultProps={showGrid:!1,showTicks:!0,showDomain:!0,className:"react-stockcharts-y-axis",ticks:10,outerTickSize:0,domainClassName:"react-stockcharts-axis-domain",fill:"none",stroke:"#FFFFFF",strokeWidth:1,opacity:1,innerTickSize:5,tickPadding:6,tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12,yZoomWidth:40,zoomEnabled:!0,getMouseDelta:function(e,t){return e[1]-t[1]}},zw.contextTypes={yAxisZoom:_u.PropTypes.func.isRequired,chartId:_u.PropTypes.number.isRequired,chartConfig:_u.PropTypes.object.isRequired};var Ww=zw,qw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yw=function(e){function t(){return hl(this,t),pl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return fl(t,e),Hw(t,[{key:"render",value:function(){return Tu.a.createElement("text",qw({fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},this.props,{className:"react-stockcharts-tooltip"}),this.props.children)}}]),t}(_u.Component);Yw.propTypes={fontFamily:_u.PropTypes.string.isRequired,fontSize:_u.PropTypes.number.isRequired,children:_u.PropTypes.node.isRequired},Yw.defaultProps={fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11};var Xw=Yw,Vw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Uw=function(e){function t(){return dl(this,t),ml(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return yl(t,e),Gw(t,[{key:"render",value:function(){return Tu.a.createElement("tspan",Vw({className:"react-stockcharts-tooltip-label",fill:"#4682B4"},this.props),this.props.children)}}]),t}(_u.Component);Uw.propTypes={children:_u.PropTypes.node.isRequired};var Kw=Uw,Zw=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qw=function(e){function t(e){gl(this,t);var n=bl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return vl(t,e),$w(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,i=t.fontSize,o=t.calculator,a=t.displayFormat,s=t.className,l=e.chartConfig,c=l.width,u=l.height,h=e.currentItem,p=o.accessor(),f=h&&p(h),d=f&&f.macd&&a(f.macd)||"n/a",m=f&&f.signal&&a(f.signal)||"n/a",y=f&&f.divergence&&a(f.divergence)||"n/a",g=this.props.origin,b=Xt(g),v=b(c,u),w=Zw(v,2),x=w[0],k=w[1];return Tu.a.createElement("g",{className:s,transform:"translate("+x+", "+k+")",onClick:n},Tu.a.createElement(Xw,{x:0,y:0,fontFamily:r,fontSize:i},Tu.a.createElement(Kw,null,"MACD ("),Tu.a.createElement("tspan",{fill:o.stroke().macd},o.slow()),Tu.a.createElement(Kw,null,", "),Tu.a.createElement("tspan",{fill:o.stroke().macd},o.fast()),Tu.a.createElement(Kw,null,"): "),Tu.a.createElement("tspan",{fill:o.stroke().macd},d),Tu.a.createElement(Kw,null," Signal ("),Tu.a.createElement("tspan",{fill:o.stroke().signal},o.signal()),Tu.a.createElement(Kw,null,"): "),Tu.a.createElement("tspan",{fill:o.stroke().signal},m),Tu.a.createElement(Kw,null," Divergence: "),Tu.a.createElement("tspan",{fill:o.fill().divergence},y)))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);Qw.propTypes={origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,className:_u.PropTypes.string,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,displayFormat:_u.PropTypes.func.isRequired,onClick:_u.PropTypes.func},Qw.defaultProps={origin:[0,0],displayFormat:Dh(".2f"),className:"react-stockcharts-toottip"};var Jw=Qw,ex=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nx=function(e){function t(e){wl(this,t);var n=xl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return kl(t,e),tx(t,[{key:"renderSVG",value:function(e){var t,n,r,i,o,a,s=this.props.className,l=e.chartConfig,c=l.width,u=l.height,h=e.currentItem,p=this.props,f=p.onClick,d=p.xDisplayFormat,m=p.fontFamily,y=p.fontSize,g=p.accessor,b=p.volumeFormat,v=p.ohlcFormat;if(t=n=r=i=o=a="n/a",Qt(h)&&Qt(g(h))&&Qt(g(h).close)){var w=g(h);a=Qt(w.volume)?b(w.volume):"n/a",t=d(w.date),n=v(w.open),r=v(w.high),i=v(w.low),o=v(w.close)}var x=this.props.origin,k=Xt(x),_=k(c,u),T=ex(_,2),S=T[0],P=T[1];return Tu.a.createElement("g",{className:"react-stockcharts-toottip-hover "+s,transform:"translate("+S+", "+P+")",onClick:f},Tu.a.createElement(Xw,{x:0,y:0,fontFamily:m,fontSize:y},Tu.a.createElement(Kw,{key:"label",x:0,dy:"5"},"Date: "),Tu.a.createElement("tspan",{key:"value"},t),Tu.a.createElement(Kw,{key:"label_O"}," O: "),Tu.a.createElement("tspan",{key:"value_O"},n),Tu.a.createElement(Kw,{key:"label_H"}," H: "),Tu.a.createElement("tspan",{key:"value_H"},r),Tu.a.createElement(Kw,{key:"label_L"}," L: "),Tu.a.createElement("tspan",{key:"value_L"},i),Tu.a.createElement(Kw,{key:"label_C"}," C: "),Tu.a.createElement("tspan",{key:"value_C"},o),Tu.a.createElement(Kw,{key:"label_Vol"}," Vol: "),Tu.a.createElement("tspan",{key:"value_Vol"},a)))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);nx.propTypes={className:_u.PropTypes.string,accessor:_u.PropTypes.func.isRequired,xDisplayFormat:_u.PropTypes.func.isRequired,ohlcFormat:_u.PropTypes.func.isRequired,origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,onClick:_u.PropTypes.func,volumeFormat:_u.PropTypes.func},nx.defaultProps={accessor:function(e){return{date:e.date,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume}},xDisplayFormat:wp("%Y-%m-%d"),volumeFormat:Dh(".4s"),ohlcFormat:Dh(".2f"),origin:[0,0]};var rx=nx,ix=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ox=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ax=function(e){function t(e){_l(this,t);var n=Tl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return Sl(t,e),ox(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,i=t.fontSize,o=t.labelStroke,a=t.valueStroke,s=t.className,l=this.props,c=l.xDisplayFormat,u=l.yDisplayFormat,h=l.xLabel,p=l.yLabel,f=l.xAccessor,d=l.yAccessor,m=e.chartConfig,y=m.width,g=m.height,b=e.currentItem,v=Qt(b)&&Qt(f(b))?c(f(b)):"n/a",w=Qt(b)&&Qt(d(b))?u(d(b)):"n/a",x=this.props.origin,k=Xt(x),_=k(y,g),T=ix(_,2),S=T[0],P=T[1];return Tu.a.createElement("g",{className:s,transform:"translate("+S+", "+P+")",onClick:n},Tu.a.createElement(Xw,{x:0,y:0,fontFamily:r,fontSize:i},h?Tu.a.createElement(Kw,{x:0,dy:"5",fill:o},h+": "):null,h?Tu.a.createElement("tspan",{fill:a},v+" "):null,Tu.a.createElement(Kw,{fill:o},p+": "),Tu.a.createElement("tspan",{fill:a},w)))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);ax.propTypes={xDisplayFormat:_u.PropTypes.func,yDisplayFormat:_u.PropTypes.func.isRequired,xLabel:_u.PropTypes.string,yLabel:_u.PropTypes.oneOfType([_u.PropTypes.string,_u.PropTypes.func]).isRequired,labelStroke:_u.PropTypes.string.isRequired,valueStroke:_u.PropTypes.string,origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,className:_u.PropTypes.string,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,onClick:_u.PropTypes.func,xAccessor:_u.PropTypes.func,yAccessor:_u.PropTypes.func},ax.defaultProps={origin:[0,0],labelStroke:"#4682B4",valueStroke:"#000000",yDisplayFormat:Dh(".2f"),xAccessor:gd,yAccessor:yd,className:"react-stockcharts-toottip"};var sx=ax,lx=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hx=function(e){function t(e){Pl(this,t);var n=El(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return Cl(t,e),ux(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,r=t.forChart,i=t.options;n(cx({chartId:r},i),e)}},{key:"render",value:function(){var e="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return Tu.a.createElement("g",{transform:e},Tu.a.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:this.props.color,strokeWidth:"4px"}),Tu.a.createElement(Xw,{x:5,y:11,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},Tu.a.createElement(Kw,null,this.props.displayName),Tu.a.createElement("tspan",{x:"5",dy:"15"},this.props.value)),Tu.a.createElement("rect",{x:0,y:0,width:55,height:30,onClick:this.handleClick,fill:"none",stroke:"none"}))}}]),t}(_u.Component);hx.propTypes={origin:_u.PropTypes.array.isRequired,color:_u.PropTypes.string.isRequired,displayName:_u.PropTypes.string.isRequired,value:_u.PropTypes.string.isRequired,onClick:_u.PropTypes.func,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,forChart:_u.PropTypes.number.isRequired,options:_u.PropTypes.object.isRequired};var px=function(e){function t(e){Pl(this,t);var n=El(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return Cl(t,e),ux(t,[{key:"renderSVG",value:function(e){var t=e.chartId,n=e.chartConfig,r=e.currentItem,i=this.props,o=i.className,a=i.onClick,s=i.width,l=i.fontFamily,c=i.fontSize,u=i.origin,h=i.calculators,p=i.displayFormat,f=e.chartConfig.height,d=n,m=Xt(u),y=m(s,f),g=lx(y,2),b=g[0],v=g[1],w=lx(d.origin,2),x=w[0],k=w[1];return Tu.a.createElement("g",{transform:"translate("+(x+b)+", "+(k+v)+")",className:o},h.map(function(e,n){var i=r&&e.accessor()(r),o={type:e.type(),windowSize:e.windowSize(),sourcePath:e.sourcePath(),echo:e.echo()},u=i?p(i):"n/a";return Tu.a.createElement(hx,{key:n,origin:[s*n,0],color:e.stroke(),displayName:e.tooltipLabel(),value:u,options:o,forChart:t,onClick:a,fontFamily:l,fontSize:c})}))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);px.propTypes={className:_u.PropTypes.string,displayFormat:_u.PropTypes.func.isRequired,origin:_u.PropTypes.array.isRequired,onClick:_u.PropTypes.func,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,width:_u.PropTypes.number,calculators:_u.PropTypes.array.isRequired,forDataSeries:_u.PropTypes.arrayOf(_u.PropTypes.number)},px.defaultProps={className:"react-stockcharts-toottip react-stockcharts-moving-average-tooltip",displayFormat:Dh(".2f"),origin:[0,10],width:65};var fx=px,dx=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),yx=function(e){function t(e){Ol(this,t);var n=Al(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return Ml(t,e),mx(t,[{key:"renderSVG",value:function(e){var t,n,r,i=this.props,o=i.onClick,a=i.displayFormat,s=i.calculator,l=e.chartConfig,c=l.width,u=l.height,h=e.currentItem;t=n=r="n/a";var p=s.accessor();if(Qt(h)&&Qt(p(h))){var f=p(h);t=a(f.top),n=a(f.middle),r=a(f.bottom)}var d=this.props.origin,m=Xt(d),y=m(c,u),g=dx(y,2),b=g[0],v=g[1],w=Xt(s.tooltipLabel());return Tu.a.createElement("g",{transform:"translate("+b+", "+v+")",className:this.props.className,onClick:o},Tu.a.createElement(Xw,{x:0,y:0,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},Tu.a.createElement(Kw,null,w()),Tu.a.createElement("tspan",null,t+", "+n+", "+r)))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);yx.propTypes={className:_u.PropTypes.string,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,displayFormat:_u.PropTypes.func.isRequired,origin:_u.PropTypes.array.isRequired,onClick:_u.PropTypes.func,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,forDataSeries:_u.PropTypes.number},yx.defaultProps={className:"react-stockcharts-toottip react-stockcharts-bollingerband-tooltip",displayFormat:Dh(".2f"),origin:[0,10]};var gx=yx,bx=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wx=function(e){function t(e){Dl(this,t);var n=Nl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return Rl(t,e),vx(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,i=t.fontSize,o=t.calculator,a=t.displayFormat,s=t.className,l=e.chartConfig,c=l.width,u=l.height,h=e.currentItem,p=o.accessor(),f=Qt(h)&&p(h),d=f&&a(f)||"n/a",m=this.props.origin,y=Xt(m),g=y(c,u),b=bx(g,2),v=b[0],w=b[1];return Tu.a.createElement("g",{className:s,transform:"translate("+v+", "+w+")",onClick:n},Tu.a.createElement(Xw,{x:0,y:0,fontFamily:r,fontSize:i},Tu.a.createElement(Kw,null,o.tooltipLabel()),Tu.a.createElement("tspan",null,d)))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);wx.propTypes={origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,className:_u.PropTypes.string,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,onClick:_u.PropTypes.func,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,displayFormat:_u.PropTypes.func.isRequired},wx.defaultProps={displayFormat:Dh(".2f"),origin:[0,0],className:"react-stockcharts-toottip"};var xx=wx,kx=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Tx=function(e){function t(e){jl(this,t);var n=Ll(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n}return Fl(t,e),_x(t,[{key:"renderSVG",value:function(e){var t=this.props,n=t.onClick,r=t.fontFamily,i=t.fontSize,o=t.calculator,a=t.displayFormat,s=t.children,l=this.props.className,c=e.chartConfig,u=c.width,h=c.height,p=e.currentItem,f=o.accessor(),d=o.stroke(),m=p&&f(p),y=m&&m.K&&a(m.K)||"n/a",g=m&&m.D&&a(m.D)||"n/a",b=s||"Stochastic",v=this.props.origin,w=Xt(v),x=w(u,h),k=kx(x,2),_=k[0],T=k[1];return Tu.a.createElement("g",{className:l,transform:"translate("+_+", "+T+")",onClick:n},Tu.a.createElement(Xw,{x:0,y:0,fontFamily:r,fontSize:i},Tu.a.createElement(Kw,null,b+" %K("),Tu.a.createElement("tspan",{fill:d.K},o.windowSize()+", "+o.kWindowSize()),Tu.a.createElement(Kw,null,"): "),Tu.a.createElement("tspan",{fill:d.K},y),Tu.a.createElement(Kw,null," %D ("),Tu.a.createElement("tspan",{fill:d.D},o.dWindowSize()),Tu.a.createElement(Kw,null,"): "),Tu.a.createElement("tspan",{fill:d.D},g)))}},{key:"render",value:function(){return Tu.a.createElement(ny,{clip:!1,svgDraw:this.renderSVG,drawOnMouseMove:!0})}}]),t}(_u.Component);Tx.propTypes={origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,className:_u.PropTypes.string,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number,onClick:_u.PropTypes.func,calculator:_u.PropTypes.oneOfType([_u.PropTypes.func,_u.PropTypes.object]).isRequired,displayFormat:_u.PropTypes.func.isRequired,children:_u.PropTypes.node.isRequired},Tx.defaultProps={displayFormat:Dh(".2f"),origin:[0,0],className:"react-stockcharts-toottip"};var Sx=Tx,Px=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ex=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cx=function(e){function t(e){Bl(this,t);var n=zl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.drawOnCanvas=n.drawOnCanvas.bind(n),n}return Wl(t,e),Ex(t,[{key:"drawOnCanvas",value:function(e,t){var n=Ql(this.props,t,e),r=t.height;if(Jt(n))return null;Vl(e,this.props,this.context,n,r)}},{key:"render",value:function(){return Tu.a.createElement($m,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOnMouseMove:!0,drawOnPan:!0,drawOnMouseExitOfCanvas:!0})}},{key:"renderSVG",value:function(e){var t=Ql(this.props,e);if(Jt(t))return null;var n=this.props,r=n.bgFill,i=n.bgOpacity,o=n.backgroundShapeSVG,a=n.tooltipSVG,s=this.props,l=s.bgheight,c=s.bgwidth,u=e.height,h=t.x,p=t.y,f=t.content,d=t.centerX,m=t.pointWidth,y=t.bgSize,g=Qt(c)&&Qt(l)?{width:c,height:l}:y;return Tu.a.createElement("g",null,Tu.a.createElement("rect",{x:d-m/2,y:0,width:m,height:u,fill:r,opacity:i}),Tu.a.createElement("g",{className:"react-stockcharts-tooltip-content",transform:"translate("+h+", "+p+")"},o(this.props,g),a(this.props,f)))}}]),t}(_u.Component);Cx.propTypes={chartId:_u.PropTypes.number,yAccessor:_u.PropTypes.func,tooltipSVG:_u.PropTypes.func,backgroundShapeSVG:_u.PropTypes.func,bgwidth:_u.PropTypes.number.isRequired,bgheight:_u.PropTypes.number.isRequired,bgFill:_u.PropTypes.string.isRequired,bgOpacity:_u.PropTypes.number.isRequired,tooltipContent:_u.PropTypes.func.isRequired,origin:_u.PropTypes.oneOfType([_u.PropTypes.array,_u.PropTypes.func]).isRequired,fontFamily:_u.PropTypes.string,fontSize:_u.PropTypes.number},Cx.contextTypes={margin:_u.PropTypes.object.isRequired,ratio:_u.PropTypes.number.isRequired},Cx.defaultProps={tooltipSVG:Hl,tooltipCanvas:Xl,origin:$l,fill:"#D4E2FD",bgFill:"#D4E2FD",bgOpacity:.5,stroke:"#9B9BFF",fontFill:"#000000",opacity:.8,backgroundShapeSVG:ql,backgroundShapeCanvas:Yl,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:12};var Ox=5,Ax=10,Mx=10,Dx=Cx,Nx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rx=function(e){function t(e){Jl(this,t);var n=ec(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={type:n.props.type},n.handleTypeChange=n.handleTypeChange.bind(n),n}return tc(t,e),Nx(t,[{key:"handleTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"render",value:function(){return Tu.a.createElement("div",null,Tu.a.createElement("label",null,"Type: "),Tu.a.createElement("select",{name:"type",id:"type",onChange:this.handleTypeChange,value:this.state.type},Tu.a.createElement("option",{value:"svg"},"svg"),Tu.a.createElement("option",{value:"hybrid"},"canvas + svg")),this.props.children(this.state.type))}}]),t}(_u.Component);Rx.propTypes={type:_u.PropTypes.oneOf(["svg","hybrid"]),children:_u.PropTypes.func.isRequired},Rx.defaultProps={type:"hybrid"};var jx=Rx,Lx=n(1242),Fx=n.n(Lx),Ix={save:function(e,t,n,r){Fx.a.svgAsDataUri(t.getElementsByTagName("svg")[0],{},function(i){var o=new Image;o.onload=function(){var i=e.createElement("canvas");i.width=o.width,i.height=o.height;var a=i.getContext("2d");Qt(n)&&(a.fillStyle=n,a.fillRect(0,0,i.width,i.height));for(var s=t.getElementsByTagName("canvas"),l=0;l<s.length;l++){var c=s[l];if(Qt(c)){var u=c.parentNode.parentNode.getBoundingClientRect(),h=c.getBoundingClientRect();a.drawImage(c,h.left-u.left,h.top-u.top)}}a.drawImage(o,0,0),r(i.toDataURL("image/png"))},o.src=i})},saveWithWhiteBG:function(e,t,n){return this.saveWithBG(e,t,"white",n)},saveWithDarkBG:function(e,t,n){return this.saveWithBG(e,t,"#303030",n)},saveWithBG:function(e,t,n,r){return this.save(e,t,n,r)},saveChartAsImage:function(e){this.saveWithWhiteBG(document,e,function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","Chart.png"),document.body.appendChild(t),t.addEventListener("click",function(){t.parentNode.removeChild(t)}),t.click()})}},Bx=Ix,zx=n(76),Wx=n.n(zx),qx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vx=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Gx=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ux=function(e){function t(e){fc(this,t);var n=dc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.handleEdgeDrag1=n.handleEdgeDrag1.bind(n),n.handleEdgeDrag2=n.handleEdgeDrag2.bind(n),n.handleEdgeDragEnd=n.handleEdgeDragEnd.bind(n),n}return mc(t,e),Gx(t,[{key:"handleMouseDown",value:function(e){e.preventDefault();var t=Gt(this.refs.component.getRef("capture"));Dm(t).on(Cd,this.handleDrag).on(Od,this.handleDragEnd);var n=[e.pageX,e.pageY],r=this.props,i=r.x1Value,o=r.x2Value,a=r.y1Value,s=r.y2Value;this.moveStartPosition={mouseXY:n,x1Value:i,x2Value:o,y1Value:a,y2Value:s}}},{key:"handleDrag",value:function(){var e=Kd,t=this.refs.component.getMoreProps(),n=t.xScale,r=t.chartConfig.yScale,i=t.plotData,o=t.xAccessor,a=this.moveStartPosition,s=a.mouseXY,l=a.x1Value,c=a.x2Value,u=a.y1Value,h=a.y2Value,p=n(l),f=r(u),d=n(c),m=r(h),y=[e.pageX,e.pageY],g=s[0]-y[0],b=s[1]-y[1],v=o(yn(n,o,[p-g,f-b],i)),w=r.invert(f-b),x=o(yn(n,o,[d-g,m-b],i)),k=r.invert(m-b);this.props.onDrag(this.props.echo,{x1Value:v,y1Value:w,x2Value:x,y2Value:k,dx:g,dy:b},{x1Value:l,y1Value:u,x2Value:c,y2Value:h},e)}},{key:"handleDragEnd",value:function(){var e=Kd;this.moveStartPosition=null;var t=Gt(this.refs.component.getRef("capture"));Dm(t).on(Cd,null).on(Od,null),this.props.onDragComplete(this.props.echo,e)}},{key:"handleEdgeDrag1",value:function(e,t,n){var r=Vx(e,2),i=r[0],o=r[1],a=Vx(t,2),s=a[0],l=a[1],c=this.refs.component.getMoreProps(),u=c.xScale,h=c.chartConfig.yScale,p=c.plotData,f=c.xAccessor,d=this.props,m=d.x2Value,y=d.y2Value,g=f(yn(u,f,[i,o],p)),b=h.invert(o),v=f(yn(u,f,[s,l],p)),w=h.invert(l);this.props.onEdge1Drag(this.props.echo,{x1Value:g,y1Value:b,x2Value:m,y2Value:y},{x1Value:v,y1Value:w,x2Value:m,y2Value:y},n)}},{key:"handleEdgeDrag2",value:function(e,t,n){var r=Vx(e,2),i=r[0],o=r[1],a=Vx(t,2),s=a[0],l=a[1],c=this.refs.component.getMoreProps(),u=c.xScale,h=c.chartConfig.yScale,p=c.plotData,f=c.xAccessor,d=this.props,m=d.x1Value,y=d.y1Value,g=f(yn(u,f,[i,o],p)),b=h.invert(o),v=f(yn(u,f,[s,l],p)),w=h.invert(l);this.props.onEdge2Drag(this.props.echo,{x1Value:m,y1Value:y,x2Value:g,y2Value:b},{x1Value:m,y1Value:y,x2Value:v,y2Value:w},n)}},{key:"handleEdgeDragEnd",value:function(e){this.props.onDragComplete(this.props.echo,e)}},{key:"renderSVG",value:function(e){var t=this.props,n=t.x1Value,r=t.x2Value,i=t.y1Value,o=t.y2Value,a=t.withEdge,s=t.type,l=this.props,c=l.defaultClassName,u=l.stroke,h=l.strokeWidth,p=l.opacity,f=this.props,d=f.r,m=f.edgeFill,y=f.edgeStroke,g=f.edgeStrokeWidth,b=f.children,v=e.xScale,w=e.chartConfig.yScale,x=e.plotData,k=e.xAccessor,_=yc(s,[n,i],[r,o],k,x),T=v(_.x1),S=w(_.y1),P=v(_.x2),E=w(_.y2),C=b(e,this.props,_);return Tu.a.createElement("g",{ref:"capture"},Tu.a.createElement("line",{x1:T,y1:S,x2:P,y2:E,stroke:u,strokeWidth:h,opacity:p}),Tu.a.createElement("line",{className:c,onMouseDown:this.handleMouseDown,x1:T,y1:S,x2:P,y2:E,stroke:u,strokeWidth:8,opacity:0}),a?Tu.a.createElement(Kx,{className:c,onDrag:this.handleEdgeDrag1,onDragComplete:this.handleEdgeDragEnd,cx:T,cy:S,r:d,fill:m,stroke:y,strokeWidth:g,hoverOpacity:1}):null,a?Tu.a.createElement(Kx,{className:c,onDrag:this.handleEdgeDrag2,onDragComplete:this.handleEdgeDragEnd,cx:P,cy:E,r:d,fill:m,stroke:y,strokeWidth:g,hoverOpacity:1}):null,C)}},{key:"render",value:function(){return Tu.a.createElement(ny,{ref:"component",svgDraw:this.renderSVG,drawOnPan:!0})}}]),t}(_u.Component);Ux.propTypes={x1Value:_u.PropTypes.any.isRequired,x2Value:_u.PropTypes.any.isRequired,y1Value:_u.PropTypes.any.isRequired,y2Value:_u.PropTypes.any.isRequired,stroke:_u.PropTypes.string.isRequired,strokeWidth:_u.PropTypes.number.isRequired,type:_u.PropTypes.oneOf(["XLINE","RAY","LINE"]).isRequired,onDrag:_u.PropTypes.func.isRequired,onEdge1Drag:_u.PropTypes.func.isRequired,onEdge2Drag:_u.PropTypes.func.isRequired,onDragComplete:_u.PropTypes.func.isRequired,r:_u.PropTypes.number.isRequired,opacity:_u.PropTypes.number.isRequired,edgeFill:_u.PropTypes.string.isRequired,defaultClassName:_u.PropTypes.string,echo:_u.PropTypes.any,edgeStroke:_u.PropTypes.string.isRequired,edgeStrokeWidth:_u.PropTypes.number.isRequired,withEdge:_u.PropTypes.bool.isRequired,children:_u.PropTypes.func.isRequired},Ux.defaultProps={onDrag:gd,onEdge1Drag:gd,onEdge2Drag:gd,onDragComplete:gd,edgeStrokeWidth:3,edgeStroke:"#000000",edgeFill:"#FFFFFF",r:10,withEdge:!1,strokeWidth:1,children:gd};var Kx=function(e){function t(e){fc(this,t);var n=dc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.state={hover:!1},n}return mc(t,e),Gx(t,[{key:"handleMouseEnter",value:function(){this.setState({hover:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hover:!1})}},{key:"handleMouseDown",value:function(e){e.preventDefault();var t=Gt(this.refs.edge);Dm(t).on(Cd,this.handleDrag).on(Od,this.handleDragEnd);var n=[e.pageX,e.pageY],r=this.props,i=r.cx,o=r.cy;this.moveStartPosition={mouseXY:n,cx:i,cy:o}}},{key:"handleDrag",value:function(){var e=Kd,t=[e.pageX,e.pageY],n=this.moveStartPosition,r=n.mouseXY,i=n.cx,o=n.cy,a=r[0]-t[0],s=r[1]-t[1],l=i-a,c=o-s;this.props.onDrag([l,c],[i,o],e)}},{key:"handleDragEnd",value:function(){var e=Kd;this.moveStartPosition=null;var t=Gt(this.refs.edge);Dm(t).on(Cd,null).on(Od,null),this.props.onDragComplete(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cx,r=e.cy,i=e.r,o=e.fill,a=e.stroke,s=e.strokeWidth,l=e.hoverOpacity,c=this.state.hover?l:0;return Tu.a.createElement("circle",{ref:"edge",className:t,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,cx:n,cy:r,r:i,fill:o,stroke:a,strokeWidth:s,opacity:c})}}]),t}(_u.Component);Kx.propTypes={onDrag:_u.PropTypes.func.isRequired,onDragComplete:_u.PropTypes.func.isRequired,hoverOpacity:_u.PropTypes.number.isRequired,strokeWidth:_u.PropTypes.number.isRequired,stroke:_u.PropTypes.string.isRequired,fill:_u.PropTypes.string.isRequired,r:_u.PropTypes.number.isRequired,cx:_u.PropTypes.number.isRequired,cy:_u.PropTypes.number.isRequired,className:_u.PropTypes.string.isRequired},Kx.defaultProps={onDrag:gd,onDragComplete:gd};var Zx=Ux,$x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qx=function(e){function t(e){gc(this,t);var n=bc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSVG=n.renderSVG.bind(n),n.handleMousePosChange=n.handleMousePosChange.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleClick=n.handleClick.bind(n),n.xy=n.xy.bind(n),n.saveNode=n.saveNode.bind(n),n.mutableState={},n}return vc(t,e),$x(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"handleMouseDown",value:function(e){var t=this.node.getMoreProps(),n=this.xy(t,e);if(Qt(n)){var r=n.xValue,i=n.yValue,o=n.x,a=n.y;this.mutableState={x:o,y:a},this.props.onMouseDown([r,i],e)}}},{key:"handleClick",value:function(e){var t=this.node.getMoreProps(),n=this.xy(t,e);if(Qt(n)){var r=n.xValue,i=n.yValue,o=n.x,a=n.y;this.mutableState={x:o,y:a},this.props.onClick([r,i],e)}}},{key:"xy",value:function(e,t){var n=e.xAccessor,r=e.mouseXY,i=e.currentItem,o=e.xScale,a=e.chartConfig.yScale,s=this.props,l=s.enabled,c=s.snap,u=s.shouldDisableSnap,h=s.snapTo;if(l&&Qt(i)&&Qt(t)){var p=n(i),f=c&&!u(t)?Vt(h(i),a.invert(r[1])):a.invert(r[1]);return{xValue:p,yValue:f,x:o(p),y:a(f)}}}},{key:"handleMousePosChange",value:function(e){var t=this.node.getMoreProps();if(!Bt(t.mousXY,this.node.prevMouseXY)){var n=this.xy(t,e);if(Qt(n)){var r=n.xValue,i=n.yValue,o=n.x,a=n.y;this.mutableState={x:o,y:a},this.props.onMouseMove([r,i],e)}}}},{key:"renderSVG",value:function(e){var t=this.props,n=t.enabled,r=t.r,i=t.stroke,o=t.strokeWidth,a=t.opacity,s=this.mutableState,l=s.x,c=s.y,u=e.show;return n&&u&&Qt(l)?Tu.a.createElement("circle",{ref:"capture",className:"react-stockcharts-avoid-interaction",cx:l,cy:c,r:r,stroke:i,opacity:a,fill:"none",strokeWidth:o}):null}},{key:"render",value:function(){return Tu.a.createElement(ny,{ref:this.saveNode,svgDraw:this.renderSVG,onMouseMove:this.handleMousePosChange,isHover:Xt(!0),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleContextMenu,drawOnMouseExitOfCanvas:!0})}}]),t}(_u.Component);Qx.propTypes={enabled:_u.PropTypes.bool.isRequired,snap:_u.PropTypes.bool.isRequired,shouldDisableSnap:_u.PropTypes.func.isRequired,snapTo:_u.PropTypes.func,onMouseMove:_u.PropTypes.func.isRequired,onMouseDown:_u.PropTypes.func.isRequired,onClick:_u.PropTypes.func.isRequired,r:_u.PropTypes.number.isRequired,stroke:_u.PropTypes.string.isRequired,strokeWidth:_u.PropTypes.number.isRequired,opacity:_u.PropTypes.number.isRequired},Qx.defaultProps={onMouseMove:gd,onMouseDown:gd,onClick:gd,shouldDisableSnap:Xt(!1),stroke:"#000000",strokeWidth:1,opacity:1};var Jx=Qx,ek=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),nk=function(e){function t(e){wc(this,t);var n=xc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStartAndEnd=n.handleStartAndEnd.bind(n),n.handleDrawLine=n.handleDrawLine.bind(n),n.handleDragLine=n.handleDragLine.bind(n),n.handleDragLineComplete=n.handleDragLineComplete.bind(n),n.state=n.props.init,n}return kc(t,e),tk(t,[{key:"removeLast",value:function(){var e=this.state.trends;Qt(e)&&e.length>0&&this.setState({trends:e.slice(0,e.length-1)})}},{key:"terminate",value:function(){this.setState({current:null,override:null})}},{key:"handleDragLine",value:function(e,t){this.setState({override:ek({index:e},t)})}},{key:"handleDragLineComplete",value:function(){var e=this.state,t=e.trends,n=e.override,r=t.map(function(e,t){return t===n.index?{start:[n.x1Value,n.y1Value],end:[n.x2Value,n.y2Value]}:e});this.setState({trends:r,override:null})}},{key:"handleDrawLine",value:function(e){var t=this.state.current;Qt(t)&&Qt(t.start)&&this.setState({current:{start:t.start,end:e}})}},{key:"handleStartAndEnd",value:function(e){var t=this,n=this.state,r=n.current,i=n.trends;Jt(r)||Jt(r.start)?this.setState({current:{start:e,end:null}},function(){t.props.onStart()}):this.setState({trends:i.concat({start:r.start,end:e}),current:null},function(){t.props.onComplete()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.stroke,r=t.opacity,i=t.strokeWidth,o=this.props,a=o.enabled,s=o.snap,l=o.shouldDisableSnap,c=o.snapTo,u=o.type,h=this.props,p=h.currentPositionRadius,f=h.currentPositionStroke,d=this.props,m=d.currentPositionOpacity,y=d.currentPositionStrokeWidth,g=this.state,b=g.trends,v=g.current,w=g.override,x=Qt(v)&&Qt(v.end)?Tu.a.createElement(Zx,{type:u,x1Value:v.start[0],y1Value:v.start[1],x2Value:v.end[0],y2Value:v.end[1],stroke:n,strokeWidth:i,opacity:r}):null;return Tu.a.createElement("g",null,b.map(function(t,o){return Tu.a.createElement(Zx,{key:o,withEdge:!0,echo:o,type:u,defaultClassName:"react-stockcharts-enable-interaction react-stockcharts-move-cursor",x1Value:pc(w,o,"x1Value",t.start[0]),y1Value:pc(w,o,"y1Value",t.start[1]),x2Value:pc(w,o,"x2Value",t.end[0]),y2Value:pc(w,o,"y2Value",t.end[1]),stroke:n,strokeWidth:i,opacity:r,onDrag:e.handleDragLine,onEdge1Drag:e.handleDragLine,onEdge2Drag:e.handleDragLine,onDragComplete:e.handleDragLineComplete})}),x,Tu.a.createElement(Jx,{enabled:a,snap:s,shouldDisableSnap:l,snapTo:c,r:p,stroke:f,opacity:m,strokeWidth:y,onMouseDown:this.handleStartAndEnd,onMouseMove:this.handleDrawLine}))}}]),t}(_u.Component);nk.propTypes={snap:_u.PropTypes.bool.isRequired,show:_u.PropTypes.bool,enabled:_u.PropTypes.bool.isRequired,snapTo:_u.PropTypes.func,shouldDisableSnap:_u.PropTypes.func.isRequired,onStart:_u.PropTypes.func.isRequired,onComplete:_u.PropTypes.func.isRequired,interactive:_u.PropTypes.object,strokeWidth:_u.PropTypes.number.isRequired,currentPositionStroke:_u.PropTypes.string,currentPositionStrokeWidth:_u.PropTypes.number,currentPositionOpacity:_u.PropTypes.number,currentPositionRadius:_u.PropTypes.number,stroke:_u.PropTypes.string,opacity:_u.PropTypes.number,type:_u.PropTypes.oneOf(["XLINE","RAY","LINE"]),endPointCircleFill:_u.PropTypes.string,endPointCircleRadius:_u.PropTypes.number,init:_u.PropTypes.object.isRequired},nk.contextTypes={xAccessor:_u.PropTypes.func.isRequired},nk.defaultProps={stroke:"#000000",type:"XLINE",opacity:.7,strokeWidth:2,onStart:gd,onComplete:gd,shouldDisableSnap:function(e){return 2===e.button||e.shiftKey},currentPositionStroke:"#000000",currentPositionOpacity:1,currentPositionStrokeWidth:3,currentPositionRadius:4,endPointCircleFill:"#000000",endPointCircleRadius:5,init:{trends:[]}};var rk=nk,ik=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ak=function(e){function t(e){Tc(this,t);var n=Sc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStartAndEnd=n.handleStartAndEnd.bind(n),n.handleDrawRetracement=n.handleDrawRetracement.bind(n),n.handleEdge1Drag=n.handleEdge1Drag.bind(n),n.handleEdge2Drag=n.handleEdge2Drag.bind(n),n.handleDrag=n.handleDrag.bind(n),n.handleDragComplete=n.handleDragComplete.bind(n),n.state=n.props.init,n}return Pc(t,e),ok(t,[{key:"removeLast",value:function(){var e=this.state.retracements;Qt(e)&&e.length>0&&this.setState({retracements:e.slice(0,e.length-1)})}},{key:"terminate",value:function(){this.setState({current:null,override:null})}},{key:"handleStartAndEnd",value:function(e){var t=this,n=this.state,r=n.current,i=n.retracements;Jt(r)||Jt(r.x1)?this.setState({current:{x1:e[0],y1:e[1],x2:null,y2:null}},function(){t.props.onStart()}):this.setState({retracements:i.concat(ik({},r,{x2:e[0],y2:e[1]})),current:null},function(){t.props.onComplete()})}},{key:"handleDrawRetracement",value:function(e){var t=this.state.current;Qt(t)&&Qt(t.x1)&&this.setState({current:ik({},t,{x2:e[0],y2:e[1]})})}},{key:"handleDrag",value:function(e,t,n){var r=this.state.retracements,i=e.index,o=n.y1Value-t.y1Value;this.setState({override:{index:i,x1:t.x1Value,y1:r[i].y1-o,x2:t.x2Value,y2:r[i].y2-o}})}},{key:"handleEdge1Drag",value:function(e,t,n){var r=this.state.retracements,i=e.index,o=n.x1Value-t.x1Value;this.setState({override:{index:i,x1:r[i].x1-o,y1:r[i].y1,x2:r[i].x2,y2:r[i].y2}})}},{key:"handleEdge2Drag",value:function(e,t,n){var r=this.state.retracements,i=e.index,o=n.x2Value-t.x2Value;this.setState({override:{index:i,x1:r[i].x1,y1:r[i].y1,x2:r[i].x2-o,y2:r[i].y2}})}},{key:"handleDragComplete",value:function(){var e=this.state,t=e.retracements,n=e.override;if(Qt(n)){var r=n.index,i=_c(n,["index"]),o=t.map(function(e,t){return t===r?i:e});this.setState({override:null,retracements:o})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.retracements,r=t.current,i=t.override,o=this.props,a=o.stroke,s=o.strokeWidth,l=o.opacity,c=o.fontFamily,u=o.fontSize,h=o.fontStroke,p=o.type,f="EXTEND"===p?"XLINE":"LINE",d=this.props.enabled,m=null;if(Qt(r)&&Qt(r.x2)){var y=Cc(r),g=Zt(y).y1>$t(y).y1?3:-1.3;m=y.map(function(e,t){var n=e.y.toFixed(2)+" ("+e.percent.toFixed(2)+"%)";return Tu.a.createElement(Zx,{key:t,type:f,x1Value:e.x1,y1Value:e.y,x2Value:e.x2,y2Value:e.y,childProps:{dir:g,text:n,fontFamily:c,fontSize:u,fontStroke:h},stroke:a,strokeWidth:s,opacity:l},Ec)})}return Tu.a.createElement("g",null,n.map(function(t,n){var r=Cc(Qt(i)&&i.index===n?i:t),o=Zt(r).y1>$t(r).y1?3:-1.3;return r.map(function(t,r){var i=t.y.toFixed(2)+" ("+t.percent.toFixed(2)+"%)";return Tu.a.createElement(Zx,{key:n+"-"+r,withEdge:!0,echo:{index:n,idx:r},type:f,defaultClassName:"react-stockcharts-enable-interaction react-stockcharts-move-cursor",x1Value:t.x1,y1Value:t.y,x2Value:t.x2,y2Value:t.y,childProps:{dir:o,text:i,fontFamily:c,fontSize:u,fontStroke:h},stroke:a,strokeWidth:s,opacity:l,onEdge1Drag:e.handleEdge1Drag,onEdge2Drag:e.handleEdge2Drag,onDrag:e.handleDrag,onDragComplete:e.handleDragComplete},Ec)})}),m,Tu.a.createElement(Jx,{enabled:d,snap:!1,r:0,onMouseDown:this.handleStartAndEnd,onMouseMove:this.handleDrawRetracement}))}}]),t}(_u.Component);ak.propTypes={enabled:_u.PropTypes.bool.isRequired,fontFamily:_u.PropTypes.string.isRequired,fontSize:_u.PropTypes.number.isRequired,chartCanvasType:_u.PropTypes.string,interactive:_u.PropTypes.object,width:_u.PropTypes.number,strokeWidth:_u.PropTypes.number,stroke:_u.PropTypes.string,opacity:_u.PropTypes.number,fontStroke:_u.PropTypes.string,onStart:_u.PropTypes.func,onComplete:_u.PropTypes.func,type:_u.PropTypes.oneOf(["EXTEND","BOUND"]).isRequired,mouseXY:_u.PropTypes.array,currentItem:_u.PropTypes.object,interactiveState:_u.PropTypes.object,overrideInteractive:_u.PropTypes.func,childProps:_u.PropTypes.any,init:_u.PropTypes.object.isRequired},ak.defaultProps={enabled:!0,stroke:"#000000",strokeWidth:1,opacity:.4,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:10,fontStroke:"#000000",type:"EXTEND",init:{retracements:[]},onStart:gd,onComplete:gd};var sk=ak,lk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ck=function(e){function t(e){Oc(this,t);var n=Ac(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleContextMenu=n.handleContextMenu.bind(n),n.saveNode=n.saveNode.bind(n),n.getClickProps=n.getClickProps.bind(n),n}return Mc(t,e),lk(t,[{key:"saveNode",value:function(e){this.node=e}},{key:"getClickProps",value:function(){var e=this.node.getMoreProps(),t=e.mouseXY,n=e.currentItem,r=e.chartConfig,i=e.displayXAccessor,o=r.yScale,a=o.invert(t[1]);return{xy:[i(n),a],mouseXY:t,currentItem:n}}},{key:"handleContextMenu",value:function(e){this.props.onContextMenu(this.getClickProps(),e)}},{key:"handleClick",value:function(e){this.props.onClick(this.getClickProps(),e)}},{key:"render",value:function(){return Tu.a.createElement(ny,{ref:this.saveNode,svgDraw:Xt(null),isHover:Xt(!0),onClick:this.handleClick,onContextMenu:this.handleContextMenu})}}]),t}(_u.Component);ck.drawOnCanvas=gd,ck.propTypes={onClick:_u.PropTypes.func.isRequired,onContextMenu:_u.PropTypes.func.isRequired},ck.defaultProps={onClick:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)},onContextMenu:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)}};var uk=ck,hk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),fk=function(e){function t(e){Dc(this,t);var n=Nc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStartAndEnd=n.handleStartAndEnd.bind(n),n.handleDrawBrush=n.handleDrawBrush.bind(n),n.state={},n}return Rc(t,e),pk(t,[{key:"terminate",value:function(){this.setState({x1:null,y1:null,x2:null,y2:null,startItem:null,startClick:null,rect:null})}},{key:"handleDrawBrush",value:function(){var e=this.refs.component.getMoreProps(),t=e.xScale,n=e.mouseXY,r=e.currentItem,i=e.chartConfig,o=e.xAccessor,a=this.props.enabled,s=this.state,l=s.startClick,c=s.startItem;if(a&&Qt(c)){var u=i.yScale,h=u.invert(l[1]),p=u.invert(n[1]),f=t(o(c)),d=u(h),m=t(o(r)),y=u(p),g=Math.abs(y-d),b=Math.abs(m-f);this.setState({rect:{x:Math.min(f,m),y:Math.min(d,y),height:g,width:b}})}}},{key:"handleStartAndEnd",value:function(e){var t=this.refs.component.getMoreProps(),n=t.mouseXY,r=t.currentItem,i=t.chartConfig,o=t.displayXAccessor,a=this.props,s=a.enabled,l=a.onBrush;if(s){var c=this.state,u=c.x1,h=c.y1,p=c.startItem,f=c.startClick,d=i.yScale,m=o(r),y=d.invert(n[1]);Qt(p)?(l({x1:u,y1:h,x2:o(r),y2:y,startItem:p,currentItem:r,startClick:f,mouseXY:n},e),this.terminate()):this.setState({x1:m,y1:y,x2:null,y2:null,startItem:r,startClick:n})}}},{key:"render",value:function(){var e=this.state.rect,t=this.props,n=t.fill,r=t.stroke,i=t.opacity,o={fill:n,stroke:r,opacity:i};return Tu.a.createElement("g",null,Qt(e)?Tu.a.createElement("rect",hk({},e,o)):null,Tu.a.createElement(ny,{ref:"component",svgDraw:this.renderSVG,isHover:Xt(!0),onMouseDown:this.handleStartAndEnd,onMouseMove:this.handleDrawBrush,drawOnMouseExitOfCanvas:!0}))}}]),t}(_u.Component);fk.propTypes={enabled:_u.PropTypes.bool.isRequired,onStart:_u.PropTypes.func.isRequired,onBrush:_u.PropTypes.func.isRequired,type:_u.PropTypes.oneOf(["1D","2D"]),stroke:_u.PropTypes.string,fill:_u.PropTypes.string,opacity:_u.PropTypes.number,interactiveState:_u.PropTypes.object},fk.defaultProps={type:"2D",stroke:"#000000",opacity:.3,fill:"#3h3h3h",onBrush:gd,onStart:gd};var dk=fk,mk=n(1235),yk=n.n(mk),gk=n(125),bk=n(75),vk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xk=fu.CandlestickSeries,kk=fu.BarSeries,_k=fu.LineSeries,Tk=fu.AreaSeries,Sk=fu.BollingerSeries,Pk=fu.MACDSeries,Ek=vu.XAxis,Ck=vu.YAxis,Ok=xu.fitWidth,Ak=du.discontinuousTimeScaleProvider,Mk=mu.EdgeIndicator,Dk=bu.ema,Nk=bu.sma,Rk=bu.macd,jk=bu.bollingerBand,Lk=mu.CrossHairCursor,Fk=mu.MouseCoordinateX,Ik=mu.MouseCoordinateY,Bk=mu.CurrentCoordinate,zk=ku.FibonacciRetracement,Wk=ku.TrendLine,qk=wu.OHLCTooltip,Hk=wu.MovingAverageTooltip,Yk=wu.BollingerBandTooltip,Xk=wu.MACDTooltip,Vk=function(e){function t(e){Lc(this,t);var n=Fc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.base.get("precision"),i=e.quote.get("precision"),o=Dh("."+r+"f"),a=wp("%Y-%m-%d %H:%M"),s=Dh("."+i+"r");return n.state={enableTrendLine:!1,enableFib:!1,tools:[],priceFormat:o,timeFormatter:a,volumeFormat:s,margin:{left:75,right:75,top:20,bottom:30},calculators:n._getCalculators(e)},n.onTrendLineComplete=n.onTrendLineComplete.bind(n),n.onFibComplete=n.onFibComplete.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n}return Ic(t,e),wk(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress,{capture:!1,passive:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyPress)}},{key:"onTrendLineComplete",value:function(){this.setState({enableTrendLine:!1})}},{key:"onFibComplete",value:function(){this.setState({enableFib:!1})}},{key:"onKeyPress",value:function(e){var t=Object(gk.cloneDeep)(this.state.tools),n=this.refs[t[t.length-1]];switch(e.which){case 46:n&&n.removeLast(),t.pop(),this.setState({tools:t});break;case 27:n&&n.terminate();try{this.setState(jc({},enableFib,!1))}catch(e){}}}},{key:"componentWillReceiveProps",value:function(e){var t=Object(gk.cloneDeep)(this.state.tools);e.tools&&e.tools.trendline&&(this.setState({enableTrendLine:!0}),t.push("enableTrendLine")),e.tools&&e.tools.fib&&(this.setState({enableFib:!0}),t.push("enableFib")),this.setState({tools:t}),ju.a.are_equal_shallow(e.indicators,this.props.indicators)&&ju.a.are_equal_shallow(e.indicatorSettings,this.props.indicatorSettings)||this.setState({calculators:this._getCalculators(e)})}},{key:"_getThemeColors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return yk.a[e.theme]}},{key:"_getCalculators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this._getThemeColors(e),n=t.positiveColor,r=t.negativeColor,i=e.indicatorSettings,o={};return o.sma=Nk().windowSize(parseInt(i.sma,10)).sourcePath("close").stroke("#1f77b4").fill("#1f77b4").merge(function(e,t){e.sma=t}).accessor(function(e){return e.sma}),o.ema1=Dk().windowSize(parseInt(i.ema1,10)).merge(function(e,t){e.ema1=t}).accessor(function(e){return e.ema1}),o.ema2=Dk().windowSize(parseInt(i.ema2,10)).merge(function(e,t){e.ema2=t}).accessor(function(e){return e.ema2}),o.smaVolume=Nk().windowSize(parseInt(i.smaVolume,10)).sourcePath("volume").merge(function(e,t){e.smaVolume=t}).stroke("#1f77b4").fill("#1f77b4").accessor(function(e){return e.smaVolume}),o.bb=jk().merge(function(e,t){e.bb=t}).accessor(function(e){return e.bb}),o.macd=Rk().fast(12).slow(26).signal(9).stroke({macd:r,signal:n}).merge(function(e,t){e.macd=t}).accessor(function(e){return e.macd}),o}},{key:"_renderVolumeChart",value:function(e){var t=this.props,n=t.height,r=t.indicators,i=this.state,o=i.timeFormatter,a=i.volumeFormat,s=i.calculators,l=this._getThemeColors(),c=l.axisLineColor,u=l.volumeColor,h=l.indicatorLineColor;return Tu.a.createElement(Fd,{id:2,yExtents:[function(e){return e.volume},s.smaVolume.accessor()],height:.2*n,origin:function(t,r){return[0,r-e*n*.2]}},r.macd?null:Tu.a.createElement(Ek,{tickStroke:c,stroke:c,axisAt:"bottom",orient:"bottom",opacity:.5}),Tu.a.createElement(Ck,{tickStroke:c,stroke:c,axisAt:"left",orient:"left",ticks:4,tickFormat:a}),r.macd?null:Tu.a.createElement(Fk,{id:1,rectWidth:125,at:"bottom",orient:"bottom",displayFormat:o}),Tu.a.createElement(Ik,{id:1,rectWidth:65,at:"left",orient:"left",displayFormat:a}),Tu.a.createElement(Ik,{id:0,rectWidth:65,at:"right",orient:"right",displayFormat:a}),Tu.a.createElement(kk,{yAccessor:function(e){return e.volume},fill:u}),r.smaVolume?Tu.a.createElement(Tk,{yAccessor:s.smaVolume.accessor(),stroke:s.smaVolume.stroke(),fill:s.smaVolume.fill()}):null,r.smaVolume?Tu.a.createElement(Bk,{yAccessor:s.smaVolume.accessor(),fill:s.smaVolume.stroke()}):null,Tu.a.createElement(Bk,{yAccessor:function(e){return e.volume},fill:u}),Tu.a.createElement(Mk,{lineStroke:h,rectWidth:65,itemType:"first",orient:"left",edgeAt:"left",yAccessor:function(e){return e.volume},displayFormat:a,fill:"#0F0F0F"}),Tu.a.createElement(Mk,{lineStroke:h,rectWidth:65,itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.volume},displayFormat:a,fill:"#0F0F0F"}),r.smaVolume?Tu.a.createElement(Mk,{lineStroke:h,rectWidth:65,itemType:"first",orient:"left",edgeAt:"left",yAccessor:s.smaVolume.accessor(),displayFormat:a,fill:s.smaVolume.fill()}):null,r.smaVolume?Tu.a.createElement(Mk,{lineStroke:h,rectWidth:65,itemType:"last",orient:"right",edgeAt:"right",yAccessor:s.smaVolume.accessor(),displayFormat:a,fill:s.smaVolume.fill()}):null)}},{key:"_renderCandleStickChart",value:function(e,t){var n=this.props,r=n.height,i=n.width,o=n.showVolumeChart,a=n.indicators,s=this.state,l=s.timeFormatter,c=s.volumeFormat,u=s.priceFormat,h=s.margin,p=s.enableTrendLine,f=s.enableFib,d=s.calculators,m=this._getThemeColors(),y=m.positiveColor,g=m.negativeColor,b=m.axisLineColor,v=m.indicatorLineColor,w=(h.top,h.bottom,h.left,h.right,{});return Tu.a.createElement(Fd,{id:1,height:r*((e?1:.9)-.2*e),yExtents:[function(e){return[e.high,e.low]},d.ema1.accessor(),d.ema2.accessor(),d.sma.accessor()],padding:{top:10,bottom:20}},a.macd||o?null:Tu.a.createElement(Ek,{tickStroke:b,stroke:b,axisAt:"bottom",orient:"bottom",opacity:.5}),Tu.a.createElement(Ck,vk({axisAt:"right",orient:"right"},w,{ticks:5,tickStroke:b,stroke:b})),a.macd||o?null:Tu.a.createElement(Fk,{id:1,rectWidth:125,at:"bottom",orient:"bottom",displayFormat:l}),Tu.a.createElement(Ik,{id:1,rectWidth:65,at:"left",orient:"left",displayFormat:u}),Tu.a.createElement(Ik,{id:0,rectWidth:65,at:"right",orient:"right",displayFormat:u}),Tu.a.createElement(xk,{wickStroke:function(e){return e.close>e.open?y:g},fill:function(e){return e.close>e.open?y:g},opacity:.8}),a.bb?Tu.a.createElement(Sk,{calculator:d.bb}):null,a.sma?Tu.a.createElement(_k,{yAccessor:d.sma.accessor(),stroke:d.sma.stroke()}):null,a.ema1?Tu.a.createElement(_k,{yAccessor:d.ema1.accessor(),stroke:d.ema1.stroke()}):null,a.ema2?Tu.a.createElement(_k,{yAccessor:d.ema2.accessor(),stroke:d.ema2.stroke()}):null,a.sma?Tu.a.createElement(Bk,{yAccessor:d.sma.accessor(),fill:d.sma.stroke()}):null,a.ema1?Tu.a.createElement(Bk,{yAccessor:d.ema1.accessor(),fill:d.ema1.stroke()}):null,a.ema2?Tu.a.createElement(Bk,{yAccessor:d.ema2.accessor(),fill:d.ema2.stroke()}):null,Tu.a.createElement(Mk,{lineStroke:v,rectWidth:65,itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},displayFormat:u,fill:function(e){return e.close>e.open?y:g}}),Tu.a.createElement(Mk,{lineStroke:v,rectWidth:65,itemType:"first",orient:"left",edgeAt:"left",yAccessor:function(e){return e.close},displayFormat:u,fill:function(e){return e.close>e.open?y:g}}),Tu.a.createElement(qk,{xDisplayFormat:l,volumeFormat:c,ohlcFormat:u,origin:[-40,-10]}),t.length?Tu.a.createElement(Hk,{origin:[-40,0],calculators:t}):null,a.bb?Tu.a.createElement(Yk,{origin:[-40,40],calculator:d.bb}):null,Tu.a.createElement(Wk,{ref:"enableTrendLine",enabled:p,type:"LINE",snap:!0,snapTo:function(e){return[e.high,e.low]},onComplete:this.onTrendLineComplete,stroke:b,fontStroke:b}),Tu.a.createElement(zk,{ref:"enableFib",enabled:f,type:"BOUND",onComplete:this.onFibComplete,stroke:b,fontStroke:b}))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.priceData,r=e.height,i=e.ratio,o=e.theme,a=e.zoom,s=e.indicators,l=e.showVolumeChart,c=this.state,u=c.timeFormatter,h=c.enableFib,p=c.enableTrendLine,f=c.margin,d=c.calculators,m=yk.a[o],y=m.axisLineColor,g=m.indicatorLineColor,b=l?1:0,v=[],w=[],x=["sma","ema1","ema2","smaVolume"];for(var k in s)if(s[k]){if(-1!==k.toLowerCase().indexOf("volume")&&!l)continue;v.push(d[k]),-1!==x.indexOf(k)&&w.push(d[k])}s.macd&&b++;var _=new Date((new Date).getTime()-1e3*a),T="all"===a?n:n.filter(function(e){return e.date>_});return Tu.a.createElement(Gm,{ratio:i,width:t-20,height:r,seriesName:"PriceChart",margin:f,data:T,calculator:v,xAccessor:function(e){return e.date},xScaleProvider:Ak,xExtents:[T[0].date,T[T.length-1].date],type:"hybrid",className:"ps-child no-overflow Stockcharts__wrapper ps-must-propagate",drawMode:p||h},">",l?this._renderVolumeChart(b):Tu.a.createElement("span",null),this._renderCandleStickChart(b,w),s.macd?Tu.a.createElement(Fd,{id:3,height:.2*r,yExtents:d.macd.accessor(),origin:function(e,t){return[0,t-(b-(l?1:0))*r*.2]},padding:{top:40,bottom:10}},Tu.a.createElement(Ek,{tickStroke:y,stroke:y,axisAt:"bottom",orient:"bottom"}),Tu.a.createElement(Ck,{tickStroke:y,stroke:y,axisAt:"right",orient:"right",ticks:2}),Tu.a.createElement(Fk,{rectWidth:125,at:"bottom",orient:"bottom",displayFormat:u}),Tu.a.createElement(Ik,{at:"right",orient:"right",displayFormat:Dh(".2f")}),Tu.a.createElement(Pk,{calculator:d.macd}),Tu.a.createElement(Xk,{origin:[-40,35],calculator:d.macd})):Tu.a.createElement("span",null),Tu.a.createElement(Lk,{stroke:g}))}}]),t}(Tu.a.Component);Vk=Ok(Vk);var Gk=function(e){function t(){Lc(this,t);var e=Fc(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={dropdowns:{indicators:!1,tools:!1,settings:!1}},e._onInputHeight=e._onInputHeight.bind(e),e._listener=e._listener.bind(e),e}return Ic(t,e),wk(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(!e.marketReady&&!this.props.marketReady)&&(!(!e.priceData.length&&!this.props.priceData.length)&&!(ju.a.are_equal_shallow(e.priceData,this.props.priceData)&&ju.a.are_equal_shallow(e.indicators,this.props.indicators)&&ju.a.are_equal_shallow(e.indicatorSettings,this.props.indicatorSettings)&&ju.a.are_equal_shallow(e.tools,this.props.tools)&&ju.a.are_equal_shallow(t,this.state)&&e.height===this.props.height&&e.chartHeight===this.props.chartHeight&&e.width===this.props.width&&e.leftOrderBook===this.props.leftOrderBook&&e.zoom===this.props.zoom&&e.showVolumeChart===this.props.showVolumeChart))}},{key:"componentDidUpdate",value:function(e){e.leftOrderBook!==this.props.leftOrderBook&&this.refs.FitWidth&&this.refs.FitWidth.handleWindowResize()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._listener)}},{key:"_toggleTools",value:function(e){this._resetDropdowns(),this.props.onChangeTool(e),this.forceUpdate()}},{key:"_changeSettings",value:function(e,t){t.persist(),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()}},{key:"_onInputHeight",value:function(e){var t=e.target.value;this.props.onChangeChartHeight({value:parseInt(t,10)})}},{key:"_toggleDropdown",value:function(e,t){t.stopPropagation();var n=this.state.dropdowns,r={};for(var i in this.state.dropdowns)r[i]=i===e&&!n[i];r[e]&&document.addEventListener("click",this._listener,{capture:!1,passive:!0}),this.setState({dropdowns:r})}},{key:"_listener",value:function(){this._resetDropdowns(),document.removeEventListener("click",this._listener)}},{key:"_stopPropagation",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"_resetDropdowns",value:function(){var e={};for(var t in this.state.dropdowns)e[t]=!1;this.setState({dropdowns:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPeriod,r=t.buckets,i=t.bucketSize,o=t.indicators,a=t.indicatorSettings,s=this.state.dropdowns,l=function(e){return"all"===e?sh.a.translate("exchange.zoom_all"):e<60?e+"s":e<3600?e/60+"m":e<86400?e/3600+"h":e<604800?e/86400+"d":e<2592e3?e/604800+"w":e/2592e3+"m"},c=r.filter(function(e){return e>240}).map(function(t){return Tu.a.createElement("div",{key:t,className:zu()("label bucket-option",{"active-bucket":i===t}),onClick:e.props.changeBucketSize.bind(e,t)},l(t))}),u=[21600,172800,345600,604800,1209600,2592e3,7776e3,"all"],h=u.map(function(t){return Tu.a.createElement("div",{key:t,className:zu()("label bucket-option",{"active-bucket":n===t}),onClick:e.props.changeZoomPeriod.bind(e,t)},l(t))}),p=[],f=Object.keys(o).map(function(t){var n=t in a,r=n?Tu.a.createElement("div",{style:{float:"right",clear:"both"}},Tu.a.createElement("div",{className:"inline-block",style:{paddingRight:5}},Tu.a.createElement(Fu.a,{content:"exchange.chart_options.period"}),":"),Tu.a.createElement("input",{style:{margin:0},type:"number",value:a[t],onChange:e.props.onChangeIndicatorSetting.bind(null,t)})):null;return-1===t.toLowerCase().indexOf("volume")?Tu.a.createElement("li",{className:"indicator",key:t},Tu.a.createElement("input",{className:"clickable",type:"checkbox",checked:o[t],onClick:e.props.onChangeIndicators.bind(null,t)}),Tu.a.createElement("div",{className:"clickable"},Tu.a.createElement(Fu.a,{content:"exchange.chart_options."+t,onClick:e.props.onChangeIndicators.bind(null,t)})),r):e.props.showVolumeChart?void p.push(Tu.a.createElement("li",{className:"indicator",key:t},Tu.a.createElement("input",{className:"clickable",type:"checkbox",checked:o[t],onClick:e.props.onChangeIndicators.bind(null,t)}),Tu.a.createElement("div",{onClick:e.props.onChangeIndicators.bind(null,t),className:"clickable"},Tu.a.createElement(Fu.a,{content:"exchange.chart_options."+t})),r)):null}).filter(function(e){return!!e}),d=Object.keys(this.props.tools).map(function(t){return Tu.a.createElement("li",{className:"clickable",key:t,onClick:e._toggleTools.bind(e,t)},Tu.a.createElement("div",{style:{marginLeft:5},className:"inline-block"},Tu.a.createElement(Fu.a,{content:"exchange.chart_options."+t})))}),m=["volume","height"].map(function(t){var n=void 0;switch(t){case"height":n=Tu.a.createElement("li",{className:"indicator",key:t},Tu.a.createElement("div",{style:{marginLeft:0,paddingRight:10}},Tu.a.createElement("div",null,Tu.a.createElement(Fu.a,{content:"exchange.chart_options.height"}),":")),Tu.a.createElement("div",null,Tu.a.createElement("input",{style:{margin:0,textAlign:"right",maxWidth:75},value:e.props.chartHeight,type:"number",onChange:e._onInputHeight})));break;case"volume":n=Tu.a.createElement("li",{className:"clickable indicator",key:t,onClick:e.props.onToggleVolume},Tu.a.createElement("input",{type:"checkbox",checked:e.props.showVolumeChart}),Tu.a.createElement("div",null,Tu.a.createElement(Fu.a,{content:"exchange.chart_options."+t})));break;default:n=Tu.a.createElement("li",{key:t},"TBD")}return n});return this.props.priceData.length?Tu.a.createElement("div",{className:"no-margin no-padding",style:{overflow:"visible",width:"100%"}},Tu.a.createElement(Vk,vk({ref:"FitWidth"},this.props)),Tu.a.createElement("div",{style:{paddingBottom:10}},Tu.a.createElement("ul",{style:{justifyContent:"center"},className:"market-stats stats bottom-stats"},Tu.a.createElement("li",{className:"stat"},Tu.a.createElement("span",null,Tu.a.createElement("span",null,Tu.a.createElement(Fu.a,{content:"exchange.zoom"}),":"),Tu.a.createElement("span",null,h))),Tu.a.createElement("li",{className:"stat"},Tu.a.createElement("span",null,Tu.a.createElement("span",null,Tu.a.createElement(Fu.a,{content:"exchange.time"}),":"),Tu.a.createElement("span",null,c))),Tu.a.createElement("li",{className:"stat input custom-dropdown"},Tu.a.createElement("div",{className:"v-align indicators clickable",onClick:this._toggleDropdown.bind(this,"indicators")},Tu.a.createElement(Fu.a,{content:"exchange.chart_options.title"})),s.indicators?Tu.a.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},Tu.a.createElement("ul",null,Tu.a.createElement("li",{className:"indicator-title"},Tu.a.createElement(Fu.a,{content:"exchange.chart_options.price_title"})),f,p.length?Tu.a.createElement("li",{className:"indicator-title"},Tu.a.createElement(Fu.a,{content:"exchange.chart_options.volume_title"})):null,p)):null),Tu.a.createElement("li",{className:"stat input custom-dropdown"},Tu.a.createElement("div",{className:"v-align indicators clickable",onClick:this._toggleDropdown.bind(this,"tools")},Tu.a.createElement(Fu.a,{content:"exchange.chart_options.tools"})),s.tools?Tu.a.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},Tu.a.createElement("ul",null,d)):null),Tu.a.createElement("li",{className:"stat input custom-dropdown"},Tu.a.createElement("div",{className:"indicators clickable",onClick:this._toggleDropdown.bind(this,"settings")},Tu.a.createElement(bk.a,{className:"icon-14px settings-cog",name:"cog"})),s.settings?Tu.a.createElement("div",{className:"custom-dropdown-content",onClick:this._stopPropagation},Tu.a.createElement("ul",null,m)):null)))):Tu.a.createElement("div",{className:"grid-content text-center"},Tu.a.createElement("div",{style:{paddingTop:this.props.height/2,height:this.props.height}},Tu.a.createElement(Fu.a,{content:"exchange.no_data",component:"h2"})))}}]),t}(Tu.a.Component),Uk=Gk,Kk=n(256),Zk=n(1212),$k=n.n(Zk),Qk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Jk=function(e){function t(){return Bc(this,t),zc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Wc(t,e),Qk(t,[{key:"shouldComponentUpdate",value:function(e){var t=!isNaN(e.settlementPrice)&&e.settlementPrice!==this.props.settlementPrice;return Object(ph.h)(e.orders,this.props.orders)||Object(ph.h)(e.call_orders,this.props.call_orders)||t||e.feedPrice!==this.props.feedPrice||e.height!==this.props.height||e.leftOrderBook!==this.props.leftOrderBook||e.LCP!==this.props.LCP||e.showCallLimit!==this.props.showCallLimit||e.hasPrediction!==this.props.hasPrediction||e.settlementPrice!==this.props.settlementPrice||e.marketReady!==this.props.marketReady}},{key:"componentDidMount",value:function(){this.reflowChart(500)}},{key:"componentWillReceiveProps",value:function(e){this.refs.depthChart&&e.verticalOrderbook!==this.props.verticalOrderbook&&this.reflowChart(100)}},{key:"reflowChart",value:function(e){var t=this;setTimeout(function(){t.refs.depthChart&&t.refs.depthChart.chart.reflow()},e)}},{key:"_getThemeColors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return yk.a[e.theme]}},{key:"render",value:function(){function e(e,t){for(;t[t.length-1][0]*e<1;)e*=10;return e}function t(e){e.length&&e.forEach(function(e){e[0]*=C})}var n=this.props,r=n.flat_bids,i=n.flat_asks,o=n.flat_calls,a=n.flat_settles,s=n.totalBids,l=n.totalAsks,c=n.base,u=n.quote,h=n.settlementPrice,p=this._getThemeColors(),f=p.primaryText,d=p.callColor,m=p.settleColor,y=p.settleFillColor,g=p.bidColor,b=p.bidFillColor,v=p.askColor,w=p.askFillColor,x=p.axisLineColor,k=c.get("symbol"),_=u.get("symbol"),T=Object(gk.cloneDeep)(r),S=Object(gk.cloneDeep)(i),P=Object(gk.cloneDeep)(o),E=Object(gk.cloneDeep)(a),C=1;r.length?C=e(C,r):i.length?C=e(C,i):o&&o.length?C=e(C,o):a&&a.length&&(C=e(C,a)),1!==(C*=10)&&(t(T),t(S),t(P),t(E));var O={chart:{type:"area",backgroundColor:"rgba(255, 0, 0, 0)",spacing:[10,0,5,0]},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},dataGrouping:{enabled:!1},tooltip:{shared:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",useHTML:!0,formatter:function(){return"\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>"+sh.a.translate("exchange.price")+':</td>\n\t\t\t\t\t\t\t<td style="text-align: right">'+ju.a.format_number(this.x/C,c.get("precision"))+" "+k+"</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>"+sh.a.translate("exchange.quantity")+':</td>\n\t\t\t\t\t\t\t<td style="text-align: right">'+ju.a.format_number(this.y,u.get("precision"))+" "+_+"</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t\t"},style:{color:"#FFFFFF"}},series:[],yAxis:{labels:{enabled:!0,style:{color:f},formatter:function(){return ju.a.format_number(this.value,u.get("precision"))}},opposite:!1,title:{text:null,style:{color:"#FFFFFF"}},gridLineWidth:1,gridLineColor:"rgba(196, 196, 196, 0.30)",gridZIndex:1,crosshair:{snap:!1},currentPriceIndicator:{enabled:!1}},xAxis:{labels:{style:{color:f},formatter:function(){return this.value/C}},ordinal:!1,lineColor:"#000000",title:{text:null},plotLines:[]},plotOptions:{area:{animation:!1,marker:{enabled:!1},series:{enableMouseTracking:!1}}}};if(T.length>0&&S.length>0){var A=(S[0][0]+T[T.length-1][0])/2;O.xAxis.min=.4*A,O.xAxis.max=1.6*A,O.xAxis.max<S[0][0]&&(O.xAxis.max=1.5*S[0][0]),O.xAxis.min>T[T.length-1][0]&&(O.xAxis.min=.5*T[T.length-1][0]);var M=0;T.forEach(function(e){e[0]>=O.xAxis.min&&(M=Math.max(e[1],M))}),S.forEach(function(e){e[0]<=O.xAxis.max&&(M=Math.max(e[1],M))}),O.yAxis.max=1.15*M;var D=M>10?0:M>1?2:5;O.yAxis.labels.formatter=function(){return ju.a.format_number(this.value,D)}}else T.length&&!S.length?(O.xAxis.min=.4*T[T.length-1][0],O.xAxis.max=1.6*T[T.length-1][0]):S.length&&!T.length&&(O.xAxis.min=0,O.xAxis.max=2*S[0][0]);return this.props.hasPrediction&&(O.xAxis.min=-.05*C,O.xAxis.max=1.05*C),this.props.LCP&&O.xAxis.plotLines.push({color:x,id:"plot_line",dashStyle:"longdash",value:this.props.LCP*C,label:{text:sh.a.translate("explorer.block.call_limit"),style:{color:f,fontWeight:"bold"}},width:2,zIndex:5}),h&&(O.xAxis.plotLines.push({color:"#7B1616",id:"plot_line",dashStyle:"solid",value:h*C,label:{text:sh.a.translate("explorer.block.settlement_price"),style:{color:f,fontWeight:"bold"}},width:2,zIndex:5}),P&&P.length&&O.series.push({name:"Call "+_,data:P,color:d})),h&&E&&E.length&&O.series.push({name:"Settle "+_,data:E,color:m,fillColor:y}),T.length&&O.series.push({step:"right",name:"Bid "+_,data:T,color:g,fillColor:b}),S.length&&O.series.push({step:"left",name:"Ask "+_,data:S,color:v,fillColor:w}),this.props.height?O.chart.height=this.props.height:O.chart.height="400px",this.props.onClick&&(O.chart.events={click:this.props.onClick.bind(this,C)}),this.props.noFrame?Tu.a.createElement("div",{className:"grid-content no-overflow no-padding"},T.length||S.length||P.length?null:Tu.a.createElement("span",{className:"no-data"},Tu.a.createElement(Fu.a,{content:"exchange.no_data"})),this.props.noText?null:Tu.a.createElement("p",{className:"bid-total"},ju.a.format_number(s,c.get("precision"))," ",k),this.props.noText?null:Tu.a.createElement("p",{className:"ask-total"},ju.a.format_number(l,u.get("precision"))," ",_),T||S||P?Tu.a.createElement($k.a,{config:O}):null):Tu.a.createElement("div",{className:"grid-content no-overflow no-padding middle-content"},Tu.a.createElement("div",{className:"exchange-bordered",style:{margin:10}},Tu.a.createElement("div",{className:"exchange-content-header"},this.props.noText?null:Tu.a.createElement("span",{className:"bid-total"},ju.a.format_number(s,c.get("precision"))," ",Tu.a.createElement(Hu.a,{name:k})),this.props.noText?null:Tu.a.createElement("span",{className:"ask-total float-right"},ju.a.format_number(l,u.get("precision"))," ",Tu.a.createElement(Hu.a,{name:_}))),T.length||S.length||P.length?null:Tu.a.createElement("span",{className:"no-data"},Tu.a.createElement(Fu.a,{content:"exchange.no_data"})),T||S||P?Tu.a.createElement($k.a,{ref:"depthChart",config:O}):null))}}]),t}(Tu.a.Component);Jk.defaultProps={flat_bids:[],flat_asks:[],orders:{},quoteSymbol:"",baseSymbol:"",noText:!1,noFrame:!0},Jk.propTypes={flat_bids:_u.PropTypes.array.isRequired,flat_asks:_u.PropTypes.array.isRequired,orders:_u.PropTypes.object.isRequired,baseSymbol:_u.PropTypes.string.isRequired,quoteSymbol:_u.PropTypes.string.isRequired};var e_=Jk,t_=n(1214),n_=n(126),r_=n(1243),i_=n.n(r_),o_=n(35),a_=n.n(o_),s_=n(389),l_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c_=eh.c.operations,u_=Object.keys(c_),h_=function(e){function t(){return qc(this,t),Hc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Yc(t,e),l_(t,[{key:"componentWillReceiveProps",value:function(e){if(e.account.size&&this.props.account.get("history")){var t=this.props.account.get("history")&&this.props.account.get("history").first()?this.props.account.get("history").first().toJS():null,n=e.account.get("history")&&e.account.get("history").first()?e.account.get("history").first().toJS():null;n&&t&&"fill_order"===u_[n.op[0]]&&(!t&&n.id||n.id!==t.id)&&(a_.a.publish("account-notify","open"),setTimeout(function(){a_.a.publish("account-notify","close")},5e3))}}},{key:"shouldComponentUpdate",value:function(e){return!$u.a.is(e.account.get("history"),this.props.account.get("history"))||!$u.a.is(e.account,this.props.account)}},{key:"render",value:function(){var e=this.props.account;if(!e)return Tu.a.createElement("div",null);var t=void 0,n=void 0;return this.props.account.get("history")&&this.props.account.get("history").size&&(t=this.props.account.get("history").first().toJS())&&(n=Tu.a.createElement(s_.a,{key:t.id,op:t.op,result:t.result,block:t.block_num,current:e.get("id"),hideDate:!0,hideFee:!0})),t?Tu.a.createElement(i_.a.Static,{id:"account-notify",title:null,image:"",wrapperElement:"div"},Tu.a.createElement("table",{className:"table"},Tu.a.createElement("tbody",null,n))):Tu.a.createElement("div",null)}}]),t}(Tu.a.Component);h_.propTypes={account:lh.a.ChainAccount.isRequired},h_=Object(ch.a)(h_,{keep_updating:!0});var p_=h_,f_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d_=function(e){function t(){return Xc(this,t),Vc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Gc(t,e),f_(t,[{key:"render",value:function(){return Tu.a.createElement(Au.a,{stores:[Pu.a],inject:{account:function(){return Pu.a.getState().currentAccount}}},Tu.a.createElement(p_,null))}}]),t}(Tu.a.Component),m_=d_,y_=n(127),g_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b_=function(e){function t(){return Uc(this,t),Kc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Zc(t,e),g_(t,[{key:"show",value:function(){var e="modal_confirm_"+this.props.type;a_.a.publish(e,"open")}},{key:"_onForce",value:function(e,t){var n="modal_confirm_"+this.props.type;t.preventDefault(),a_.a.publish(n,"close"),e&&this.props.onForce()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.diff,r=e.hasOrders;return Tu.a.createElement(y_.a,{id:"modal_confirm_"+t,overlay:!0},Tu.a.createElement(Fu.a,{component:"h3",content:"transaction.confirm"}),Tu.a.createElement("div",{className:"grid-block vertical"},r?Tu.a.createElement(Fu.a,{content:"exchange.confirm_"+t,diff:ju.a.format_number(n,2)}):Tu.a.createElement(Fu.a,{content:"exchange.confirm_no_orders_"+t}),Tu.a.createElement("div",{className:"button-group",style:{paddingTop:"2rem"}},Tu.a.createElement("input",{onClick:this._onForce.bind(this,!0),className:"button success",type:"submit",value:"Yes"}),Tu.a.createElement("input",{onClick:this._onForce.bind(this,!1),className:"button info",type:"submit",value:"No"}))))}}]),t}(Tu.a.Component),v_=b_,w_=(n(93),n(107)),x_=n(257),k_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),__=function(e){function t(){return $c(this,t),Qc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Jc(t,e),k_(t,[{key:"render",value:function(){var e=this.props,t=e.baseSymbol,n=e.quoteSymbol;return Tu.a.createElement("thead",null,Tu.a.createElement("tr",null,Tu.a.createElement("th",{style:{textAlign:"right"}},Tu.a.createElement(Fu.a,{content:"exchange.price"}),Tu.a.createElement("br",null),t?Tu.a.createElement("span",{className:"header-sub-title"},"(",Tu.a.createElement(Hu.a,{name:t}),"/",Tu.a.createElement(Hu.a,{name:n}),")"):null),Tu.a.createElement("th",{style:{textAlign:"right"}},Tu.a.createElement(Fu.a,{content:"transfer.amount"}),Tu.a.createElement("br",null),n?Tu.a.createElement("span",{className:"header-sub-title"},"(",Tu.a.createElement(Hu.a,{name:n}),")"):null),Tu.a.createElement("th",{style:{textAlign:"right"}},Tu.a.createElement(Fu.a,{content:"transaction.settlement_date"}),Tu.a.createElement("br",null),Tu.a.createElement("span",{style:{visibility:"hidden"},className:"header-sub-title"},"d"))))}}]),t}(Tu.a.Component);__.defaultProps={quoteSymbol:null,baseSymbol:null};var T_=function(e){function t(){return $c(this,t),Qc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Jc(t,e),k_(t,[{key:"render",value:function(){var e=this.props,t=e.quote,n=e.order,r=e.showSymbols,i=r?" "+t.get("symbol"):null;return Tu.a.createElement("tr",null,Tu.a.createElement("td",null,ju.a.format_number(n.getPrice(),t.get("precision"))," ",i),Tu.a.createElement("td",null,Tu.a.createElement(w_.a,{amount:n[n.isBid()?"amountToReceive":"amountForSale"]().getAmount(),asset:n[n.isBid()?"amountToReceive":"amountForSale"]().asset_id})),Tu.a.createElement("td",null,Tu.a.createElement(x_.a,{time:n.settlement_date})))}}]),t}(Tu.a.Component);T_.defaultProps={showSymbols:!1,invert:!1};var S_=function(e){function t(){return $c(this,t),Qc(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Jc(t,e),k_(t,[{key:"shouldComponentUpdate",value:function(e){return e.currentAccount!==this.props.currentAccount||e.orders!==this.props.orders}},{key:"render",value:function(){var e=this.props,t=e.orders,n=e.base,r=e.quote,i=e.quoteSymbol,o=e.baseSymbol,a=null;if(!(t.size>0&&n&&r))return null;var s=0;return a=t.sort(function(e,t){return e.isBefore(t)?-1:1}).map(function(e){return Tu.a.createElement(T_,{key:s++,order:e,base:n,quote:r})}).toArray(),Tu.a.createElement("div",{key:"open_orders",className:"grid-block no-overflow small-12 no-padding vertical medium-horizontal middle-content"},Tu.a.createElement("div",{className:"small-6 order-1",style:{paddingBottom:"1rem"}},Tu.a.createElement("div",{className:"exchange-bordered"},Tu.a.createElement("div",{className:"exchange-content-header"},Tu.a.createElement(Fu.a,{content:"exchange.settle_orders"})),Tu.a.createElement("div",{className:"grid-block",style:{maxHeight:"400px",overflow:"hidden"},ref:"orders"},Tu.a.createElement("table",{className:"table order-table text-right table-hover"},Tu.a.createElement(__,{type:"buy",baseSymbol:o,quoteSymbol:i}),Tu.a.createElement("tbody",{ref:"orders"},a))))))}}]),t}(Tu.a.Component);S_.defaultProps={base:{},quote:{},orders:{},quoteSymbol:"",baseSymbol:""},S_.propTypes={base:_u.PropTypes.object.isRequired,quote:_u.PropTypes.object.isRequired,orders:_u.PropTypes.object.isRequired,quoteSymbol:_u.PropTypes.string.isRequired,baseSymbol:_u.PropTypes.string.isRequired};var P_=S_,E_=n(1213),C_=n.n(E_),O_=n(128),A_=n.n(O_),M_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D_=function(e){function t(){eu(this,t);var e=tu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={change:null},e}return nu(t,e),M_(t,[{key:"shouldComponentUpdate",value:function(e){return!(!e.volume2||e.volume2===this.props.volume2)||(e.price!==this.props.price||e.ready!==this.props.ready)}},{key:"componentWillReceiveProps",value:function(e){e.ready&&this.props.ready?this.setState({change:parseFloat(e.price)-parseFloat(this.props.price)}):this.setState({change:0})}},{key:"componentDidUpdate",value:function(){A_.a.rebuild()}},{key:"render",value:function(){var e=this.props,t=e.base,n=e.quote,r=e.price,i=e.content,o=e.ready,a=e.volume,s=e.volume2,l=e.toolTip,c=this.state.change,u=null;c&&null!==c&&(u=c>0?"change-up":"change-down");var h=a?ju.a.format_volume(r):ju.a.price_text(r,n,t),p=s?ju.a.format_volume(s):null,f=c&&null!==c?Tu.a.createElement("span",{className:u}," ","change-up"===u?Tu.a.createElement("span",null,"↑"):Tu.a.createElement("span",null,"↓")):null;return Tu.a.createElement("li",{className:zu()("stat",this.props.className),"data-place":"bottom","data-tip":l},Tu.a.createElement("span",null,i?Tu.a.createElement("span",null,Tu.a.createElement(Fu.a,{content:i}),":"):null,Tu.a.createElement("br",null),Tu.a.createElement("b",{className:"value stat-primary"},o?h:0," ",f),Tu.a.createElement("span",{className:"symbol-text"},Tu.a.createElement(Hu.a,{name:t.get("symbol")}),n&&!a?Tu.a.createElement("span",null,"/",Tu.a.createElement(Hu.a,{name:n.get("symbol")})):null)),"number"==typeof s?Tu.a.createElement("span",null,Tu.a.createElement("span",null),Tu.a.createElement("b",{className:"value stat-primary"},o?Tu.a.createElement("span",null," / ",p):0," ",f),Tu.a.createElement("span",{className:"symbol-text"},Tu.a.createElement(Hu.a,{name:n.get("symbol")}))):null)}}]),t}(Tu.a.Component),N_=D_,R_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j_=function(e){function t(){return ru(this,t),iu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ou(t,e),R_(t,[{key:"shouldComponentUpdate",value:function(e){return!!e.marketReady}},{key:"_addMarket",value:function(e,t){var n=e+"_"+t;this.props.starredMarkets.has(n)?Iu.a.removeStarMarket(e,t):Iu.a.addStarMarket(e,t)}},{key:"render",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset,r=e.starredMarkets,i=e.hasPrediction,o=e.feedPrice,a=e.showCallLimit,s=e.lowestCallPrice,l=e.marketReady,c=e.latestPrice,u=(e.currentPeriod,e.marketStats),h=e.showDepthChart,p=(e.buckets,e.bucketSize,e.showIndicators,e.onBorrowBase,e.onBorrowQuote,e.indicators,e.indicatorSettings,n.get("symbol")),f=t.get("symbol"),d=f+"_"+p,m=r.has(d)?"gold-star":"grey-star",y=u.get("change"),g=0===parseFloat(y)?"":parseFloat(y)<0?"negative":"positive",b=""===g?"":"positive"===g?"change-up":"change-down",v=u.get("volumeBase"),w=u.get("volumeQuote");return Tu.a.createElement("div",{className:"grid-block shrink no-padding overflow-visible top-bar"},Tu.a.createElement("div",{className:"grid-block overflow-visible"},Tu.a.createElement("div",{className:"grid-block shrink show-for-large",style:{borderRight:"1px solid grey"}},Tu.a.createElement("div",{className:"v-align"},Tu.a.createElement("span",{style:{paddingRight:0},onClick:this._addMarket.bind(this,f,p),className:"market-symbol"},Tu.a.createElement(bk.a,{className:m,name:"fi-star"})),i?Tu.a.createElement("a",{className:"market-symbol"},Tu.a.createElement("span",null,f+" : "+p)):Tu.a.createElement(Ku.b,{onClick:function(){Mu.a.switchMarket()},className:"market-symbol",to:"/market/"+p+"_"+f},Tu.a.createElement("span",null,Tu.a.createElement(Hu.a,{name:f,replace:!0})," : ",Tu.a.createElement(Hu.a,{name:p,replace:!0}))))),Tu.a.createElement("div",{className:"grid-block vertical",style:{overflow:"visible"}},Tu.a.createElement("div",{className:"grid-block wrap market-stats-container"},Tu.a.createElement("ul",{className:"market-stats stats top-stats"},c?Tu.a.createElement(N_,{ready:l,price:c.full,quote:t,base:n,content:"exchange.latest"}):null,Tu.a.createElement("li",{className:"stat"},Tu.a.createElement("span",null,Tu.a.createElement(Fu.a,{component:"span",content:"account.hour_24"}),Tu.a.createElement("br",null),Tu.a.createElement("b",{className:"value "+g},l?y:0,Tu.a.createElement("span",{className:b}," ",""===b?null:"change-up"===b?Tu.a.createElement("span",null,"↑"):Tu.a.createElement("span",null,"↓"))),Tu.a.createElement("span",null,"%"))),v>=0?Tu.a.createElement(N_,{ready:l,decimals:0,volume:!0,price:v,className:"column-hide-small",volume2:w,base:n,quote:t,content:"exchange.volume_24"}):null,!i&&o?Tu.a.createElement(N_,{toolTip:sh.a.translate("tooltip.settle_price"),ready:l,className:"column-hide-small",price:o.toReal(),quote:t,base:n,content:"exchange.settle"}):null,s&&a?Tu.a.createElement(N_,{toolTip:sh.a.translate("tooltip.call_limit"),ready:l,className:"column-hide-medium is-call",price:s,quote:t,base:n,content:"explorer.block.call_limit"}):null,o&&a?Tu.a.createElement(N_,{toolTip:sh.a.translate("tooltip.margin_price"),ready:l,className:"column-hide-medium is-call",price:o.getSqueezePrice({real:!0}),quote:t,base:n,content:"exchange.squeeze"}):null),Tu.a.createElement("ul",{className:"market-stats stats top-stats"},Tu.a.createElement("li",{className:"stat input clickable v-align",style:{borderLeft:"1px solid grey",borderRight:"none",padding:"3px 15px 0 15px"},onClick:this.props.onToggleCharts},Tu.a.createElement("div",{className:"v-align indicators"},h?Tu.a.createElement(Fu.a,{content:"exchange.price_history"}):Tu.a.createElement(Fu.a,{content:"exchange.order_depth"}))))))))}}]),t}(Tu.a.Component),L_=j_,F_=n(12),I_=n(1197),B_=n(385),z_=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),W_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();C_.a.setOptions({global:{useUTC:!1}});var q_=function(e){function t(e){su(this,t);var n=lu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._initialState(e),n._getWindowSize=Object(gk.debounce)(n._getWindowSize.bind(n),150),n._checkFeeStatus=n._checkFeeStatus.bind(n),n}return cu(t,e),W_(t,[{key:"_initialState",value:function(e){var t=e.viewSettings,n={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new ph.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")}),to_receive:new ph.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")})};n.price=new ph.f({base:n.for_sale,quote:n.to_receive});var r={forSaleText:"",toReceiveText:"",priceText:"",for_sale:new ph.a({asset_id:e.quoteAsset.get("id"),precision:e.quoteAsset.get("precision")}),to_receive:new ph.a({asset_id:e.baseAsset.get("id"),precision:e.baseAsset.get("precision")})};r.price=new ph.f({base:r.for_sale,quote:r.to_receive});var i=t.get("indicators",{}),o={};[["sma",!0],["ema1",!1],["ema2",!1],["smaVolume",!0],["macd",!1],["bb",!1]].forEach(function(e){o[e[0]]=e[0]in i?i[e[0]]:e[1]});var a=t.get("indicatorSettings",{}),s={};return[["sma",7],["ema1",20],["ema2",50],["smaVolume",30]].forEach(function(e){s[e[0]]=e[0]in a?a[e[0]]:e[1]}),{history:[],buySellOpen:t.get("buySellOpen",!0),bid:n,ask:r,flipBuySell:t.get("flipBuySell",!1),favorite:!1,showDepthChart:t.get("showDepthChart",!1),leftOrderBook:t.get("leftOrderBook",!1),buyDiff:!1,sellDiff:!1,indicators:o,buySellTop:t.get("buySellTop",!0),buyFeeAssetIdx:t.get("buyFeeAssetIdx",0),sellFeeAssetIdx:t.get("sellFeeAssetIdx",0),indicatorSettings:s,tools:{fib:!1,trendline:!1},height:window.innerHeight,width:window.innerWidth,chartHeight:t.get("chartHeight",425),currentPeriod:t.get("currentPeriod",7776e3)}}},{key:"_getLastMarketKey",value:function(){var e=F_.Apis.instance().chain_id;return"lastMarket"+(e?"_"+e.substr(0,8):"")}},{key:"componentWillMount",value:function(){"4018d784"===F_.Apis.instance().chain_id.substr(0,8)&&(I_.a.fetchCoins.defer(),I_.a.fetchBridgeCoins.defer()),this._checkFeeStatus()}},{key:"componentDidMount",value:function(){var e=this.refs.center;e&&Ru.a.initialize(e),Iu.a.changeViewSetting.defer(au({},this._getLastMarketKey(),this.props.quoteAsset.get("symbol")+"_"+this.props.baseAsset.get("symbol"))),window.addEventListener("resize",this._getWindowSize,{capture:!1,passive:!0})}},{key:"shouldComponentUpdate",value:function(e){return!(!e.marketReady&&!this.props.marketReady)}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[this.props.coreAsset,this.props.baseAsset,this.props.quoteAsset],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.currentAccount,r={},i=[];t.forEach(function(e){i.push(Object(B_.b)({accountID:n.get("id"),feeID:e.get("id"),type:"limit_order_create"}))}),Promise.all(i).then(function(n){t.forEach(function(e,t){r[e.get("id")]=n[t]}),ju.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r})})}},{key:"_getWindowSize",value:function(){var e=window,t=e.innerHeight,n=e.innerWidth;t===this.state.height&&n===this.state.width||this.setState({height:t,width:n})}},{key:"componentWillReceiveProps",value:function(e){return e.quoteAsset===this.props.quoteAsset&&e.baseAsset===this.props.baseAsset&&e.currentAccount===this.props.currentAccount||this._checkFeeStatus([e.coreAsset,e.baseAsset,e.quoteAsset],e.currentAccount),e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")?(this.setState(this._initialState(e)),Iu.a.changeViewSetting(au({},this._getLastMarketKey(),e.quoteAsset.get("symbol")+"_"+e.baseAsset.get("symbol")))):this.props.sub&&e.bucketSize!==this.props.bucketSize?this._changeBucketSize(e.bucketSize):void 0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._getWindowSize)}},{key:"_getFeeAssets",value:function(e,t,n){function r(e,t){-1===e.indexOf(t)&&e.push(t)}function i(e){return c[e]&&c[e].hasPoolBalance}function o(e){return c[e]&&c[e].hasBalance}function a(e,t,r){var a=void 0;return e=e.filter(function(e){return!!t[e.get("id")]&&(i(e.get("id"))&&o(e.get("id")))}),e.length?a=e[Math.min(e.length-1,r)]:(a=n,e.push(n)),{assets:e,asset:a}}var s=this,l=this.props.currentAccount,c=this.state.feeStatus,u=[n,e===n?t:e];r(u,e),r(u,t);var h=[n,t===n?e:t];r(h,e),r(h,t);var p={};l.get("balances",[]).filter(function(n,r){return["1.3.0",e.get("id"),t.get("id")].indexOf(r)>=0}).forEach(function(e,t){var n=eh.b.getObject(e);p[t]={balance:n?parseInt(n.get("balance"),10):0,fee:s._getFee(eh.b.getAsset(t))}});var f=a(u,p,this.state.sellFeeAssetIdx),d=f.assets,m=f.asset,y=a(h,p,this.state.buyFeeAssetIdx),g=y.assets,b=y.asset;return{sellFeeAsset:m,sellFeeAssets:d,sellFee:this._getFee(m),buyFeeAsset:b,buyFeeAssets:g,buyFee:this._getFee(b)}}},{key:"_getFee",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.coreAsset;return this.state.feeStatus[e.get("id")]&&this.state.feeStatus[e.get("id")].fee}},{key:"_verifyFee",value:function(e,t,n,r){var i=this._getFee(),o=e.getAmount()+t;return"1.3.0"===e.asset_id?i.getAmount()<=r?"1.3.0":null:o<=n?e.asset_id:i.getAmount()<=r&&"1.3.0"!==e.asset_id?"1.3.0":null}},{key:"_createLimitOrderConfirm",value:function(e,t,n,r,i,o){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments[7].preventDefault();var s=this.props.marketData,l=s.highestBid,c=s.lowestAsk,u=this.state["sell"===o?"ask":"bid"];n=u.for_sale.clone(n?parseInt(eh.b.getObject(n).toJS().balance,10):0),r=new ph.a({amount:r?parseInt(eh.b.getObject(r).toJS().balance,10):0});var h=this._getFee(i),p=this._verifyFee(h,u.for_sale.getAmount(),n.getAmount(),r.getAmount());if(!p)return n_.a.addNotification({message:"Insufficient funds to pay fees",level:"error"});if("buy"===o&&c){var f=this.state.bid.price.toReal()/c.getPrice();if(f>1.2)return this.refs.buy.show(),this.setState({buyDiff:f})}else if("sell"===o&&l){var d=1/(this.state.ask.price.toReal()/l.getPrice());if(d>1.2)return this.refs.sell.show(),this.setState({sellDiff:d})}var m=t.getIn(["bitasset","is_prediction_market"]);return u.for_sale.gt(n)&&!m?n_.a.addNotification({message:"Insufficient funds to place order, you need at least "+u.for_sale.getAmount({real:!0})+" "+t.get("symbol"),level:"error"}):u.for_sale.getAmount()>0&&u.to_receive.getAmount()>0?"sell"===o&&m&&a?this._createPredictionShort(p):void this._createLimitOrder(o,p):n_.a.addNotification({message:"Please enter a valid amount and price",level:"error"})}},{key:"_createLimitOrder",value:function(e,t){var n=this.state["sell"===e?"ask":"bid"],r=new ph.e({for_sale:n.for_sale,to_receive:n.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:t,amount:0}});return console.log("order:",JSON.stringify(r.toObject())),Mu.a.createLimitOrder2(r).then(function(e){e.error&&"wallet locked"!==e.error.message&&n_.a.addNotification({message:"Unknown error. Failed to place order for "+n.to_receive.getAmount({real:!0})+" "+n.to_receive.asset_id,level:"error"})}).catch(function(e){console.log("order failed:",e)})}},{key:"_createPredictionShort",value:function(e){var t=this.state.ask,n=new ph.e({for_sale:t.for_sale,to_receive:t.to_receive,seller:this.props.currentAccount.get("id"),fee:{asset_id:e,amount:0}});Promise.all([Object(eh.f)("getAsset",this.props.quoteAsset.getIn(["bitasset","options","short_backing_asset"]))]).then(function(e){var t=z_(e,1),r=t[0],i=new ph.a({amount:n.amount_for_sale.getAmount(),asset_id:r.get("id"),precision:r.get("precision")});Mu.a.createPredictionShort(n,i).then(function(e){e.error&&"wallet locked"!==e.error.message&&n_.a.addNotification({message:"Unknown error. Failed to place order for "+buyAssetAmount+" "+buyAsset.symbol,level:"error"})})})}},{key:"_forceBuy",value:function(e,t,n,r){var i=this.state["sell"===e?"ask":"bid"];n=i.for_sale.clone(n?parseInt(eh.b.getObject(n).get("balance"),10):0),r=new ph.a({amount:r?parseInt(eh.b.getObject(r).toJS().balance,10):0});var o=this._getFee(t),a=this._verifyFee(o,i.for_sale.getAmount(),n.getAmount(),r.getAmount());a?this._createLimitOrder(e,a):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_forceSell",value:function(e,t,n,r){var i=this.state["sell"===e?"ask":"bid"];n=i.for_sale.clone(n?parseInt(eh.b.getObject(n).get("balance"),10):0),r=new ph.a({amount:r?parseInt(eh.b.getObject(r).toJS().balance,10):0});var o=this._getFee(t),a=this._verifyFee(o,i.for_sale.getAmount(),n.getAmount(),r.getAmount());a?this._createLimitOrder(e,a):console.error("Unable to pay fees, aborting limit order creation")}},{key:"_cancelLimitOrder",value:function(e,t){t.preventDefault();var n=this.props.currentAccount;Mu.a.cancelLimitOrder(n.get("id"),e)}},{key:"_changeBucketSize",value:function(e,t){if(t&&t.preventDefault(),e!==this.props.bucketSize){Mu.a.changeBucketSize.defer(e);var n=this.props.sub.split("_");Mu.a.unSubscribeMarket.defer(n[0],n[1]),this.props.subToMarket(this.props,e)}}},{key:"_changeZoomPeriod",value:function(e,t){t.preventDefault(),e!==this.state.currentPeriod&&(this.setState({currentPeriod:e}),Iu.a.changeViewSetting({currentPeriod:e}))}},{key:"_depthChartClick",value:function(e,t,n,r){r.preventDefault();var i=this.state,o=i.bid,a=i.ask;o.price=new ph.f({base:this.state.bid.for_sale,quote:this.state.bid.to_receive,real:r.xAxis[0].value/n}),o.priceText=o.price.toReal(),a.price=new ph.f({base:this.state.ask.to_receive,quote:this.state.ask.for_sale,real:r.xAxis[0].value/n}),a.priceText=a.price.toReal();var s={bid:o,ask:a,depthLine:o.price.toReal()};this._setForSale(o,!0)||this._setReceive(o,!0),this._setReceive(a)||this._setForSale(a),this.setState(s)}},{key:"_flipBuySell",value:function(){Iu.a.changeViewSetting({flipBuySell:!this.state.flipBuySell}),this.setState({flipBuySell:!this.state.flipBuySell})}},{key:"_toggleOpenBuySell",value:function(){Iu.a.changeViewSetting({buySellOpen:!this.state.buySellOpen}),this.setState({buySellOpen:!this.state.buySellOpen})}},{key:"_toggleCharts",value:function(){Iu.a.changeViewSetting({showDepthChart:!this.state.showDepthChart}),this.setState({showDepthChart:!this.state.showDepthChart})}},{key:"_moveOrderBook",value:function(){Iu.a.changeViewSetting({leftOrderBook:!this.state.leftOrderBook}),this.setState({leftOrderBook:!this.state.leftOrderBook})}},{key:"_currentPriceClick",value:function(e,t){var n="bid"===e,r=this.state[e];r.price=t[n?"invert":"clone"](),r.priceText=r.price.toReal(),n?this._setForSale(r,n)||this._setReceive(r,n):this._setReceive(r,n)||this._setForSale(r,n),this.forceUpdate()}},{key:"_orderbookClick",value:function(e){var t=e.isBid(),n=e.totalToReceive({noCache:!0}),r=n.times(e.sellPrice()),i=new ph.f({base:t?r:n,quote:t?n:r}),o=this.state[t?"bid":"ask"];o.price=i,o.priceText=i.toReal();var a=au({},t?"ask":"bid",{for_sale:n,forSaleText:n.getAmount({real:!0}),to_receive:r,toReceiveText:r.getAmount({real:!0}),price:i,priceText:i.toReal()});t?this._setForSale(o,t)||this._setReceive(o,t):this._setReceive(o,t)||this._setForSale(o,t),this.setState(a)}},{key:"_borrowQuote",value:function(){this.refs.borrowQuote.show()}},{key:"_borrowBase",value:function(){this.refs.borrowBase.show()}},{key:"_onSelectIndicators",value:function(){this.refs.indicators.show()}},{key:"_getSettlementInfo",value:function(){var e=this.props,t=e.lowestCallPrice,n=e.feedPrice,r=e.quoteAsset,i=!1;return n&&(i=n.inverted?t<=n.toReal():t>=n.toReal()),!(!i||!t||r.getIn(["bitasset","is_prediction_market"]))}},{key:"_changeIndicator",value:function(e){var t=Object(gk.cloneDeep)(this.state.indicators);t[e]=!t[e],this.setState({indicators:t}),Iu.a.changeViewSetting({indicators:t})}},{key:"_changeIndicatorSetting",value:function(e,t){t.preventDefault();var n=Object(gk.cloneDeep)(this.state.indicatorSettings),r=parseInt(t.target.value,10);isNaN(r)&&(r=1),n[e]=r,this.setState({indicatorSettings:n}),Iu.a.changeViewSetting({indicatorSettings:n})}},{key:"onChangeFeeAsset",value:function(e,t){t.preventDefault(),"buy"===e?(this.setState({buyFeeAssetIdx:t.target.value}),Iu.a.changeViewSetting({buyFeeAssetIdx:t.target.value})):(this.setState({sellFeeAssetIdx:t.target.value}),Iu.a.changeViewSetting({sellFeeAssetIdx:t.target.value}))}},{key:"onChangeChartHeight",value:function(e){var t=e.value,n=e.increase,r=t||this.state.chartHeight+(n?20:-20);console.log("newHeight",r),this.setState({chartHeight:r}),Iu.a.changeViewSetting({chartHeight:r})}},{key:"_toggleBuySellPosition",value:function(){this.setState({buySellTop:!this.state.buySellTop}),Iu.a.changeViewSetting({buySellTop:!this.state.buySellTop})}},{key:"_setReceive",value:function(e,t){return!(!e.price.isValid()||!e.for_sale.hasAmount())&&(e.to_receive=e.for_sale.times(e.price,t),e.toReceiveText=e.to_receive.getAmount({real:!0}).toString(),!0)}},{key:"_setForSale",value:function(e,t){return!(!e.price.isValid()||!e.to_receive.hasAmount())&&(e.for_sale=e.to_receive.times(e.price,t),e.forSaleText=e.for_sale.getAmount({real:!0}).toString(),!0)}},{key:"_setPrice",value:function(e){return!(!e.for_sale.hasAmount()||!e.to_receive.hasAmount())&&(e.price=new ph.f({base:e.for_sale,quote:e.to_receive}),e.priceText=e.price.toReal().toString(),!0)}},{key:"_onInputPrice",value:function(e,t){var n=this.state[e],r="bid"===e;n.price=new ph.f({base:n[r?"for_sale":"to_receive"],quote:n[r?"to_receive":"for_sale"],real:parseFloat(t.target.value)||0}),r?this._setForSale(n,r)||this._setReceive(n,r):this._setReceive(n,r)||this._setForSale(n,r),n.priceText=t.target.value,this.forceUpdate()}},{key:"_onInputSell",value:function(e,t,n){var r=this.state[e];r.for_sale.setAmount({real:parseFloat(n.target.value)||0}),r.price.isValid()?this._setReceive(r,t):this._setPrice(r),r.forSaleText=n.target.value,this.forceUpdate()}},{key:"_onInputReceive",value:function(e,t,n){var r=this.state[e];r.to_receive.setAmount({real:parseFloat(n.target.value)||0}),r.price.isValid()?this._setForSale(r,t):this._setPrice(r),r.toReceiveText=n.target.value,this.forceUpdate()}},{key:"isMarketFrozen",value:function(){var e=this.props,t=e.baseAsset,n=e.quoteAsset,r=t.getIn(["options","whitelist_markets"]).toJS(),i=n.getIn(["options","whitelist_markets"]).toJS(),o=t.getIn(["options","blacklist_markets"]).toJS(),a=n.getIn(["options","blacklist_markets"]).toJS();return i.length&&-1===i.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:r.length&&-1===r.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:a.length&&-1!==a.indexOf(t.get("id"))?{isFrozen:!0,frozenAsset:n.get("symbol")}:o.length&&-1!==o.indexOf(n.get("id"))?{isFrozen:!0,frozenAsset:t.get("symbol")}:{isFrozen:!1}}},{key:"_toggleMiniChart",value:function(){Iu.a.changeViewSetting({miniDepthChart:!this.props.miniDepthChart})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentAccount,r=t.marketLimitOrders,i=t.marketCallOrders,o=t.marketData,a=t.activeMarketHistory,s=t.invertedCalls,l=t.starredMarkets,c=t.quoteAsset,u=t.baseAsset,h=t.lowestCallPrice,p=t.marketStats,f=t.marketReady,d=t.marketSettleOrders,m=t.bucketSize,y=t.totals,g=t.feedPrice,b=t.buckets,v=t.coreAsset,w=o.combinedBids,x=o.combinedAsks,k=o.lowestAsk,_=o.highestBid,T=o.flatBids,S=o.flatAsks,P=o.flatCalls,E=o.flatSettles,C=this.state,O=C.bid,A=C.ask,M=C.leftOrderBook,D=C.showDepthChart,N=C.tools,R=C.chartHeight,j=C.buyDiff,L=C.sellDiff,F=C.indicators,I=C.indicatorSettings,B=C.width,z=C.buySellTop,W=this.isMarketFrozen(),q=W.isFrozen,H=W.frozenAsset,Y=null,X=null,V=null,G=null,U=null,K=null,Z=void 0,$=void 0,Q=!1,J=void 0,ee=void 0,te="1.2.3"===n.get("id"),ne=this.props.viewSettings.get("showVolumeChart",!0);if(c.size&&u.size&&n.size){if(Y=u,X=c,$=Y.get("symbol"),Z=X.get("symbol"),V=n.get("balances").toJS())for(var re in V)re===X.get("id")&&(G=V[re]),re===Y.get("id")&&(U=V[re]),"1.3.0"===re&&(K=V[re]);Q=this._getSettlementInfo()}var ie=!!c.get("bitasset_data_id"),oe=!!u.get("bitasset_data_id"),ae=k&&_?k.getPrice()-_.getPrice():0;if(a.size){var se=a.take(3),le=se.first(),ce=se.last(),ue=void 0,he=void 0,pe=!1;le.pays.asset_id===Y.get("id")?(ue=Y,he=X,pe=!0):(ue=X,he=Y);var fe=Y.get("id").split(".")[2]>X.get("id").split(".")[2];if(J=Qu.a.parse_order_history(le,ue,he,pe,fe),pe=!1,ce){ce.pays.asset_id===Y.get("id")?(ue=Y,he=X,pe=!0):(ue=X,he=Y);var de=Qu.a.parse_order_history(ce,ue,he,pe,fe);ee=J.full===de.full?"":J.full-de.full>0?"change-up":"change-down"}}if(!v||!this.state.feeStatus)return null;var me=this._getFeeAssets(X,Y,v),ye=me.sellFeeAsset,ge=me.sellFeeAssets,be=me.sellFee,ve=me.buyFeeAsset,we=me.buyFeeAssets,xe=me.buyFee,ke=Y.getIn(["bitasset","is_prediction_market"])||X.getIn(["bitasset","is_prediction_market"]),_e=null;ke&&(_e=c.getIn(["options","description"]),_e=Kk.a.parseDescription(_e).main);var Te=!1;B<1e3&&(Te=!0,M=!1);var Se=M?2:1,Pe=Math.max(this.state.height>1100?R:R-125,300),Ee=q?null:Tu.a.createElement(xh,{onBorrow:!te&&oe?this._borrowBase.bind(this):null,currentAccount:n,backedCoin:this.props.backedCoins.find(function(e){return e.symbol===Y.get("symbol")}),currentBridges:this.props.bridgeCoins.get(Y.get("symbol"))||null,smallScreen:Te,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:zu()("small-12 no-padding middle-content",{disabled:te},M||Te?"medium-6":"medium-6 xlarge-4",this.state.flipBuySell?"order-"+(z?2:5*Se)+" sell-form":"order-"+(z?1:4*Se)+" buy-form"),type:"bid",amount:O.toReceiveText,price:O.priceText,total:O.forSaleText,quote:X,base:Y,amountChange:this._onInputReceive.bind(this,"bid",!0),priceChange:this._onInputPrice.bind(this,"bid"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputSell.bind(this,"bid",!1),balance:U,balanceId:Y.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,X,Y,U,K,ve,"buy"),balancePrecision:Y.get("precision"),quotePrecision:X.get("precision"),totalPrecision:Y.get("precision"),currentPrice:k.getPrice(),currentPriceObject:k,account:n.get("name"),fee:xe,hasFeeBalance:this.state.feeStatus[xe.asset_id].hasBalance,feeAssets:we,feeAsset:ve,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"buy"),isPredictionMarket:Y.getIn(["bitasset","is_prediction_market"]),onFlip:this.state.flipBuySell?null:this._flipBuySell.bind(this),onTogglePosition:this._toggleBuySellPosition.bind(this)}),Ce=q?null:Tu.a.createElement(xh,{onBorrow:!te&&ie?this._borrowQuote.bind(this):null,currentAccount:n,backedCoin:this.props.backedCoins.find(function(e){return e.symbol===X.get("symbol")}),currentBridges:this.props.bridgeCoins.get(X.get("symbol"))||null,smallScreen:Te,isOpen:this.state.buySellOpen,onToggleOpen:this._toggleOpenBuySell.bind(this),className:zu()("small-12 no-padding middle-content",{disabled:te},M||Te?"medium-6":"medium-6 xlarge-4",this.state.flipBuySell?"order-"+(z?1:4*Se)+" buy-form":"order-"+(z?2:5*Se)+" sell-form"),type:"ask",amount:A.forSaleText,price:A.priceText,total:A.toReceiveText,quote:X,base:Y,amountChange:this._onInputSell.bind(this,"ask",!1),priceChange:this._onInputPrice.bind(this,"ask"),setPrice:this._currentPriceClick.bind(this),totalChange:this._onInputReceive.bind(this,"ask",!0),balance:G,balanceId:X.get("id"),onSubmit:this._createLimitOrderConfirm.bind(this,Y,X,G,K,ye,"sell"),balancePrecision:X.get("precision"),quotePrecision:X.get("precision"),totalPrecision:Y.get("precision"),currentPrice:_.getPrice(),currentPriceObject:_,account:n.get("name"),fee:be,hasFeeBalance:this.state.feeStatus[be.asset_id].hasBalance,feeAssets:ge,feeAsset:ye,onChangeFeeAsset:this.onChangeFeeAsset.bind(this,"sell"),isPredictionMarket:X.getIn(["bitasset","is_prediction_market"]),onFlip:this.state.flipBuySell?this._flipBuySell.bind(this):null}),Oe=Tu.a.createElement(Uu,{latest:J,changeClass:ee,orders:r,calls:i,invertedCalls:s,combinedBids:w,combinedAsks:x,highestBid:_,lowestAsk:k,totalBids:y.bid,totalAsks:y.ask,base:Y,quote:X,baseSymbol:$,quoteSymbol:Z,onClick:this._orderbookClick.bind(this),horizontal:!M,moveOrderBook:this._moveOrderBook.bind(this),flipOrderBook:this.props.viewSettings.get("flipOrderBook"),marketReady:f,wrapperClass:"order-"+(z?3:1)+" xlarge-order-"+(z?4:1)});return Tu.a.createElement("div",{className:"grid-block page-layout market-layout"},Tu.a.createElement(m_,null),M?Tu.a.createElement("div",{className:"grid-block left-column shrink no-overflow"},Oe):null,Tu.a.createElement("div",{style:{paddingTop:0},className:zu()("grid-block main-content vertical no-overflow")},Tu.a.createElement(L_,{quoteAsset:c,baseAsset:u,hasPrediction:ke,starredMarkets:l,lowestAsk:k,highestBid:_,lowestCallPrice:h,showCallLimit:Q,feedPrice:g,marketReady:f,latestPrice:J,showDepthChart:D,onSelectIndicators:this._onSelectIndicators.bind(this),marketStats:p,onToggleCharts:this._toggleCharts.bind(this),showVolumeChart:ne}),Tu.a.createElement("div",{className:"grid-block vertical no-padding",id:"CenterContent",ref:"center"},D?Tu.a.createElement("div",{className:"grid-block vertical no-padding shrink"},Tu.a.createElement(e_,{marketReady:f,orders:r,showCallLimit:Q,call_orders:i,flat_asks:S,flat_bids:T,flat_calls:Q?P:[],flat_settles:this.props.settings.get("showSettles")&&E,settles:d,invertedCalls:s,totalBids:y.bid,totalAsks:y.ask,base:Y,quote:X,height:Pe,onClick:this._depthChartClick.bind(this,Y,X),settlementPrice:!ke&&g&&g.toReal(),spread:ae,LCP:Q?h:null,leftOrderBook:M,hasPrediction:ke,noFrame:!1,verticalOrderbook:M,theme:this.props.settings.get("themes")})):Tu.a.createElement("div",{className:"grid-block shrink no-overflow",id:"market-charts"},Tu.a.createElement(Uk,{priceData:this.props.priceData,volumeData:this.props.volumeData,base:Y,quote:X,baseSymbol:$,quoteSymbol:Z,height:Pe,leftOrderBook:M,marketReady:f,indicators:F,indicatorSettings:I,latest:J,theme:this.props.settings.get("themes"),zoom:this.state.currentPeriod,tools:N,showVolumeChart:ne,buckets:b,bucketSize:m,currentPeriod:this.state.currentPeriod,changeBucketSize:this._changeBucketSize.bind(this),changeZoomPeriod:this._changeZoomPeriod.bind(this),onSelectIndicators:this._onSelectIndicators.bind(this),onChangeIndicators:this._changeIndicator.bind(this),onChangeTool:function(t){var n=Object(gk.cloneDeep)(e.state.tools);for(var r in n)n[r]=r===t&&!n[r];e.setState({tools:n},function(){e.setState({tools:{fib:!1,trendline:!1}})})},onChangeChartHeight:this.onChangeChartHeight.bind(this),chartHeight:R,onToggleVolume:function(){Iu.a.changeViewSetting({showVolumeChart:!ne})},onChangeIndicatorSetting:this._changeIndicatorSetting.bind(this)})),Tu.a.createElement("div",{className:"grid-block no-overflow wrap shrink"},ke?Tu.a.createElement("div",{className:"small-12 no-overflow",style:{margin:"0 10px",lineHeight:"1.2rem"}},Tu.a.createElement("p",null,_e)):null,q?Tu.a.createElement("div",{className:"error small-12 no-overflow",style:{margin:"0 10px",lineHeight:"1.2rem"}},Tu.a.createElement(Fu.a,{content:"exchange.market_frozen",asset:H,component:"p"})):null,Ee,Ce,Tu.a.createElement(ih,{className:zu()(Te||M?"":"medium-6 xlarge-4","no-padding no-overflow middle-content small-12 medium-6 order-5 xlarge-order-3"),headerStyle:{paddingTop:0},history:a,currentAccount:n,myHistory:n.get("history"),base:Y,quote:X,baseSymbol:$,quoteSymbol:Z,isNullAccount:te}),M?null:Oe,Tu.a.createElement(v_,{type:"buy",ref:"buy",onForce:this._forceBuy.bind(this,"buy",ve,U,K),diff:j,hasOrders:x.length>0}),Tu.a.createElement(v_,{type:"sell",ref:"sell",onForce:this._forceSell.bind(this,"sell",ye,G,K),diff:L,hasOrders:w.length>0}),r.size>0&&Y&&X?Tu.a.createElement(Du.a,{smallScreen:this.props.smallScreen,className:zu()({disabled:te},Te||M?"":"medium-6 xlarge-4","small-12 medium-6 no-padding align-spaced ps-container middle-content order-6"),key:"open_orders",orders:r,currentAccount:n.get("id"),base:Y,quote:X,baseSymbol:$,quoteSymbol:Z,onCancel:this._cancelLimitOrder.bind(this),flipMyOrders:this.props.viewSettings.get("flipMyOrders")}):null),"1.3.0"===Y.get("id")||"1.3.0"===X.get("id")?Tu.a.createElement(P_,{key:"settle_orders",className:zu()(Te||M?"":"medium-6 xlarge-4 order-12","small-12 medium-6 no-padding align-spaced ps-container middle-content order-12"),orders:d,base:Y,quote:X,baseSymbol:$,quoteSymbol:Z}):null)),Tu.a.createElement("div",{className:"grid-block shrink right-column no-overflow vertical show-for-medium",style:{paddingTop:0,minWidth:358,maxWidth:400}},Tu.a.createElement("div",{className:"grid-block no-padding no-margin vertical"},Tu.a.createElement(oh.a,{className:"left-order-book no-padding no-overflow",headerStyle:{paddingTop:0},columns:[{name:"star",index:1},{name:"market",index:2},{name:"vol",index:3},{name:"price",index:4},{name:"change",index:5}],findColumns:[{name:"market",index:1},{name:"issuer",index:2},{name:"vol",index:3},{name:"add",index:4}],current:Z+"_"+$})),Tu.a.createElement("div",{style:{padding:this.props.miniDepthChart?"0 0 40px 0":0},className:"grid-block no-margin vertical shrink"},Tu.a.createElement("div",{onClick:this._toggleMiniChart.bind(this),className:"exchange-content-header clickable",style:{textAlign:"left",paddingRight:10}},this.props.miniDepthChart?Tu.a.createElement("span",null,"▼"):Tu.a.createElement("span",null,"▲")),this.props.miniDepthChart?Tu.a.createElement(e_,{marketReady:f,orders:r,showCallLimit:Q,call_orders:i,flat_asks:S,flat_bids:T,flat_calls:Q?P:[],flat_settles:this.props.settings.get("showSettles")&&E,settles:d,invertedCalls:s,totalBids:y.bid,totalAsks:y.ask,base:Y,quote:X,height:200,onClick:this._depthChartClick.bind(this,Y,X),settlementPrice:!ke&&g&&g.toReal(),spread:ae,LCP:Q?h:null,leftOrderBook:M,hasPrediction:ke,noText:!0,theme:this.props.settings.get("themes")}):null)),!te&&ie?Tu.a.createElement(t_.a,{ref:"borrowQuote",quote_asset:c.get("id"),backing_asset:c.getIn(["bitasset","options","short_backing_asset"]),account:n}):null,!te&&oe?Tu.a.createElement(t_.a,{ref:"borrowBase",quote_asset:u.get("id"),backing_asset:u.getIn(["bitasset","options","short_backing_asset"]),account:n}):null)}}]),t}(Tu.a.Component);q_.propTypes={marketCallOrders:_u.PropTypes.object.isRequired,activeMarketHistory:_u.PropTypes.object.isRequired,viewSettings:_u.PropTypes.object.isRequired,priceData:_u.PropTypes.array.isRequired,volumeData:_u.PropTypes.array.isRequired},q_.defaultProps={marketCallOrders:[],activeMarketHistory:{},viewSettings:{},priceData:[],volumeData:[]};var H_=q_,Y_=n(167),X_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),G_=function(e){function t(){return uu(this,t),hu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return pu(t,e),V_(t,[{key:"render",value:function(){var e=this.props.params.marketID.split("_");return Tu.a.createElement(Au.a,{stores:[Su.a,Pu.a,Eu.a],inject:{marketLimitOrders:function(){return Su.a.getState().marketLimitOrders},marketCallOrders:function(){return Su.a.getState().marketCallOrders},invertedCalls:function(){return Su.a.getState().invertedCalls},marketSettleOrders:function(){return Su.a.getState().marketSettleOrders},marketData:function(){return Su.a.getState().marketData},totals:function(){return Su.a.getState().totals},priceData:function(){return Su.a.getState().priceData},volumeData:function(){return Su.a.getState().volumeData},activeMarketHistory:function(){return Su.a.getState().activeMarketHistory},bucketSize:function(){return Su.a.getState().bucketSize},buckets:function(){return Su.a.getState().buckets},lowestCallPrice:function(){return Su.a.getState().lowestCallPrice},feedPrice:function(){return Su.a.getState().feedPrice},currentAccount:function(){return Pu.a.getState().currentAccount},linkedAccounts:function(){return Pu.a.getState().linkedAccounts},viewSettings:function(){return Eu.a.getState().viewSettings},settings:function(){return Eu.a.getState().settings},starredMarkets:function(){return Eu.a.getState().starredMarkets},marketStats:function(){return Su.a.getState().marketStats},marketReady:function(){return Su.a.getState().marketReady},backedCoins:function(){return Cu.a.getState().backedCoins.get("OPEN",[])},bridgeCoins:function(){return Cu.a.getState().bridgeCoins},miniDepthChart:function(){return Eu.a.getState().viewSettings.get("miniDepthChart",!0)}}},Tu.a.createElement(eT,{router:this.props.router,quoteAsset:e[0],baseAsset:e[1]}))}}]),t}(Tu.a.Component),U_=Object(eh.e)(),K_=void 0,Z_=void 0,$_=void 0,Q_=void 0,J_=void 0,eT=function(e){function t(){uu(this,t);var e=hu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={sub:null},e._subToMarket=e._subToMarket.bind(e),e}return pu(t,e),V_(t,[{key:"componentWillMount",value:function(){var e=this;this.props.quoteAsset.toJS&&this.props.baseAsset.toJS&&this._subToMarket(this.props),U_.on("cancel-order",Z_=Mu.a.cancelLimitOrderSuccess),U_.on("close-call",K_=Mu.a.closeCallOrderSuccess),U_.on("call-order-update",$_=Mu.a.callOrderUpdate),U_.on("bitasset-update",Q_=Mu.a.feedUpdate),U_.on("settle-order-update",J_=function(t){var n=market_utils.isMarketAsset(e.props.quoteAsset,e.props.baseAsset),r=n.isMarketAsset,i=n.marketAsset;console.log("settle-order-update:",t,"isMarketAsset:",r,"marketAsset:",i),r&&i.id===t.balance.asset_id&&Mu.a.settleOrderUpdate(i.id)})}},{key:"componentWillReceiveProps",value:function(e){if(e.baseAsset&&e.baseAsset.getIn(["bitasset","is_prediction_market"])&&this.props.router.push("/market/"+e.baseAsset.get("symbol")+"_"+e.quoteAsset.get("symbol")),e.quoteAsset&&e.baseAsset&&!this.state.sub)return this._subToMarket(e);if(e.quoteAsset.get("symbol")!==this.props.quoteAsset.get("symbol")||e.baseAsset.get("symbol")!==this.props.baseAsset.get("symbol")){var t=this.state.sub.split("_");return Mu.a.unSubscribeMarket(t[0],t[1]),this._subToMarket(e)}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.quoteAsset,n=e.baseAsset;Mu.a.unSubscribeMarket(t.get("id"),n.get("id")),U_&&(U_.off("cancel-order",Z_),U_.off("close-call",K_),U_.off("call-order-update",$_),U_.off("bitasset-update",Q_),U_.off("settle-order-update",J_))}},{key:"_subToMarket",value:function(e,t){var n=e.quoteAsset,r=e.baseAsset,i=e.bucketSize;t&&(i=t),n.get("id")&&r.get("id")&&(Mu.a.subscribeMarket.defer(r,n,i),this.setState({sub:n.get("id")+"_"+r.get("id")}))}},{key:"render",value:function(){return Tu.a.createElement("div",{className:"grid-block vertical"},this.props.marketReady?null:Tu.a.createElement(Y_.a,null),Tu.a.createElement(H_,X_({},this.props,{sub:this.state.sub,subToMarket:this._subToMarket})))}}]),t}(Tu.a.Component);eT.propTypes={currentAccount:lh.a.ChainAccount.isRequired,quoteAsset:lh.a.ChainAsset.isRequired,baseAsset:lh.a.ChainAsset.isRequired,coreAsset:lh.a.ChainAsset.isRequired},eT.defaultProps={currentAccount:"1.2.3",coreAsset:"1.3.0"},eT=Object(ch.a)(eT,{keep_updating:!0,show_loader:!0});t.default=G_}});
//# sourceMappingURL=11.js.map